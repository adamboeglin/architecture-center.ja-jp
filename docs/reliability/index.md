---
title: 信頼性の高い Azure アプリケーションを設計する
description: Azure アプリケーションの信頼性と可用性を高める方法の概要
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: ''
ms.openlocfilehash: 16c1daeed9b1d79f33051eb69571f1574bf9be4d
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59644016"
---
# <a name="designing-reliable-azure-applications"></a><span data-ttu-id="e2b23-103">信頼性の高い Azure アプリケーションの設計</span><span class="sxs-lookup"><span data-stu-id="e2b23-103">Designing reliable Azure applications</span></span>

<span data-ttu-id="e2b23-104">クラウド内で信頼性の高いアプリケーションを構築することは、従来のアプリケーション開発とは異なります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-104">Building a reliable application in the cloud is different from traditional application development.</span></span> <span data-ttu-id="e2b23-105">従来は、スケールアップのためによりハイエンドのハードウェアを購入する場合がありましたが、クラウド環境では、スケールアップではなくスケールアウトを行います。</span><span class="sxs-lookup"><span data-stu-id="e2b23-105">While historically you may have purchased higher-end hardware to scale up, in a cloud environment you scale out instead of up.</span></span> <span data-ttu-id="e2b23-106">目標は、障害がまったく発生しないように努力することではなく、障害が発生した単一コンポーネントの影響を最小限に抑えることです。</span><span class="sxs-lookup"><span data-stu-id="e2b23-106">Instead of trying to prevent failures altogether, the goal is to minimize the effects of a single failing component.</span></span>

<span data-ttu-id="e2b23-107">信頼性の高いアプリケーションとは、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="e2b23-107">Reliable applications are:</span></span>

- <span data-ttu-id="e2b23-108">**回復性があり**、障害から適切に復旧します。アプリケーションは完全に復旧するまで、ダウンタイムおよびデータ損失を最小限に抑えて機能し続けます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-108">**Resilient** and recover gracefully from failures, and they continue to function with minimal downtime and data loss before full recovery.</span></span>
- <span data-ttu-id="e2b23-109">**高可用性 (HA)** があり、大幅なダウンタイムもなく正常な状態で設計どおり実行されます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-109">**Highly available (HA)** and run as designed in a healthy state with no significant downtime.</span></span>

<span data-ttu-id="e2b23-110">これらの要素の連携&mdash;およびコストに与える影響&mdash;について理解することは、信頼性の高いアプリケーションを構築する上で不可欠です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-110">Understanding how these elements work together &mdash; and how they affect cost &mdash; is essential to building a reliable application.</span></span> <span data-ttu-id="e2b23-111">これは、許容されるダウンタイムの程度、会社が負担する潜在的なコスト、および復旧中に必要な機能を判断する場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-111">It can help you determine how much downtime is acceptable, the potential cost to your business, and which functions are necessary during a recovery.</span></span>

<span data-ttu-id="e2b23-112">この記事では、Azure アプリケーションの設計プロセスの各ステップに信頼性を組み込む方法について概説します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-112">This article provides a brief overview of building reliability into each step of the Azure application design process.</span></span> <span data-ttu-id="e2b23-113">各セクションには、プロセス内のその特定のステップに信頼性を統合する方法について詳述した記事へのリンクが含まれています。</span><span class="sxs-lookup"><span data-stu-id="e2b23-113">Each section includes a link to an in-depth article on how to integrate reliability into that specific step in the process.</span></span> <span data-ttu-id="e2b23-114">個々の Azure サービスでの信頼性に関する考慮事項については、「[特定の Azure サービスの回復性のチェックリスト](../checklist/resiliency-per-service.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-114">If you're looking for reliability considerations for individual Azure services, review the [Resiliency checklist for specific Azure services](../checklist/resiliency-per-service.md).</span></span>

## <a name="build-for-reliability"></a><span data-ttu-id="e2b23-115">信頼性の構築</span><span class="sxs-lookup"><span data-stu-id="e2b23-115">Build for reliability</span></span>

<span data-ttu-id="e2b23-116">このセクションでは、信頼性の高い Azure アプリケーションを構築するための 6 つの手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-116">This section describes six steps for building a reliable Azure application.</span></span> <span data-ttu-id="e2b23-117">各ステップは、プロセスや用語を詳しく定義したセクションとリンクされています。</span><span class="sxs-lookup"><span data-stu-id="e2b23-117">Each step links to a section that further defines the process and terms.</span></span>

1. [<span data-ttu-id="e2b23-118">**要件を定義する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-118">**Define requirements.**</span></span>](#define-requirements) <span data-ttu-id="e2b23-119">分解したワークロードやビジネス ニーズに基づいて可用性と復旧の要件を作成します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-119">Develop availability and recovery requirements based on decomposed workloads and business needs.</span></span>
1. [<span data-ttu-id="e2b23-120">**アーキテクチャのベスト プラクティスを使用する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-120">**Use architectural best practices.**</span></span>](#use-architectural-best-practices) <span data-ttu-id="e2b23-121">実証済みプラクティスに従い、アーキテクチャ内で考えられる障害点を識別し、アプリケーションが障害に対応する方法を決定します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-121">Follow proven practices, identify possible failure points in the architecture, and determine how the application will respond to failure.</span></span>
1. [<span data-ttu-id="e2b23-122">**シミュレーションと強制フェールオーバーをテストする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-122">**Test with simulations and forced failovers.**</span></span>](#test-with-simulations-and-forced-failovers) <span data-ttu-id="e2b23-123">障害をシミュレートし、強制フェールオーバーをトリガーし、これらの障害の検出テストおよび障害からの復旧テストを行います。</span><span class="sxs-lookup"><span data-stu-id="e2b23-123">Simulate faults, trigger forced failovers, and test detection and recovery from these failures.</span></span>
1. [<span data-ttu-id="e2b23-124">**アプリケーションの一貫性をデプロイする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-124">**Deploy the application consistently.**</span></span>](#deploy-the-application-consistently) <span data-ttu-id="e2b23-125">信頼性が高く反復可能なプロセスを使用して運用環境にリリースします。</span><span class="sxs-lookup"><span data-stu-id="e2b23-125">Release to production using reliable and repeatable processes.</span></span>
1. [<span data-ttu-id="e2b23-126">**アプリケーションの正常性を監視する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-126">**Monitor application health.**</span></span>](#monitor-application-health) <span data-ttu-id="e2b23-127">障害を検出し、潜在的な障害の指標を監視し、ご利用のアプリケーションの正常性を評価します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-127">Detect failures, monitor indicators of potential failures, and gauge the health of your applications.</span></span>
1. [<span data-ttu-id="e2b23-128">**障害と災害に対応する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-128">**Respond to failures and disasters.**</span></span>](#respond-to-failures-and-disasters) <span data-ttu-id="e2b23-129">障害が発生した日時を特定し、確定した戦略に基づいて障害に対処する方法を決定します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-129">Identify when a failure occurs, and determine how to address it based on established strategies.</span></span>

## <a name="define-requirements"></a><span data-ttu-id="e2b23-130">要件の定義</span><span class="sxs-lookup"><span data-stu-id="e2b23-130">Define requirements</span></span>

<span data-ttu-id="e2b23-131">ビジネス ニーズを特定し、それに応えるための信頼性計画を作成します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-131">Identify your business needs, and build your reliability plan to address them.</span></span> <span data-ttu-id="e2b23-132">以下、具体例に沿って説明します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-132">Consider the following:</span></span>

- <span data-ttu-id="e2b23-133">**ワークロードと使用状況を特定する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-133">**Identify workloads and usage.**</span></span> <span data-ttu-id="e2b23-134">"*ワークロード*" とは、ビジネス ロジックとデータ ストレージの要件の観点から、他のタスクとは論理的に区別される独特な機能またはタスクです。</span><span class="sxs-lookup"><span data-stu-id="e2b23-134">A *workload* is a distinct capability or task that is logically separated from other tasks, in terms of business logic and data storage requirements.</span></span> <span data-ttu-id="e2b23-135">各ワークロードでは、可用性、スケーラビリティ、データの一貫性、およびディザスター リカバリーの要件がそれぞれ異なります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-135">Each workload has different requirements for availability, scalability, data consistency, and disaster recovery.</span></span>
- <span data-ttu-id="e2b23-136">**使用状況パターンについて計画する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-136">**Plan for usage patterns.**</span></span> <span data-ttu-id="e2b23-137">*使用状況パターン*もまた、要件に関与します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-137">*Usage patterns* also play a role in requirements.</span></span> <span data-ttu-id="e2b23-138">重要な期間と重大でない期間中での要件の違いを特定します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-138">Identify differences in requirements during critical and non-critical periods.</span></span> <span data-ttu-id="e2b23-139">たとえば、納税申告用アプリケーションは、申告期間中はフェールバックできません。</span><span class="sxs-lookup"><span data-stu-id="e2b23-139">For example, a tax-filing application can't fail during a filing deadline.</span></span> <span data-ttu-id="e2b23-140">稼働時間を確保するには、1 つのリージョンで障害が発生した場合に備えていくつかのリージョン間での冗長性を計画します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-140">To ensure uptime, plan redundancy across several regions in case one fails.</span></span> <span data-ttu-id="e2b23-141">逆に、重大でない期間中はコストを最小限に抑えるために、ご利用のアプリケーションを 1 つのリージョンで実行できます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-141">Conversely, to minimize costs during non-critical periods, you can run your application in a single region.</span></span>
- <span data-ttu-id="e2b23-142">**可用性のメトリックを確定する &mdash; "*平均復旧時間*" (MTTR) と "*平均故障間隔*" (MTBF)。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-142">**Establish availability metrics &mdash; *mean time to recovery* (MTTR) and *mean time between failures* (MTBF).**</span></span> <span data-ttu-id="e2b23-143">MTTR は、障害発生後、コンポーネントを復元するために必要な平均時間です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-143">MTTR is the average time it takes to restore a component after a failure.</span></span> <span data-ttu-id="e2b23-144">MTBF は、故障と故障の間の、コンポーネントが持続すると合理的に予測できる時間の長さとなりました。</span><span class="sxs-lookup"><span data-stu-id="e2b23-144">MTBF is now long a component can reasonably expect to last between outages.</span></span> <span data-ttu-id="e2b23-145">これらのメジャーを使用して、冗長性を追加する場所を特定し、顧客に合ったサービス レベル アグリーメント (SLA) を決定します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-145">Use these measures to determine where to add redundancy and to determine service-level agreements (SLAs) for customers.</span></span>  
- <span data-ttu-id="e2b23-146">**復旧メトリックを確定する &mdash; 目標復旧時間と復旧ポイントの目標 (RPO)。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-146">**Establish recovery metrics &mdash; recovery time objective and recovery point objective (RPO).**</span></span> <span data-ttu-id="e2b23-147">*RTO* は、インシデントの発生後に、アプリケーションを使用不可状態にすることができる最大許容時間です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-147">*RTO* is the maximum acceptable time an application can be unavailable after an incident.</span></span> <span data-ttu-id="e2b23-148">*RPO* は、障害発生時に許容できるデータ損失の最大期間です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-148">*RPO* is the maximum duration of data loss that is acceptable during a disaster.</span></span> <span data-ttu-id="e2b23-149">これらの値を取得するには、リスクの評価を実施して、組織でのダウンタイムまたはデータ損失のコストとリスクを確実に把握してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-149">To derive these values, conduct a risk assessment and make sure you understand the cost and risk of downtime or data loss in your organization.</span></span>
    > [!NOTE]
    > <span data-ttu-id="e2b23-150">高可用性の設定内の*任意*の重要なコンポーネントの MTTR がシステム RTO を超えた場合、システム内の障害によって、許容できないビジネスの中断が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-150">If the MTTR of *any* critical component in a highly available setup exceeds the system RTO, a failure in the system might cause an unacceptable business disruption.</span></span> <span data-ttu-id="e2b23-151">つまり、定義されている RTO 内でシステムを復旧させることができなくなります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-151">That is, you can't restore the system within the defined RTO.</span></span>
- <span data-ttu-id="e2b23-152">**ワークロードの可用性の目標を決定する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-152">**Determine workload availability targets.**</span></span> <span data-ttu-id="e2b23-153">アプリケーションのアーキテクチャが自社のビジネス要件を確実に満たすようにするには、ワークロードごとにターゲット SLA を定義します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-153">To ensure that application architecture meets your business requirements, define target SLAs for each workload.</span></span> <span data-ttu-id="e2b23-154">アプリケーションの依存関係に加えて、可用性の要件を満たす上でのコストと複雑さを考慮します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-154">Account for the cost and complexity of meeting availability requirements, in addition to application dependencies.</span></span>
- <span data-ttu-id="e2b23-155">**サービス レベル アグリーメントを理解する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-155">**Understand service-level agreements.**</span></span> <span data-ttu-id="e2b23-156">Azure では、稼働時間と接続に関する Microsoft の確約内容が SLA に記載されています。</span><span class="sxs-lookup"><span data-stu-id="e2b23-156">In Azure, the SLA describes the Microsoft commitments for uptime and connectivity.</span></span> <span data-ttu-id="e2b23-157">特定のサービスの SLA が 99.9% の場合は、そのサービスを 99.9% の時間、使用可能であることが期待できるということになります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-157">If the SLA for a particular service is 99.9 percent, you should expect the service to be available 99.9 percent of the time.</span></span>  

    <span data-ttu-id="e2b23-158">使用するソリューション内のワークロードごとに独自のターゲット SLA を定義すれば、アーキテクチャがビジネス要件を満たしているかどうかを判定できます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-158">Define your own target SLAs for each workload in your solution, so you can determine whether the architecture meets the business requirements.</span></span> <span data-ttu-id="e2b23-159">たとえば、ワークロードは 99.99% の稼働時間を必要としているが、そのワークロードは SLA が 99.9% のサービスに依存している場合、そのサービスをシステムの単一障害点にしてはなりません。</span><span class="sxs-lookup"><span data-stu-id="e2b23-159">For example, if a workload requires 99.99 percent uptime but depends on a service with a 99.9 percent SLA, that service can't be a single point of failure in the system.</span></span>

<span data-ttu-id="e2b23-160">信頼性の高いアプリケーションの開発要件の詳細については、「[Developing requirements for resilient Azure applications](./requirements.md)」 (回復性がある Azure アプリケーションの開発要件) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-160">For more information about developing requirements for reliable applications, see [Developing requirements for resilient Azure applications](./requirements.md).</span></span>

## <a name="use-architectural-best-practices"></a><span data-ttu-id="e2b23-161">アーキテクチャのベスト プラクティスを使用する</span><span class="sxs-lookup"><span data-stu-id="e2b23-161">Use architectural best practices</span></span>

<span data-ttu-id="e2b23-162">アーキテクチャ フェーズ中には、ビジネス要件を満たし、障害点を特定し、障害の範囲を最小限に抑えるプラクティスを実装することに専念します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-162">During the architectural phase, focus on implementing practices that meet your business requirements, identify failure points, and minimize the scope of failures.</span></span>

- <span data-ttu-id="e2b23-163">**障害モード分析 (FMA) を実行する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-163">**Perform a failure mode analysis (FMA).**</span></span> <span data-ttu-id="e2b23-164">FMA では、設計の初期段階でアプリケーションに回復性が組み込まれます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-164">FMA builds resiliency into an application early in the design stage.</span></span> <span data-ttu-id="e2b23-165">これは、アプリケーションで発生する可能性がある障害の種類、それぞれが及ぼす潜在的な影響、および考えられる復旧戦略を特定するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-165">It helps you identify the types of failures your application might experience, the potential effects of each, and possible recovery strategies.</span></span>
- <span data-ttu-id="e2b23-166">**冗長性のプランを作成する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-166">**Create a redundancy plan.**</span></span> <span data-ttu-id="e2b23-167">ワークロードごとに必要な冗長性のレベルは、ビジネスのニーズおよび要素に依存し、アプリケーションの全体的なコストに反映されます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-167">The level of redundancy required for each workload depends on your business needs and factors into the overall cost of your application.</span></span> 
- <span data-ttu-id="e2b23-168">**スケーラビリティを考慮した設計をする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-168">**Design for scalability.**</span></span> <span data-ttu-id="e2b23-169">クラウド アプリケーションは、使用状況の変化に応じてスケーリングできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-169">A cloud application must be able to scale to accommodate changes in usage.</span></span> <span data-ttu-id="e2b23-170">個別のコンポーネントから初め、必要に応じて、負荷の変化に自動的に対応するアプリケーションを設計します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-170">Begin with discrete components, and design the application to respond automatically to load changes whenever possible.</span></span> <span data-ttu-id="e2b23-171">設計中は、将来的に容易に拡張できるようにスケーリングの制限を念頭に置いてください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-171">Keep scaling limits in mind during design so you can expand easily in the future.</span></span>
- <span data-ttu-id="e2b23-172">**サブスクリプションおよびサービスの要件について計画する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-172">**Plan for subscription and service requirements.**</span></span> <span data-ttu-id="e2b23-173">ストレージ、接続、スループットなどの自社のビジネス要件を満たす十分なリソースをプロビジョニングするために追加のサブスクリプションが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-173">You might need additional subscriptions to provision enough resources to meet your business requirements for storage, connections, throughput, and more.</span></span> 
- <span data-ttu-id="e2b23-174">**負荷分散を使用して要求を分散する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-174">**Use load-balancing to distribute requests.**</span></span> <span data-ttu-id="e2b23-175">負荷分散は、正常でないインスタンスをローテーションから除去することで、アプリケーションの要求を正常なサービス インスタンスに分散します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-175">Load-balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span>
- <span data-ttu-id="e2b23-176">**回復性戦略を実装する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-176">**Implement resiliency strategies.**</span></span> <span data-ttu-id="e2b23-177">*回復性*とは、障害から回復して動作を続行する、システムの能力です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-177">*Resiliency* is the ability of a system to recover from failures and continue to function.</span></span> <span data-ttu-id="e2b23-178">重要なリソースの分離、補正トランザクションの使用、非同期操作の実行などの[回復性設計パターン](../patterns/category/resiliency.md)を必要に応じて実装します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-178">Implement [resiliency design patterns](../patterns/category/resiliency.md), such as isolating critical resources, using compensating transactions, and performing asynchronous operations whenever possible.</span></span>
- <span data-ttu-id="e2b23-179">**設計に可用性の要件を組み込む。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-179">**Build availability requirements into your design.**</span></span> <span data-ttu-id="e2b23-180">*可用性*とは、ご利用のシステムが動作し実際に使用可能である時間の割合です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-180">*Availability* is the proportion of time your system is functional and working.</span></span> <span data-ttu-id="e2b23-181">アプリケーションの可用性がご利用のサービス レベル アグリーメントに確実に準拠するように対策を講じます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-181">Take steps to ensure that application availability conforms to your service-level agreement.</span></span> <span data-ttu-id="e2b23-182">たとえば、単一障害点の回避、サービス レベルの目標によるワークロードの分解、大量のユーザーの調整などが挙げられます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-182">For example, avoid single points of failure, decompose workloads by service-level objective, and throttle high-volume users.</span></span>
- <span data-ttu-id="e2b23-183">**ご利用のデータを管理する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-183">**Manage your data.**</span></span> <span data-ttu-id="e2b23-184">データを格納、バックアップ、およびレプリケートする方法が重要です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-184">How you store, back up, and replicate data is critical.</span></span>

  - <span data-ttu-id="e2b23-185">**ご利用のアプリケーション データに合ったレプリケーション方法を選択する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-185">**Choose replication methods for your application data.**</span></span> <span data-ttu-id="e2b23-186">ご利用のアプリケーション データは、さまざまなデータ ストアに格納され、さまざまな可用性の要件を持つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-186">Your application data is stored in various data stores and might have different availability requirements.</span></span> <span data-ttu-id="e2b23-187">データ ストアの種類ごとにレプリケーションの方法と場所を評価して、それらが要件を確実に満たすようにします。</span><span class="sxs-lookup"><span data-stu-id="e2b23-187">Evaluate the replication methods and locations for each type of data store to ensure that they satisfy your requirements.</span></span>
  - <span data-ttu-id="e2b23-188">**ご利用のフェールオーバーおよびフェールバックのプロセスをドキュメント化してテストする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-188">**Document and test your failover and failback processes.**</span></span> <span data-ttu-id="e2b23-189">新しいデータ ストアにフェールオーバーする手順を明確に文書化し、それを定期的にテストして、手順どおりに正確および簡単に行えることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-189">Clearly document instructions to fail over to a new data store, and test them regularly to make sure they are accurate and easy to follow.</span></span>
  - <span data-ttu-id="e2b23-190">**ご利用のデータを保護する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-190">**Protect your data.**</span></span> <span data-ttu-id="e2b23-191">データのバックアップと検証を定期的に行うと共に、運用環境データとバックアップ データの両方にアクセスできる単一のユーザー アカウントがないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-191">Back up and validate data regularly, and make sure no single user account has access to both production and backup data.</span></span>
  - <span data-ttu-id="e2b23-192">**データの復旧について計画する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-192">**Plan for data recovery.**</span></span> <span data-ttu-id="e2b23-193">バックアップおよびレプリケーション戦略が、ご利用のサービス レベル要件を満たすデータ復旧時間に対応していることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-193">Make sure that your backup and replication strategy provides for data recovery times that meet your service-level requirements.</span></span> <span data-ttu-id="e2b23-194">アプリケーションで使用されるデータのすべての種類 (参照データやデータベースなど) を考慮します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-194">Account for all types of data your application uses, including reference data and databases.</span></span>

<span data-ttu-id="e2b23-195">信頼性の高いアプリケーションの設計の詳細については、「[Architecting Azure applications for resiliency and availability](./architect.md)」 (回復性と可用性を考慮した Azure アプリケーションの設計) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-195">For more information about architecting reliable applications, see [Architecting Azure applications for resiliency and availability](./architect.md).</span></span>

## <a name="test-with-simulations-and-forced-failovers"></a><span data-ttu-id="e2b23-196">シミュレーションと強制フェールオーバーをテストする</span><span class="sxs-lookup"><span data-stu-id="e2b23-196">Test with simulations and forced failovers</span></span>

<span data-ttu-id="e2b23-197">信頼性のテストでは、断続的にしか発生しない障害条件下で、エンドツーエンドのワークロードがどのように実行されるかを測定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-197">Testing for reliability requires measuring how the end-to-end workload performs under failure conditions that only occur intermittently.</span></span>

- <span data-ttu-id="e2b23-198">**実際の障害をトリガーするか、またはそれらをシミュレートすることにより、一般的な障害シナリオをテストする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-198">**Test for common failure scenarios by triggering actual failures or by simulating them.**</span></span> <span data-ttu-id="e2b23-199">フォールト挿入テストを使用して、一般的なシナリオ (障害の組み合わせを含む) と復旧時間をテストします。</span><span class="sxs-lookup"><span data-stu-id="e2b23-199">Use fault injection testing to test common scenarios (including combinations of failures) and recovery time.</span></span>
- <span data-ttu-id="e2b23-200">**負荷がかかっているときのみ発生する障害を特定する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-200">**Identify failures that occur only under load.**</span></span> <span data-ttu-id="e2b23-201">運用データまたは運用データに可能な限り近い合成データを使用して、ピーク負荷の場合をテストすることで、実際の条件下でアプリケーションがどのように動作するかを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-201">Test for peak load, using production data or synthetic data that is as close to production data as possible, to see how the application behaves under real-world conditions.</span></span>
- <span data-ttu-id="e2b23-202">**ディザスター リカバリーの訓練を実施する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-202">**Run disaster recovery drills.**</span></span> <span data-ttu-id="e2b23-203">ディザスター リカバリー計画を策定してから、それを定期的にテストして、機能することを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-203">Have a disaster recovery plan in place, and test it periodically to make sure it works.</span></span>
- <span data-ttu-id="e2b23-204">**フェールオーバーとフェールバックのテストを実行する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-204">**Perform failover and failback testing.**</span></span> <span data-ttu-id="e2b23-205">アプリケーションの依存サービスのフェールオーバーとフェールバックが、確実に正しい順序で行われるようにしてください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-205">Ensure that your application's dependent services fail over and fail back in the correct order.</span></span>
- <span data-ttu-id="e2b23-206">**シミュレーションを実行する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-206">**Run simulation tests.**</span></span> <span data-ttu-id="e2b23-207">実際のシナリオをテストすることで、対処する必要がある問題を明らかにすることができます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-207">Testing real-life scenarios can highlight issues that need to be addressed.</span></span> <span data-ttu-id="e2b23-208">シナリオは、制御可能なものであり、ビジネスの中断を招かないことが必要です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-208">Scenarios should be controllable and non-disruptive to the business.</span></span> <span data-ttu-id="e2b23-209">シミュレーション テストの計画を管理者に通知します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-209">Inform management of simulation testing plans.</span></span>
- <span data-ttu-id="e2b23-210">**正常性プローブをテストする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-210">**Test health probes.**</span></span> <span data-ttu-id="e2b23-211">ロード バランサーおよびトラフィック マネージャーによって重要なシステム コンポーネントがチェックされるように、正常性プローブを構成します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-211">Configure health probes for load balancers and traffic managers to check critical system components.</span></span> <span data-ttu-id="e2b23-212">それをテストして、適切に応答することを確認してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-212">Test them to make sure that they respond appropriately.</span></span>
- <span data-ttu-id="e2b23-213">**監視システムをテストする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-213">**Test monitoring systems.**</span></span> <span data-ttu-id="e2b23-214">潜在的な障害を識別するのに役立つ重要な情報および正確なデータが監視システムから確実にレポートされるようにしてください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-214">Be sure that monitoring systems are reliably reporting critical information and accurate data to help identify potential failures.</span></span>
- <span data-ttu-id="e2b23-215">**テスト シナリオにサード パーティのサービスを含める。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-215">**Include third-party services in test scenarios.**</span></span> <span data-ttu-id="e2b23-216">復旧に加えて、サード パーティ サービスの中断が原因で発生の可能性がある障害点もテストします。</span><span class="sxs-lookup"><span data-stu-id="e2b23-216">Test possible points of failure due to third-party service disruption, in addition to recovery.</span></span>

<span data-ttu-id="e2b23-217">テストは反復的なプロセスです。</span><span class="sxs-lookup"><span data-stu-id="e2b23-217">Testing is an iterative process.</span></span> <span data-ttu-id="e2b23-218">アプリケーションをテストし、結果を測定し、障害があればそれを分析して対応して、さらにプロセスを繰り返します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-218">Test the application, measure the outcome, analyze and address any failures, and repeat the process.</span></span>

<span data-ttu-id="e2b23-219">アプリケーションの信頼性のテストの詳細については、「[Testing Azure applications for resiliency and availability](./testing.md)」 (アプリケーションの回復性と可用性のテスト) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-219">For more information about testing for application reliability, see [Testing Azure applications for resiliency and availability](./testing.md).</span></span>

## <a name="deploy-the-application-consistently"></a><span data-ttu-id="e2b23-220">アプリケーションの一貫性をデプロイする</span><span class="sxs-lookup"><span data-stu-id="e2b23-220">Deploy the application consistently</span></span>

<span data-ttu-id="e2b23-221">*デプロイ*には、Azure リソースのプロビジョニング、アプリケーション コードのデプロイ、構成設定の適用が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-221">*Deployment* includes provisioning Azure resources, deploying application code, and applying configuration settings.</span></span> <span data-ttu-id="e2b23-222">更新プログラムでは、この 3 つのタスクすべて、またはその一部が必要となる場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-222">An update may involve all three tasks or a subset of them.</span></span>

<span data-ttu-id="e2b23-223">アプリケーションを運用環境にデプロイした後で、更新プログラムがエラーの原因になることがあります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-223">After an application is deployed to production, updates are a possible source of errors.</span></span> <span data-ttu-id="e2b23-224">予測可能および繰り返し可能なデプロイ プロセスを使用してエラーを最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-224">Minimize errors with predictable and repeatable deployment processes.</span></span>

- <span data-ttu-id="e2b23-225">**アプリケーションのデプロイ プロセスを自動化する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-225">**Automate your application deployment process.**</span></span> <span data-ttu-id="e2b23-226">可能な限り多くのプロセスを自動化します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-226">Automate as many processes as possible.</span></span>
- <span data-ttu-id="e2b23-227">**可用性を最大限に高められるようにリリース プロセスを設計する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-227">**Design your release process to maximize availability.**</span></span> <span data-ttu-id="e2b23-228">リリース プロセスでデプロイ中にサービスをオフラインにする必要がある場合、それがオンラインに戻るまでアプリケーションは使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-228">If your release process requires services to go offline during deployment, your application is unavailable until they come back online.</span></span> <span data-ttu-id="e2b23-229">プラットフォームのステージングおよび運用機能を利用します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-229">Take advantage of platform staging and production features.</span></span> <span data-ttu-id="e2b23-230">ブルー グリーン リリースまたはカナリヤ リリースを使用します。そうすれば、障害が発生しても、更新プログラムを迅速にロールバックできます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-230">Use blue-green or canary releases to deploy updates, so if a failure occurs, you can quickly roll back the update.</span></span>
- <span data-ttu-id="e2b23-231">**デプロイのロールバック計画を立てます。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-231">**Have a rollback plan for deployment.**</span></span> <span data-ttu-id="e2b23-232">デプロイが失敗した場合に、直前の正常なバージョンに戻して、ダウンタイムを最小限に抑えるようにロールバック プロセスを設計してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-232">Design a rollback process to return to a last known good version and to minimize downtime if a deployment fails.</span></span>
- <span data-ttu-id="e2b23-233">**デプロイのログを記録して監査する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-233">**Log and audit deployments.**</span></span> <span data-ttu-id="e2b23-234">ステージング デプロイ手法を使用する場合、運用環境では複数のバージョンのアプリケーションが実行されることになります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-234">If you use staged deployment techniques, more than one version of your application is running in production.</span></span> <span data-ttu-id="e2b23-235">できるだけ多くのバージョン固有の情報を把握するため、確実なログ記録の方法を実装してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-235">Implement a robust logging strategy to capture as much version-specific information as possible.</span></span>
- <span data-ttu-id="e2b23-236">**アプリケーションのリリース プロセスを文書化する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-236">**Document the application release process.**</span></span> <span data-ttu-id="e2b23-237">リリース プロセスを明確に定義して文書化し、オペレーション チーム全体が確実に利用できるようにしてください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-237">Clearly define and document your release process, and ensure that it's available to the entire operations team.</span></span>

<span data-ttu-id="e2b23-238">アプリケーションの信頼性とデプロイの詳細については、「[Deploying Azure applications for resiliency and availability](./deploy.md)」 (回復性と可用性を考慮した Azure アプリケーションのデプロイ) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-238">For more information about application reliability and deployment, see [Deploying Azure applications for resiliency and availability](./deploy.md).</span></span>

## <a name="monitor-application-health"></a><span data-ttu-id="e2b23-239">アプリケーションの正常性を監視する</span><span class="sxs-lookup"><span data-stu-id="e2b23-239">Monitor application health</span></span>

<span data-ttu-id="e2b23-240">監視およびアラートのためのベスト プラクティスをアプリケーションに実装することで、障害を検出し、それを修正するようオペレーターに警告することができます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-240">Implement best practices for monitoring and alerts in your application so you can detect failures and alert an operator to fix them.</span></span>

- <span data-ttu-id="e2b23-241">**正常性プローブを実装して機能を確認する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-241">**Implement health probes and check functions.**</span></span> <span data-ttu-id="e2b23-242">それをアプリケーションの外部から定期的に実行して、アプリケーションの正常性とパフォーマンスの低下を識別します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-242">Run them regularly from outside the application to identify degradation of application health and performance.</span></span>
- <span data-ttu-id="e2b23-243">**実行時間の長いワークフローを確認する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-243">**Check long-running workflows.**</span></span> <span data-ttu-id="e2b23-244">問題を早期に検出すると、ワークフロー全体をロールバックしたり、複数の補正トランザクションを実行したりする必要性を最小限に抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-244">Catching issues early can minimize the need to roll back the entire workflow or to execute multiple compensating transactions.</span></span>
- <span data-ttu-id="e2b23-245">**アプリケーション ログを維持する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-245">**Maintain application logs.**</span></span>

  - <span data-ttu-id="e2b23-246">運用環境内およびサービス境界でアプリケーションのログに記録します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-246">Log applications in production and at service boundaries.</span></span>
  - <span data-ttu-id="e2b23-247">セマンティックおよび非同期のログ記録を使用します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-247">Use semantic and asynchronous logging.</span></span>
  - <span data-ttu-id="e2b23-248">アプリケーション ログを監査ログから分離します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-248">Separate application logs from audit logs.</span></span>

- <span data-ttu-id="e2b23-249">**リモート呼び出しの統計情報を測定し、データをアプリケーション チームと共有する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-249">**Measure remote call statistics, and share the data with the application team.**</span></span> <span data-ttu-id="e2b23-250">運用チームがアプリケーションの正常性を瞬時に確認できるようにするために、待機時間、スループット、99 パーセンタイルおよび 95 パーセンタイルのエラーなどのリモート呼び出しメトリックをまとめます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-250">To give your operations team an instantaneous view into application health, summarize remote call metrics, such as latency, throughput, and errors in the 99 and 95 percentiles.</span></span> <span data-ttu-id="e2b23-251">各パーセンタイル内で発生したエラーを明らかにするには、このメトリックで統計分析を実行してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-251">Perform statistical analysis on the metrics to uncover errors that occur within each percentile.</span></span>
- <span data-ttu-id="e2b23-252">**適切な期間にわたって一時的な例外と再試行を追跡する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-252">**Track transient exceptions and retries over an appropriate time frame.**</span></span> <span data-ttu-id="e2b23-253">時間をかけて例外が増加する傾向は、サービスに問題があるか失敗する可能性があることを示します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-253">A trend of increasing exceptions over time indicates that the service is having an issue and may fail.</span></span>
- <span data-ttu-id="e2b23-254">**早期警告システムを設定する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-254">**Set up an early warning system.**</span></span> <span data-ttu-id="e2b23-255">一時的な例外やリモート呼び出しの待機時間などのアプリケーションの正常性の主要業績評価指標 (KPI) を特定し、それぞれに適切なしきい値を設定してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-255">Identify the key performance indicators (KPIs) of an application's health, such as transient exceptions and remote call latency, and set appropriate threshold values for each of them.</span></span> <span data-ttu-id="e2b23-256">しきい値に達したときに、操作にアラートを送信します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-256">Send an alert to operations when the threshold value is reached.</span></span>
- <span data-ttu-id="e2b23-257">**Azure サブスクリプションの制限内で運用する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-257">**Operate within Azure subscription limits.**</span></span> <span data-ttu-id="e2b23-258">Azure サブスクリプションには、リソース グループの数、コアの数、およびストレージ アカウントの数など、特定のリソースの種類に対する制限があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-258">Azure subscriptions have limits on certain resource types, such as the number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="e2b23-259">リソースの種類の使用に注意してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-259">Watch your use of resource types.</span></span>
- <span data-ttu-id="e2b23-260">**サード パーティーのサービスを監視します。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-260">**Monitor third-party services.**</span></span> <span data-ttu-id="e2b23-261">呼び出しをログに記録してから、それを一意の識別子を使用してアプリケーションの正常性と診断のログに関連付けます。</span><span class="sxs-lookup"><span data-stu-id="e2b23-261">Log your invocations and correlate them with your application's health and diagnostic logging using a unique identifier.</span></span>
- <span data-ttu-id="e2b23-262">**アプリケーションの監視および手動による復旧手順を行う複数のオペレーターをトレーニングする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-262">**Train multiple operators to monitor the application and to perform manual recovery steps.**</span></span> <span data-ttu-id="e2b23-263">トレーニング済みのオペレーターが少なくとも 1 人以上、常に活動できる状態にあることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-263">Make sure there is always at least one trained operator active.</span></span>

<span data-ttu-id="e2b23-264">アプリケーションの信頼性の監視の詳細については、[Azure アプリケーションの正常性の監視](./monitoring.md)に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-264">For more information about monitoring for application reliability, see [Monitoring Azure application health](./monitoring.md).</span></span>

## <a name="respond-to-failures-and-disasters"></a><span data-ttu-id="e2b23-265">障害と災害に対応する</span><span class="sxs-lookup"><span data-stu-id="e2b23-265">Respond to failures and disasters</span></span>

<span data-ttu-id="e2b23-266">復旧計画を作成し、データの復元、ネットワーク障害、依存サービスのエラー、およびリージョン全体にわたるサービス中断がその計画で網羅されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-266">Create a recovery plan, and make sure that it covers data restoration, network outages, dependent service failures, and region-wide service disruptions.</span></span> <span data-ttu-id="e2b23-267">復旧戦略では、ご利用の VM、ストレージ、データベース、およびその他の Azure プラットフォーム サービスを検討します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-267">Consider your VMs, storage, databases, and other Azure platform services in your recovery strategy.</span></span>

- <span data-ttu-id="e2b23-268">**Azure サポートとのやり取りについて計画する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-268">**Plan for Azure support interactions.**</span></span> <span data-ttu-id="e2b23-269">必要になる前に、Azure サポートに連絡するためのプロセスを確立します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-269">Before the need arises, establish a process for contacting Azure support.</span></span>
- <span data-ttu-id="e2b23-270">**ディザスター リカバリー計画を文書化し、テストする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-270">**Document and test your disaster recovery plan.**</span></span> <span data-ttu-id="e2b23-271">アプリケーションの障害がビジネスに及ぼす影響を反映したディザスター リカバリー計画を作成します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-271">Write a disaster recovery plan that reflects the business impact of application failures.</span></span> <span data-ttu-id="e2b23-272">復旧プロセスは可能な限り自動化し、手動による手順は文書化します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-272">Automate the recovery process as much as possible, and document any manual steps.</span></span> <span data-ttu-id="e2b23-273">ディザスター リカバリー プロセスは定期的にテストし、計画の検証と改善を行います。</span><span class="sxs-lookup"><span data-stu-id="e2b23-273">Regularly test your disaster recovery process to validate and improve the plan.</span></span>
- <span data-ttu-id="e2b23-274">**必要な場合に手動でフェールオーバーする。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-274">**Fail over manually when required.**</span></span> <span data-ttu-id="e2b23-275">一部のシステムは自動的にフェールオーバーせず、手動フェールオーバーが必要です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-275">Some systems can't fail over automatically and require a manual failover.</span></span> <span data-ttu-id="e2b23-276">アプリケーションがセカンダリ リージョンにフェールオーバーした場合は、運用準備テストを実行します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-276">If an application fails over to a secondary region, perform an operational readiness test.</span></span> <span data-ttu-id="e2b23-277">フェールバックする前に、プライマリ リージョンが正常で、トラフィックを再び受け取る準備が整っていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-277">Verify that the primary region is healthy and ready to receive traffic again before failing back.</span></span> <span data-ttu-id="e2b23-278">アプリケーションの機能制限の内容と、一時的な問題をアプリからユーザーに通知する方法を決定します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-278">Determine what the reduced application functionality is and how the app informs users of temporary problems.</span></span>
- <span data-ttu-id="e2b23-279">**アプリケーションの障害に備える。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-279">**Prepare for application failure.**</span></span> <span data-ttu-id="e2b23-280">自動的に処理される障害、機能制限を引き起こす障害、アプリケーションを使用不能にする障害などの、障害の範囲に対して準備をします。</span><span class="sxs-lookup"><span data-stu-id="e2b23-280">Prepare for a range of failures, including faults that are handled automatically, those that result in reduced functionality, and those that cause the application to become unavailable.</span></span> <span data-ttu-id="e2b23-281">アプリケーションからユーザーに一時的な問題が通知される必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-281">The application should inform users of temporary issues.</span></span>
- <span data-ttu-id="e2b23-282">**データ損失から回復する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-282">**Recover from data corruption.**</span></span> <span data-ttu-id="e2b23-283">データ ストアで障害が発生した場合、ストアを再び使用可能な状態にするとき (特にデータをレプリケートした場合) は、データに整合性があることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-283">If a failure happens in a data store, check for data inconsistencies when the store becomes available again, especially if the data was replicated.</span></span> <span data-ttu-id="e2b23-284">破損したデータをバックアップから復元します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-284">Restore corrupt data from a backup.</span></span>
- <span data-ttu-id="e2b23-285">**ネットワークの停止から回復する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-285">**Recover from a network outage.**</span></span> <span data-ttu-id="e2b23-286">キャッシュされたデータを使用すれば、ローカルでアプリケーションの機能が制限された状態で実行できる場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-286">You might be able to use cached data to run locally with reduced application functionality.</span></span> <span data-ttu-id="e2b23-287">そうしない場合は、アプリケーションのダウンタイムまたは別のリージョンへのフェールオーバーを検討してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-287">If not, consider application downtime or fail over to another region.</span></span> <span data-ttu-id="e2b23-288">接続が復元されるまで、別の場所にご利用のデータを格納します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-288">Store your data in an alternate location until connectivity is restored.</span></span>
- <span data-ttu-id="e2b23-289">**依存サービスの障害から回復する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-289">**Recover from a dependent service failure.**</span></span> <span data-ttu-id="e2b23-290">まだ利用できる機能を確認し、アプリケーションでの対処方法を決定します。</span><span class="sxs-lookup"><span data-stu-id="e2b23-290">Determine which functionality is still available and how the application should respond.</span></span>
- <span data-ttu-id="e2b23-291">**リージョン全体でのサービスの中断から回復する。**</span><span class="sxs-lookup"><span data-stu-id="e2b23-291">**Recover from a region-wide service disruption.**</span></span> <span data-ttu-id="e2b23-292">リージョン全体にわたるサービスの中断はめったに起こりません。しかし、特に重要なアプリケーションの場合は、それに対応するための戦略が必要です。</span><span class="sxs-lookup"><span data-stu-id="e2b23-292">Region-wide service disruptions are uncommon, but you should have a strategy to address them, especially for critical applications.</span></span> <span data-ttu-id="e2b23-293">別のリージョンへのアプリケーションの再デプロイ、またはトラフィックの再配布が可能な場合があります。</span><span class="sxs-lookup"><span data-stu-id="e2b23-293">You might be able to redeploy the application to another region or redistribute traffic.</span></span>

<span data-ttu-id="e2b23-294">障害とディザスター リカバリーに対応する方法の詳細については、「[Failure and disaster recovery for Azure applications](./disaster-recovery.md)」 (Azure アプリケーションの障害とディザスター リカバリー) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e2b23-294">For more information about responding to failures and disaster recovery, see [Failure and disaster recovery for Azure applications](./disaster-recovery.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="e2b23-295">次の手順</span><span class="sxs-lookup"><span data-stu-id="e2b23-295">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="e2b23-296">回復性があるアプリケーションの要件を作成する</span><span class="sxs-lookup"><span data-stu-id="e2b23-296">Develop requirements for resilient applications</span></span>](./requirements.md)
