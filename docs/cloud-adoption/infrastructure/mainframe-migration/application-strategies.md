---
title: メインフレームの移行:メインフレーム アプリケーションの移行
description: メインフレームで現在実行されているシステムに関してメインフレーム環境から Azure にアプリケーションを移行します。Azure は可用性が高く、拡張可能なインフラストラクチャであることが証明されています
author: njray
ms.date: 12/26/2018
ms.openlocfilehash: 2a22eb038da693671ce309c76afcfc41946034f3
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2019
ms.locfileid: "58246393"
---
# <a name="mainframe-application-migration"></a><span data-ttu-id="717db-103">メインフレーム アプリケーションの移行</span><span class="sxs-lookup"><span data-stu-id="717db-103">Mainframe application migration</span></span>

<span data-ttu-id="717db-104">アプリケーションをメインフレーム環境から Azure に移行する場合、ほとんどのチームは実際的なアプローチに従います。つまり、いつでもどこでも可能なかぎり再利用し、アプリケーションを再作成または置換するときは段階的デプロイを開始します。</span><span class="sxs-lookup"><span data-stu-id="717db-104">When migrating applications from mainframe environments to Azure, most teams follow a pragmatic approach: reuse wherever and whenever possible, and then start a phased deployment where applications are rewritten or replaced.</span></span>

<span data-ttu-id="717db-105">アプリケーションの移行には、通常、次の方法の 1 つ以上が含まれます。</span><span class="sxs-lookup"><span data-stu-id="717db-105">Application migration typically involves one or more of the following strategies:</span></span>

- <span data-ttu-id="717db-106">再ホスト:メインフレームから既存のコード、プログラム、およびアプリケーションを移動し、コードを再コンパイルして、クラウド インスタンスでホストされているメインフレーム エミュレーターで実行できます。</span><span class="sxs-lookup"><span data-stu-id="717db-106">Rehost: You can move existing code, programs, and applications from the mainframe, and then recompile the code to run in a mainframe emulator hosted in a cloud instance.</span></span> <span data-ttu-id="717db-107">このアプローチは、一般に、クラウドベースのエミュレーターへのアプリケーションの移動で開始し、その後でクラウドベースのデータベースにデータベースを移行します。</span><span class="sxs-lookup"><span data-stu-id="717db-107">This approach typically starts with moving applications to a cloud-based emulator, and then migrating the database to a cloud-based database.</span></span> <span data-ttu-id="717db-108">データとファイルの変換と共に、ある程度のエンジニアリングとリファクタリングが必要です。</span><span class="sxs-lookup"><span data-stu-id="717db-108">Some engineering and refactoring are required along with data and file conversions.</span></span>

    <span data-ttu-id="717db-109">または、従来のホスティング プロバイダーを使用して再ホストすることができます。</span><span class="sxs-lookup"><span data-stu-id="717db-109">Alternatively, you can rehost using a traditional hosting provider.</span></span> <span data-ttu-id="717db-110">クラウドの主要な利点の 1 つは、インフラストラクチャ管理のアウトソーシングです。</span><span class="sxs-lookup"><span data-stu-id="717db-110">One of the principal benefits of the cloud is outsourcing infrastructure management.</span></span> <span data-ttu-id="717db-111">メインフレームのワークロードを代わりにホストしてくれるデータセンター プロバイダーを見つけることができます。</span><span class="sxs-lookup"><span data-stu-id="717db-111">You can find a datacenter provider that will host your mainframe workloads for you.</span></span> <span data-ttu-id="717db-112">このモデルでは、時間を購入し、ベンダーのロックインを減らし、一時的なコスト削減を実現できます。</span><span class="sxs-lookup"><span data-stu-id="717db-112">This model may buy time, reduce vendor lock in, and produce interim cost savings.</span></span>

- <span data-ttu-id="717db-113">廃止:不要になったすべてのアプリケーションを、移行の前に廃止する必要があります。</span><span class="sxs-lookup"><span data-stu-id="717db-113">Retire: All applications that are no longer needed should be retired before migration.</span></span>

- <span data-ttu-id="717db-114">再構築:最新の手法を使用してプログラムを全面的に書き直す組織もあります。</span><span class="sxs-lookup"><span data-stu-id="717db-114">Rebuild: Some organizations choose to completely rewrite programs using modern techniques.</span></span> <span data-ttu-id="717db-115">この方法ではコストと複雑さが増すので、リフトアンドシフト アプローチほど一般的ではありません。</span><span class="sxs-lookup"><span data-stu-id="717db-115">Given the added cost and complexity of this approach, it’s not as common as a lift-and-shift approach.</span></span> <span data-ttu-id="717db-116">多くの場合、この種の移行の後では、コード変換エンジンを使用してモジュールとたコードの置き換えを始めるのが理にかなっています。</span><span class="sxs-lookup"><span data-stu-id="717db-116">Often after this type of migration, it makes sense to begin replacing modules and code using code transformation engines.</span></span>

- <span data-ttu-id="717db-117">置換前のコード:このアプローチでは、メインフレームの機能を、クラウドの同等の機能で置き換えます。</span><span class="sxs-lookup"><span data-stu-id="717db-117">Replace: This approach replaces mainframe functionality with equivalent features in the cloud.</span></span> <span data-ttu-id="717db-118">1 つのオプションであるサービスとしてのソフトウェア (SaaS) では、財務、人事、製造、エンタープライズ リソース プランニングなど、企業の関心事のために特に作成されたソリューションが使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-118">Software as a service (SaaS) is one option, which is using a solution created specifically for an enterprise concern, such as finance, human resources, manufacturing, or enterprise resource planning.</span></span> <span data-ttu-id="717db-119">さらに、以前はカスタム メインフレーム ソリューションを使用して解決されていた問題を、今では多くの業界固有アプリを使用して解決できるようになっています。</span><span class="sxs-lookup"><span data-stu-id="717db-119">In addition, many industry-specific apps are now available to solve problems that custom mainframe solutions used to previously solve.</span></span>

<span data-ttu-id="717db-120">最初に移行する必要があるワークロードを計画した後、、関連するアプリケーション、レガシ コードベース、データベースを移動するための要件を決定することを、検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="717db-120">You should consider starting by planning those workloads that you want to initially migrate, and then determine those requirements for moving associated applications, legacy codebases, and databases.</span></span>

## <a name="mainframe-emulation-in-azure"></a><span data-ttu-id="717db-121">Azure でのメインフレームのエミュレーション</span><span class="sxs-lookup"><span data-stu-id="717db-121">Mainframe emulation in Azure</span></span>

<span data-ttu-id="717db-122">Azure クラウド サービスでは従来のメインフレーム環境をエミュレートでき、メインフレームの既存のコードとアプリケーションを再利用できます。</span><span class="sxs-lookup"><span data-stu-id="717db-122">Azure cloud services can emulate traditional mainframe environments, enabling you to reuse existing mainframe code and applications.</span></span> <span data-ttu-id="717db-123">エミュレートできる一般的なサーバー コンポーネントとしては、オンライン トランザクション処理 (OLTP) システム、バッチ システム、データ インジェスト システムなどがあります。</span><span class="sxs-lookup"><span data-stu-id="717db-123">Common server components that you can emulate include online transaction processing (OLTP), batch, and data ingestion systems.</span></span>

### <a name="oltp-systems"></a><span data-ttu-id="717db-124">OLTP システム</span><span class="sxs-lookup"><span data-stu-id="717db-124">OLTP systems</span></span>

<span data-ttu-id="717db-125">多くのメインフレームには、膨大なユーザーのために何千または何百万もの更新を処理する OLTP システムがあります。</span><span class="sxs-lookup"><span data-stu-id="717db-125">Many mainframes have OLTP systems that process thousands or millions of updates for huge numbers of users.</span></span> <span data-ttu-id="717db-126">多くの場合、これらのアプリケーションでは、顧客情報管理システム (CICS)、情報管理システム (IMS)、ターミナル インターフェイス プロセッサ (TIP) など、トランザクション処理と画面フォーム処理のソフトウェアが使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-126">These applications often use transaction processing and screen-form handling software, such as customer information control system (CICS), information management systes (IMS), and terminal interface processor (TIP).</span></span>

<span data-ttu-id="717db-127">OLTP アプリケーションを Azure に移動するときは、メインフレームのトランザクション処理 (TP) モニター用のエミュレーターを、Azure 上の仮想マシン (VM) を使用し、サービスとしてのインフラストラクチャ (IaaS) として実行できます。</span><span class="sxs-lookup"><span data-stu-id="717db-127">When moving OLTP applications to Azure, emulators for mainframe transaction processing (TP) monitors are available to run as infrastructure as a service (IaaS) using virtual machines (VMs) on Azure.</span></span> <span data-ttu-id="717db-128">画面処理とフォームの機能も、Web サーバーで実装できます。</span><span class="sxs-lookup"><span data-stu-id="717db-128">The screen handling and form functionality can also be implemented by web servers.</span></span> <span data-ttu-id="717db-129">このアプローチは、データ アクセスとトランザクションのための ActiveX データ オブジェクト (ADO)、Open Database Connectivity (ODBC)、Java Database Connectivity (JDBC) などのデータベース API と組み合わせることができます。</span><span class="sxs-lookup"><span data-stu-id="717db-129">This approach can be combined with database APIs, such as ActiveX data object (ADO), open database connectivity (ODBC), and Java database connectivity (JDBC) for data access and transactions.</span></span>

### <a name="time-constrained-batch-updates"></a><span data-ttu-id="717db-130">時間の制約があるバッチ更新</span><span class="sxs-lookup"><span data-stu-id="717db-130">Time-constrained batch updates</span></span>

<span data-ttu-id="717db-131">銀行、保険、政府で使用されているものなどの多くのメインフレーム システムでは、数百万のアカウント レコードの更新が毎月または毎年実行されます。</span><span class="sxs-lookup"><span data-stu-id="717db-131">Many mainframe systems perform monthly or annual updates of millions of account records, such as those used in banking, insurance, and government.</span></span> <span data-ttu-id="717db-132">メインフレームでは、高スループットのデータ処理システムを提供することで、この種のワークロードが処理されます。</span><span class="sxs-lookup"><span data-stu-id="717db-132">Mainframes handle these types of workloads by offering high-throughput data handling systems.</span></span> <span data-ttu-id="717db-133">メインフレームのバッチ ジョブは、通常、本質的にシリアルであり、パフォーマンスのためにメインフレーム バックボーンによって提供される IOPS (1 秒あたりの入力/出力操作数) に依存します。</span><span class="sxs-lookup"><span data-stu-id="717db-133">Mainframes batch jobs are typically serial in nature and depend on the input/output operations per second (IOPS) provided by the mainframe backbone for performance.</span></span>

<span data-ttu-id="717db-134">クラウドベースのバッチ環境では、パフォーマンスのために並列コンピューティングと高速ネットワークが使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-134">Cloud-based batch environments use parallel compute and high-speed networks for performance.</span></span> <span data-ttu-id="717db-135">バッチ処理のパフォーマンスを最適化する必要がある場合、Azure ではさまざまなコンピューティング、ストレージ、およびネットワークのオプションが提供されています。</span><span class="sxs-lookup"><span data-stu-id="717db-135">If you need to optimize batch performance, Azure provides various compute, storage, and networking options.</span></span>

### <a name="data-ingestion-systems"></a><span data-ttu-id="717db-136">データ インジェスト システム</span><span class="sxs-lookup"><span data-stu-id="717db-136">Data ingestion systems</span></span>

<span data-ttu-id="717db-137">メインフレームでは、小売、金融サービス、製造、その他のソリューションから、処理のためにデータの大きなバッチが取り込まれます。</span><span class="sxs-lookup"><span data-stu-id="717db-137">Mainframes ingest large batches of data from retail, financial services, manufacturing, and other solutions for processing.</span></span> <span data-ttu-id="717db-138">Azure では、[AzCopy](/azure/storage/common/storage-use-azcopy) などの簡単なコマンド ライン ユーティリティを使用して、保存場所との間でデータのコピーを実行できます。</span><span class="sxs-lookup"><span data-stu-id="717db-138">With Azure, you can use simple command-line utilities such as [AzCopy](/azure/storage/common/storage-use-azcopy) for copying data to and from storage location.</span></span> <span data-ttu-id="717db-139">また、[Azure Data Factory](/azure/data-factory/introduction) サービスを使用すると、各種のデータ ストアからデータを取り込み、データ主導型のワークフローを作成してスケジューリングすることもできます。</span><span class="sxs-lookup"><span data-stu-id="717db-139">You can also use the [Azure Data Factory](/azure/data-factory/introduction) service, enabling you to ingest data from disparate data stores to create and schedule data-driven workflows.</span></span>

<span data-ttu-id="717db-140">エミュレーション環境だけでなく、Azure では、既存のメインフレーム環境を拡張できるサービスとしてのプラットフォーム (PaaS) および分析サービスも提供されています。</span><span class="sxs-lookup"><span data-stu-id="717db-140">In addition to emulation environments, Azure provides platform as a service (PaaS) and analytics services that can enhance existing mainframe environments.</span></span>

## <a name="migrate-oltp-workloads-to-azure"></a><span data-ttu-id="717db-141">OLTP ワークロードを Azure に移行する</span><span class="sxs-lookup"><span data-stu-id="717db-141">Migrate OLTP workloads to Azure</span></span>

<span data-ttu-id="717db-142">リフトアンドシフト アプローチは、既存のアプリケーションを Azure に迅速に移行するためのコード不要のオプションです。</span><span class="sxs-lookup"><span data-stu-id="717db-142">The lift-and-shift approach is the no code option for quickly migrating existing applications to Azure.</span></span> <span data-ttu-id="717db-143">各アプリケーションはそのままの状態で移行されます。このため、コード変更に伴うリスクとコストのどちらも負担することなく、クラウドのメリットを享受できます。</span><span class="sxs-lookup"><span data-stu-id="717db-143">Each application is migrated as is, which provides the benefits of the cloud without the risks or costs of making code changes.</span></span> <span data-ttu-id="717db-144">Azure でのメインフレーム トランザクション処理 (TP) モニター用のエミュレーターの使用では、このアプローチがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="717db-144">Using an emulator for mainframe transaction processing (TP) monitors on Azure supports this approach.</span></span>

<span data-ttu-id="717db-145">さまざまなベンダーの TP モニターを利用でき、Azure 上のサービスとしてのインフラストラクチャ (IaaS) オプションである仮想マシンで実行できます。</span><span class="sxs-lookup"><span data-stu-id="717db-145">TP monitors are available from various vendors and run on virtual machines, an infrastructure as a service (IaaS) option on Azure.</span></span> <span data-ttu-id="717db-146">次の図は、IBM の z/OS メインフレーム上のリレーショナル データベース管理システム (DBMS) である IBM DB2 を利用するオンライン アプリケーションを移行する前と後を示したものです。</span><span class="sxs-lookup"><span data-stu-id="717db-146">The following before and after diagrams show a migration of an online application backed by IBM DB2, a relational database management system (DBMS), on an IBM z/OS mainframe.</span></span> <span data-ttu-id="717db-147">DB2 for Z/OS では、データの格納用には VSAM (Virtual Storage Access Method) ファイルが使用され、フラット ファイル用には ISAM (Indexed Sequential Access Method: 索引順次アクセス方式) が使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-147">DB2 for z/OS uses virtual storage access method (VSAM) files to store the data and Indexed Sequential Access Method (ISAM) for flat files.</span></span> <span data-ttu-id="717db-148">このアーキテクチャでは、トランザクション監視用に CICS も使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-148">This architecture also uses CICS for transaction monitoring.</span></span>

![エミュレーション ソフトウェアを使用した Azure へのメインフレーム環境のリフトアンドシフト](../../_images/mainframe-migration/mainframe-vs-azure.png)

<span data-ttu-id="717db-150">Azure では、TP マネージャーと JCL を用いたバッチ ジョブを実行するために、エミュレーション環境が使用されています。</span><span class="sxs-lookup"><span data-stu-id="717db-150">On Azure, emulation environments are used to run the TP manager and the batch jobs that use JCL.</span></span> <span data-ttu-id="717db-151">データ層では、DB2 が [Azure SQL Database](/azure/sql-database/sql-database-technical-overview) に置き換えられていますが、Microsoft SQL Server、DB2 LUW、または Oracle Database を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="717db-151">In the data tier, DB2 is replaced by [Azure SQL Database](/azure/sql-database/sql-database-technical-overview), although Microsoft SQL Server, DB2 LUW, or Oracle Database can also be used.</span></span> <span data-ttu-id="717db-152">エミュレーターでは、IMS、VSAM、および SEQ がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="717db-152">An emulator supports IMS, VSAM, and SEQ.</span></span> <span data-ttu-id="717db-153">メインフレームのシステム管理ツールは、VM 上で実行される Azure サービスおよび他のベンダーのソフトウェアによって置き換えられています。</span><span class="sxs-lookup"><span data-stu-id="717db-153">The mainframe’s system management tools are replaced by Azure services, and software from other vendors, that run in VMs.</span></span>

<span data-ttu-id="717db-154">画面処理とフォーム入力の機能は一般に Web サーバーを使用して実装され、データ アクセスおよびトランザクションには ADO、ODBC、JDBC などのデータベース API と組み合わせることができます。</span><span class="sxs-lookup"><span data-stu-id="717db-154">The screen handling and form entry functionality is commonly implemented using web servers, which can be combined with database APIs, such as ADO, ODBC, and JDBC for data access and transactions.</span></span> <span data-ttu-id="717db-155">使用する Azure IaaS コンポーネントの正確なラインナップは、選択するオペレーティング システムによって異なります。</span><span class="sxs-lookup"><span data-stu-id="717db-155">The exact line-up of Azure IaaS components to use depends on the operating system you prefer.</span></span> <span data-ttu-id="717db-156">例: </span><span class="sxs-lookup"><span data-stu-id="717db-156">For example:</span></span>

- <span data-ttu-id="717db-157">Windows ベースの VM の場合:画面処理とビジネス ロジック用にはインターネット インフォメーション サービス (IIS) と ASP.NET。</span><span class="sxs-lookup"><span data-stu-id="717db-157">Windows–based VMs: Internet Information Server (IIS) along with ASP.NET for the screen handling and business logic.</span></span> <span data-ttu-id="717db-158">データ アクセスとトランザクションには ADO.NET を使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-158">Use ADO.NET for data access and transactions.</span></span>

- <span data-ttu-id="717db-159">Linux ベースの VM の場合:使用可能な Java ベースのアプリケーション サーバー。たとえば、画面処理と Java ベースのビジネス機能用の Apache Tomcat など。</span><span class="sxs-lookup"><span data-stu-id="717db-159">Linux–based VMs: The Java-based application servers that are available, such as Apache Tomcat for screen handling and Java-based business functionality.</span></span> <span data-ttu-id="717db-160">データ アクセスとトランザクションには JDBC を使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-160">Use JDBC for data access and transactions.</span></span>

## <a name="migrate-batch-workloads-to-azure"></a><span data-ttu-id="717db-161">バッチ ワークロードを Azure に移行する</span><span class="sxs-lookup"><span data-stu-id="717db-161">Migrate batch workloads to Azure</span></span>

<span data-ttu-id="717db-162">Azure でのバッチ操作は、メインフレーム上の一般的なバッチ環境とは異なります。</span><span class="sxs-lookup"><span data-stu-id="717db-162">Batch operations in Azure differ from the typical batch environment on mainframes.</span></span> <span data-ttu-id="717db-163">メインフレームのバッチ ジョブは、通常、本質的にシリアルであり、パフォーマンスのためにメインフレーム バックボーンによって提供される IOPS に依存します。</span><span class="sxs-lookup"><span data-stu-id="717db-163">Mainframe batch jobs are typically serial in nature and depend on the IOPS provided by the mainframe backbone for performance.</span></span> <span data-ttu-id="717db-164">クラウドベースのバッチ環境では、パフォーマンスのために並列コンピューティングと高速ネットワークが使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-164">Cloud-based batch environments use parallel computing and high-speed networks for performance.</span></span>

<span data-ttu-id="717db-165">Azure を使用するバッチ処理のパフォーマンスを最適化するには、次のような[コンピューティング](/azure/virtual-machines/windows/overview)、[ストレージ](/azure/storage/blobs/storage-blobs-introduction)、[ネットワーク](https://azure.microsoft.com/blog/maximize-your-vm-s-performance-with-accelerated-networking-now-generally-available-for-both-windows-and-linux/)、および[監視](/azure/azure-monitor/overview)のオプションを検討します。</span><span class="sxs-lookup"><span data-stu-id="717db-165">To optimize batch performance using Azure, consider the [compute](/azure/virtual-machines/windows/overview), [storage](/azure/storage/blobs/storage-blobs-introduction), [networking](https://azure.microsoft.com/blog/maximize-your-vm-s-performance-with-accelerated-networking-now-generally-available-for-both-windows-and-linux/), and [monitoring](/azure/azure-monitor/overview) options as follows.</span></span>

### <a name="compute"></a><span data-ttu-id="717db-166">Compute</span><span class="sxs-lookup"><span data-stu-id="717db-166">Compute</span></span>

<span data-ttu-id="717db-167">次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-167">Use:</span></span>

- <span data-ttu-id="717db-168">クロック速度が最高の VM。</span><span class="sxs-lookup"><span data-stu-id="717db-168">VMs with the highest clock speed.</span></span> <span data-ttu-id="717db-169">多くの場合、メインフレームのアプリケーションはシングル スレッドであり、メインフレームの CPU は非常に高いクロック速度です。</span><span class="sxs-lookup"><span data-stu-id="717db-169">Mainframe applications are often single-threaded and mainframe CPUs have a very high clock speed.</span></span>

- <span data-ttu-id="717db-170">データのキャッシュとアプリケーションの作業領域に対応する大容量のメモリを備えた VM。</span><span class="sxs-lookup"><span data-stu-id="717db-170">VMs with large memory capacity to allow caching of data and application work areas.</span></span>

- <span data-ttu-id="717db-171">アプリケーションが複数のスレッドをサポートしている場合は、マルチスレッド処理を利用するために高密度 vCPU を備えた VM。</span><span class="sxs-lookup"><span data-stu-id="717db-171">VMs with higher density vCPUs to take advantage of multi-threaded processing if the application supports multiple threads.</span></span>

- <span data-ttu-id="717db-172">並列処理。Azure は並列処理用に簡単にスケールアウトし、より多くのコンピューティング能力をバッチ実行に提供します。</span><span class="sxs-lookup"><span data-stu-id="717db-172">Parallel processing, as Azure easily scales out for parallel processing, delivering more compute power for a batch run.</span></span>

### <a name="storage"></a><span data-ttu-id="717db-173">Storage</span><span class="sxs-lookup"><span data-stu-id="717db-173">Storage</span></span>

<span data-ttu-id="717db-174">次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-174">Use:</span></span>

- <span data-ttu-id="717db-175">使用可能な最大の IOPS のために [Azure Premium SSD](/azure/virtual-machines/windows/premium-storage) または [Azure Ultra SSD](/azure/virtual-machines/windows/disks-ultra-ssd)。</span><span class="sxs-lookup"><span data-stu-id="717db-175">[Azure Premium SSD](/azure/virtual-machines/windows/premium-storage) or [Azure Ultra SSD](/azure/virtual-machines/windows/disks-ultra-ssd) for maximum available IOPS.</span></span>

- <span data-ttu-id="717db-176">ストレージ サイズあたりの IOPS を上げるために複数のディスクによるストライピング。</span><span class="sxs-lookup"><span data-stu-id="717db-176">Striping with multiple disks for more IOPS per storage size.</span></span>

- <span data-ttu-id="717db-177">複数の Azure ストレージ デバイスに IO を分散させるためのストレージのパーティション分割。</span><span class="sxs-lookup"><span data-stu-id="717db-177">Partitioning for storage to spread IO over multiple Azure storage devices.</span></span>

### <a name="networking"></a><span data-ttu-id="717db-178">ネットワーク</span><span class="sxs-lookup"><span data-stu-id="717db-178">Networking</span></span>

- <span data-ttu-id="717db-179">待機時間を最小にするには [Azure 高速ネットワーク](/azure/virtual-network/create-vm-accelerated-networking-powershell)を使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-179">Use [Azure Accelerated Networking](/azure/virtual-network/create-vm-accelerated-networking-powershell) to minimize latency.</span></span>

### <a name="monitoring"></a><span data-ttu-id="717db-180">監視</span><span class="sxs-lookup"><span data-stu-id="717db-180">Monitoring</span></span>

- <span data-ttu-id="717db-181">監視ツール、[Azure Monitor](/azure/azure-monitor/overview)、[Azure Application Insights](/azure/application-insights/app-insights-overview)、Azure ログを使用すると、管理者はバッチ実行の過剰なパフォーマンスを監視し、ボトルネックを回避することができます。</span><span class="sxs-lookup"><span data-stu-id="717db-181">Use monitoring tools, [Azure Monitor](/azure/azure-monitor/overview), [Azure Application Insights](/azure/application-insights/app-insights-overview), and even the Azure logs enable administrators to monitor any over performance of batch runs and help eliminate bottlenecks.</span></span>

## <a name="migrate-development-environments"></a><span data-ttu-id="717db-182">開発環境を移行する</span><span class="sxs-lookup"><span data-stu-id="717db-182">Migrate development environments</span></span>

<span data-ttu-id="717db-183">クラウドの分散アーキテクチャは、最新の手法とプログラミング言語のメリットを提供するさまざまな開発ツールのセットに依存します。</span><span class="sxs-lookup"><span data-stu-id="717db-183">The cloud’s distributed architectures rely on a different set of development tools that provide the advantage of modern practices and programming languages.</span></span> <span data-ttu-id="717db-184">この移行を容易にするには、IBM z/OS 環境をエミュレートするように設計された他のツールで開発環境を使用することができます。</span><span class="sxs-lookup"><span data-stu-id="717db-184">To ease this transition, you can use a development environment with other tools that are designed to emulate IBM z/OS environments.</span></span> <span data-ttu-id="717db-185">次に、Microsoft と他のベンダーが提供するオプションの一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="717db-185">The following list shows options from Microsoft and other vendors:</span></span>

| <span data-ttu-id="717db-186">コンポーネント</span><span class="sxs-lookup"><span data-stu-id="717db-186">Component</span></span>        | <span data-ttu-id="717db-187">Azure のオプション</span><span class="sxs-lookup"><span data-stu-id="717db-187">Azure Options</span></span>                                                                                                                                  |
|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="717db-188">z/OS</span><span class="sxs-lookup"><span data-stu-id="717db-188">z/OS</span></span>             | <span data-ttu-id="717db-189">Windows、Linux、UNIX</span><span class="sxs-lookup"><span data-stu-id="717db-189">Windows, Linux, or UNIX</span></span>                                                                                                                      |
| <span data-ttu-id="717db-190">CICS</span><span class="sxs-lookup"><span data-stu-id="717db-190">CICS</span></span>             | <span data-ttu-id="717db-191">Micro Focus、Oracle、GT Software (Fujitsu)、TmaxSoft、Raincode、NTT Data によって提供される Azure サービス、または Kubernetes を使用した書き換え</span><span class="sxs-lookup"><span data-stu-id="717db-191">Azure services offered by Micro Focus, Oracle, GT Software (Fujitsu), TmaxSoft, Raincode, and NTT Data, or rewrite using Kubernetes</span></span> |
| <span data-ttu-id="717db-192">IMS</span><span class="sxs-lookup"><span data-stu-id="717db-192">IMS</span></span>              | <span data-ttu-id="717db-193">Micro Focus と Oracle によって提供される Azure サービス</span><span class="sxs-lookup"><span data-stu-id="717db-193">Azure services offered by Micro Focus and Oracle</span></span>                                                                                  |
| <span data-ttu-id="717db-194">アセンブラー</span><span class="sxs-lookup"><span data-stu-id="717db-194">Assembler</span></span>        | <span data-ttu-id="717db-195">Raincode と TmaxSoft からの Azure サービス、COBOL、C、Java、またはオペレーティング システムの機能へのマップ</span><span class="sxs-lookup"><span data-stu-id="717db-195">Azure services from Raincode and TmaxSoft; or COBOL, C, or Java, or map to operating system functions</span></span>               |
| <span data-ttu-id="717db-196">JCL</span><span class="sxs-lookup"><span data-stu-id="717db-196">JCL</span></span>              | <span data-ttu-id="717db-197">JCL、PowerShell、または他のスクリプト ツール</span><span class="sxs-lookup"><span data-stu-id="717db-197">JCL, PowerShell, or other scripting tools</span></span>                                                                                                   |
| <span data-ttu-id="717db-198">COBOL</span><span class="sxs-lookup"><span data-stu-id="717db-198">COBOL</span></span>            | <span data-ttu-id="717db-199">COBOL、C、または Java</span><span class="sxs-lookup"><span data-stu-id="717db-199">COBOL, C, or Java</span></span>                                                                                                                            |
| <span data-ttu-id="717db-200">Natural</span><span class="sxs-lookup"><span data-stu-id="717db-200">Natural</span></span>          | <span data-ttu-id="717db-201">Natural、COBOL、C、または Java</span><span class="sxs-lookup"><span data-stu-id="717db-201">Natural, COBOL, C, or Java</span></span>                                                                                                                  |
| <span data-ttu-id="717db-202">FORTRAN と PL/I</span><span class="sxs-lookup"><span data-stu-id="717db-202">FORTRAN and PL/I</span></span> | <span data-ttu-id="717db-203">FORTRAN、PL/I、COBOL、C、また Java</span><span class="sxs-lookup"><span data-stu-id="717db-203">FORTRAN, PL/I, COBOL, C, or Java</span></span>                                                                                                           |
| <span data-ttu-id="717db-204">REXX と PL/I</span><span class="sxs-lookup"><span data-stu-id="717db-204">REXX and PL/I</span></span>    | <span data-ttu-id="717db-205">REXX、PowerShell、または他のスクリプト ツール</span><span class="sxs-lookup"><span data-stu-id="717db-205">REXX, PowerShell, or other scripting tools</span></span>                                                                                                  |

## <a name="migrate-databases-and-data"></a><span data-ttu-id="717db-206">データベースとデータを移行する</span><span class="sxs-lookup"><span data-stu-id="717db-206">Migrate databases and data</span></span>

<span data-ttu-id="717db-207">アプリケーションの移行には、通常、データ層の再ホストが伴います。</span><span class="sxs-lookup"><span data-stu-id="717db-207">Application migration usually involves rehosting the data tier.</span></span> <span data-ttu-id="717db-208">[Azure Database Migration Service](/azure/dms/dms-overview) を使用すると、[Azure SQL Database Managed Instance](/azure/sql-database/sql-database-managed-instance)、[Azure Database Service for PostgreSQL](/azure/postgresql/overview)、[Azure Database for MySQL](/azure/mysql/overview) など、Azure 上のフルマネージド ソリューションに (SQL Server、オープン ソース、その他の) リレーショナル データベースを移行できます。</span><span class="sxs-lookup"><span data-stu-id="717db-208">You can migrate SQL Server, open-source, and other relational databases to fully-managed solutions on Azure, such as [Azure SQL Database Managed Instance](/azure/sql-database/sql-database-managed-instance), [Azure Database Service for PostgreSQL](/azure/postgresql/overview), and [Azure Database for MySQL](/azure/mysql/overview) with [Azure Database Migration Service](/azure/dms/dms-overview).</span></span>

<span data-ttu-id="717db-209">たとえば、メインフレームのデータ層で次のものが使用されている場合に移行できます。</span><span class="sxs-lookup"><span data-stu-id="717db-209">For example, you can migrate if the mainframe data tier uses:</span></span>

- <span data-ttu-id="717db-210">IBM DB2 または IMS データベース。Azure で Azure SQL Database、SQL Server、DB2 LUW、または Oracle Database を使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-210">IBM DB2 or an IMS database, use Azure SQL database, SQL Server, DB2 LUW, or Oracle Database on Azure.</span></span>

- <span data-ttu-id="717db-211">VSAM および他のフラット ファイル。Azure SQL、SQL Server、DB2 LUW、または Oracle で ISAM (Indexed Sequential Access Method: 索引順次アクセス方式) を使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-211">VSAM and other flat files, use Indexed Sequential Access Method (ISAM) flat files for Azure SQL, SQL Server, DB2 LUW, or Oracle.</span></span>

- <span data-ttu-id="717db-212">Generation Data Group (GDG)。Azure では、同様の機能を GDG に提供する名前付け規則とファイル名拡張子を使用するファイルに移行します。</span><span class="sxs-lookup"><span data-stu-id="717db-212">Generation Date Groups (GDGs), migrate to files on Azure that use a naming convention and filename extensions that provide similar functionality to GDGs.</span></span>

<span data-ttu-id="717db-213">IBM のデータ層には、やはり移行する必要がある複数の主要なコンポーネントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="717db-213">The IBM data tier includes several key components that you must also migrate.</span></span> <span data-ttu-id="717db-214">たとえば、データベースを移行するときは、z/OS VSAM データ セットである dbextent をそれぞれが含む、プールに含まれるデータのコレクションも移行します。</span><span class="sxs-lookup"><span data-stu-id="717db-214">For example, when you migrate a database, you also migrate a collection of data contained in pools, each containing dbextents, which are z/OS VSAM data sets.</span></span> <span data-ttu-id="717db-215">移行には、ストレージ プール内のデータの場所を示すディレクトリが含まれる必要があります。</span><span class="sxs-lookup"><span data-stu-id="717db-215">Your migration must include the directory that identifies data locations in the storage pools.</span></span> <span data-ttu-id="717db-216">また、移行計画では、データベースで実行された操作の記録を含むデータベース ログを考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="717db-216">Also, your migration plan must consider the database log, which contains a record of operations performed on the database.</span></span> <span data-ttu-id="717db-217">データベースには、1 つ、2 つ (デュアルまたは代替)、または 4 つ (デュアルおよび代替) のログが含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="717db-217">A database can have one, two (dual or alternate), or four (dual and alternate) logs.</span></span>

<span data-ttu-id="717db-218">データベースの移行には、以下のコンポーネントも含まれます。</span><span class="sxs-lookup"><span data-stu-id="717db-218">Database migration also includes these components:</span></span>

- <span data-ttu-id="717db-219">データベース マネージャー:データベース内のデータへのアクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="717db-219">Database manager: Provides access to data in the database.</span></span> <span data-ttu-id="717db-220">データベース マネージャーは、z/OS 環境内の専用のパーティションで実行されます。</span><span class="sxs-lookup"><span data-stu-id="717db-220">The database manager runs in its own partition in a z/OS environment.</span></span>

- <span data-ttu-id="717db-221">アプリケーション リクエスター:アプリケーション サーバーに渡す前に、アプリケーションから要求を受け入れます。</span><span class="sxs-lookup"><span data-stu-id="717db-221">Application requester: Accepts requests from applications before passing them to an application server.</span></span>

- <span data-ttu-id="717db-222">オンライン リソース アダプター:CICS トランザクションで使用するアプリケーション リクエスター コンポーネントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="717db-222">Online resource adapter: Includes application requester components for use in CICS transactions.</span></span>

- <span data-ttu-id="717db-223">バッチ リソース アダプター:z/OS バッチ アプリケーション用のアプリケーション リクエスター コンポーネントを実装します。</span><span class="sxs-lookup"><span data-stu-id="717db-223">Batch resource adapter: Implements application requester components for z/OS batch applications.</span></span>

- <span data-ttu-id="717db-224">対話式 SQL (ISQL):CICS アプリケーションおよびインターフェイスとして実行され、ユーザーが SQL ステートメントまたはオペレーター コマンドを入力できるようにします。</span><span class="sxs-lookup"><span data-stu-id="717db-224">Interactive SQL (ISQL): Runs as a CICS application and interface enabling users to enter SQL statements or operator commands.</span></span>

- <span data-ttu-id="717db-225">CICS アプリケーション:CICS の制御下で実行され、CICS で使用可能なリソースとデータ ソースを使用します。</span><span class="sxs-lookup"><span data-stu-id="717db-225">CICS application: Runs under the control of CICS, using available resources and data sources in CICS.</span></span>

- <span data-ttu-id="717db-226">バッチ アプリケーション:ユーザーとの対話型通信を行わずにプロセスのロジックを実行します。たとえば、一括データ更新プログラムを作成したり、データベースからレポートを生成したりします。</span><span class="sxs-lookup"><span data-stu-id="717db-226">Batch application: Runs process logic without interactive communication with users to, for example, produce bulk data updates or generate reports from a database.</span></span>

## <a name="optimize-scale-and-throughput-for-azure"></a><span data-ttu-id="717db-227">Azure のスケールとスループットを最適化する</span><span class="sxs-lookup"><span data-stu-id="717db-227">Optimize scale and throughput for Azure</span></span>

<span data-ttu-id="717db-228">一般に、メインフレームはスケールアップし、クラウドはスケールアウトします。Azure で実行されるメインフレーム スタイルのアプリケーションのスケールとスループットを最適化するには、メインフレームでアプリケーションが分割および分離される方法を理解することが重要です。</span><span class="sxs-lookup"><span data-stu-id="717db-228">Generally speaking, mainframes scale up, while the cloud scales out. To optimize scale and throughput of mainframe-style applications running on Azure, it is important that you understand at how mainframes can separate and isolate applications.</span></span> <span data-ttu-id="717db-229">z/OS メインフレームでは、1 つのインスタンス上で特定のアプリケーションに対するリソースを分離して管理するために、論理パーティション (LPAR) と呼ばれる機能が使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-229">A z/OS mainframe uses a feature called Logical Partitions (LPARS) to isolate and manage the resources for a specific application on a single instance.</span></span>

<span data-ttu-id="717db-230">たとえば、メインフレームでは CICS 領域と関連する COBOL プログラム用に 1 つの論理パーティション (LPAR)、DB2 用に別の LPAR が使用される場合があります。</span><span class="sxs-lookup"><span data-stu-id="717db-230">For example, a mainframe might use one logical partition (LPAR) for a CICS region with associated COBOL programs, and a separate LPAR for DB2.</span></span> <span data-ttu-id="717db-231">開発、テスト、およびステージング環境用に追加の LPAR が使用されることがよくあります。</span><span class="sxs-lookup"><span data-stu-id="717db-231">Additional LPARs are often used for the development, testing, and staging environments.</span></span>

<span data-ttu-id="717db-232">Azure では、この目的に別の VM を使用することの方が一般的です。</span><span class="sxs-lookup"><span data-stu-id="717db-232">On Azure, it’s more common to use separate VMs to serve this purpose.</span></span> <span data-ttu-id="717db-233">通常、Azure のアーキテクチャでは、アプリケーション層、データ層、開発用などにそれぞれ異なる VM のセットがデプロイされます。</span><span class="sxs-lookup"><span data-stu-id="717db-233">Azure architectures typically deploy VMs for the application tier, a separate set of VMs for the data tier, another set for development, and so on.</span></span> <span data-ttu-id="717db-234">処理の各階層は、その環境に最も適した種類の VM と機能を使用して最適化できます。</span><span class="sxs-lookup"><span data-stu-id="717db-234">Each tier of processing can be optimized using the most suitable type of VMs and  features for that environment.</span></span>

<span data-ttu-id="717db-235">さらに、各階層で適切なディザスター リカバリー サービスを提供することもできます。</span><span class="sxs-lookup"><span data-stu-id="717db-235">In addition, each tier can also provide appropriate disaster recovery services.</span></span> <span data-ttu-id="717db-236">たとえば、運用およびデータベース用の VM ではホットまたはウォーム リカバリーが必要であり、開発およびテスト用の VM ではコールド リカバリーをサポートするようなことがあります。</span><span class="sxs-lookup"><span data-stu-id="717db-236">For example, production and database VMs might require a hot or warm recovery, while the development and testing VMs support a cold recovery.</span></span>

<span data-ttu-id="717db-237">次の図では、プライマリ サイトとセカンダリ サイトを使用して可能な Azure のデプロイを示します。</span><span class="sxs-lookup"><span data-stu-id="717db-237">The following figure shows a possible Azure deployment using a primary and a secondary site.</span></span> <span data-ttu-id="717db-238">プライマリ サイトには、運用、運用前、およびテスト用の VM が高可用性でデプロイされます。</span><span class="sxs-lookup"><span data-stu-id="717db-238">In the primary site, the production, preproduction, and testing VMs are deployed with high availability.</span></span> <span data-ttu-id="717db-239">セカンダリ サイトは、バックアップおよびディザスター リカバリー用です。</span><span class="sxs-lookup"><span data-stu-id="717db-239">The secondary site is for backup and disaster recovery.</span></span>

![プライマリ サイトとセカンダリ サイトを使用して可能な Azure のデプロイ](../../_images/mainframe-migration/migration-backup-DR.png)

## <a name="perform-a-staged-mainframe-to-azure"></a><span data-ttu-id="717db-241">メインフレームから Azure への段階的移行を実行する</span><span class="sxs-lookup"><span data-stu-id="717db-241">Perform a staged mainframe to Azure</span></span>

<span data-ttu-id="717db-242">メインフレームから Azure へのソリューションの移動では、"*段階的な*" 移行が必要な場合があります。つまり、一部のアプリケーションが最初に移動され、他のアプリケーションは一時的または永続的にメインフレームに残されます。</span><span class="sxs-lookup"><span data-stu-id="717db-242">Moving solutions from a mainframe to Azure may involve a *staged* migration, whereby some applications are moved first, and others remain on the mainframe temporarily or permanently.</span></span> <span data-ttu-id="717db-243">通常、このアプローチには、メインフレームと Azure の間でアプリケーションとデータベースが相互運用できるシステムが必要です。</span><span class="sxs-lookup"><span data-stu-id="717db-243">This approach typically requires systems that allow applications and databases to interoperate between the mainframe and Azure.</span></span>

<span data-ttu-id="717db-244">一般的なシナリオでは、アプリケーションを Azure に移動し、アプリケーションによって使用されるデータはメインフレームで維持します。</span><span class="sxs-lookup"><span data-stu-id="717db-244">A common scenario is to move an application to Azure while keeping the data used by the application on the mainframe.</span></span> <span data-ttu-id="717db-245">Azure 上のアプリケーションがメインフレーム上のデータにアクセスできるようにするには、特定のソフトウェアが使用されます。</span><span class="sxs-lookup"><span data-stu-id="717db-245">Specific software is used to enable the applications on Azure to access data from the mainframe.</span></span> <span data-ttu-id="717db-246">さいわい、広範なソリューションでは、Azure と既存のメインフレーム環境間の統合、ハイブリッド シナリオのサポート、および時間をかけた移行が提供されています。</span><span class="sxs-lookup"><span data-stu-id="717db-246">Fortunately, a wide range of solutions provide integration between Azure and existing mainframe environments, support for hybrid scenarios, and migration over time.</span></span> <span data-ttu-id="717db-247">Microsoft パートナー、独立系ソフトウェア ベンダー、およびシステム インテグレーターがユーザーの作業を支援できます。</span><span class="sxs-lookup"><span data-stu-id="717db-247">Microsoft partners, independent software vendors, and system integrators can help you on your journey.</span></span>

<span data-ttu-id="717db-248">1 つのオプションは [Microsoft Host Integration Server](/host-integration-server) (HIS) です。このソリューションでは、メインフレームに残っている DB2 のデータにアクセスするために Azure のアプリケーションで必要な分散リレーショナル データベース アーキテクチャ (DRDA) が提供されます。</span><span class="sxs-lookup"><span data-stu-id="717db-248">One option is [Microsoft Host Integration Server](/host-integration-server) (HIS), a solution that provides the distributed relational database architecture (DRDA) required for applications in Azure to access data in DB2 that remains on the mainframe.</span></span> <span data-ttu-id="717db-249">メインフレームと Azure の統合に対する他のオプションとしては、IBM、Attunity、Codit、他のベンダーからのソリューション、およびオープン ソースのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="717db-249">Other options for mainframe-to-Azure integration include solutions from IBM, Attunity, Codit, other vendors, and open source options.</span></span>

## <a name="partner-solutions"></a><span data-ttu-id="717db-250">パートナー ソリューション</span><span class="sxs-lookup"><span data-stu-id="717db-250">Partner solutions</span></span>

<span data-ttu-id="717db-251">メインフレームの移行を検討している場合は、パートナー エコシステムが役に立ちます。</span><span class="sxs-lookup"><span data-stu-id="717db-251">If you are considering a mainframe migration, the partner ecosystem is available to assist you.</span></span>

<span data-ttu-id="717db-252">Azure では、メインフレームで現在実行されているシステムに対し、実績があり高可用性でスケーラブルなインフラストラクチャが提供されます。</span><span class="sxs-lookup"><span data-stu-id="717db-252">Azure provides a proven, highly available, and scalable infrastructure for systems that currently run on mainframes.</span></span> <span data-ttu-id="717db-253">一部のワークロードは、比較的簡単に移行できます。</span><span class="sxs-lookup"><span data-stu-id="717db-253">Some workloads can be migrated with relative ease.</span></span> <span data-ttu-id="717db-254">CICS や IMS のように従来のシステム ソフトウェアに依存する他のワークロードは、パートナー ソリューションを使用して再ホストし、時間をかけて Azure に移行することができます。</span><span class="sxs-lookup"><span data-stu-id="717db-254">Other workloads that depend on legacy system software, such as CICS and IMS, can be rehosted using partner solutions and migrated to Azure over time.</span></span> <span data-ttu-id="717db-255">何を選択しても、Microsoft とそのパートナーが、メインフレーム システムのソフトウェアの機能を維持しながら、Azure に対する最適化を支援します。</span><span class="sxs-lookup"><span data-stu-id="717db-255">Regardless of the choice you make, Microsoft and our partners are available to assist you in optimizing for Azure while maintaining mainframe system software functionality.</span></span>

<span data-ttu-id="717db-256">パートナー ソリューションの選択に関する詳細なガイダンスについては、「[Platform Modernization Alliance (プラットフォーム最新化アライアンス)](https://www.platformmodernization.org/pages/mainframe.aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="717db-256">For detailed guidance about choosing a partner solution, refer to the [Platform Modernization Alliance](https://www.platformmodernization.org/pages/mainframe.aspx).</span></span>

## <a name="learn-more"></a><span data-ttu-id="717db-257">詳細情報</span><span class="sxs-lookup"><span data-stu-id="717db-257">Learn more</span></span>

<span data-ttu-id="717db-258">詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="717db-258">For more information, see the following resources:</span></span>

- [<span data-ttu-id="717db-259">Azure を使ってみる</span><span class="sxs-lookup"><span data-stu-id="717db-259">Get started with Azure</span></span>](/azure)

- [<span data-ttu-id="717db-260">プラットフォーム近代化のための提携:メインフレーム移行</span><span class="sxs-lookup"><span data-stu-id="717db-260">Platform Modernization Alliance: Mainframe migration</span></span>](https://www.platformmodernization.org/pages/mainframe.aspx)

- [<span data-ttu-id="717db-261">Azure 上に IBM DB2 pureScale をデプロイする</span><span class="sxs-lookup"><span data-stu-id="717db-261">Deploy IBM DB2 pureScale on Azure</span></span>](https://azure.microsoft.com/resources/deploy-ibm-db2-purescale-on-azure)

- [<span data-ttu-id="717db-262">Host Integration Server (HIS) のドキュメント</span><span class="sxs-lookup"><span data-stu-id="717db-262">Host Integration Server (HIS) documentation</span></span>](/host-integration-server)
