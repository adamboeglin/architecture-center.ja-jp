---
title: メインフレーム移行:メインフレームから Azure に切り替える
description: メインフレームで現在実行されているシステムに関してメインフレーム環境から Azure にアプリケーションを移行します。Azure は可用性が高く、拡張可能なインフラストラクチャであることが証明されています。
author: njray
ms.date: 12/26/2018
ms.openlocfilehash: 9243f757182f95cc227fd6cd7a5374f9c1371ccc
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2019
ms.locfileid: "58243113"
---
# <a name="make-the-switch-from-mainframes-to-azure"></a><span data-ttu-id="beeb3-103">メインフレームから Azure に切り替える</span><span class="sxs-lookup"><span data-stu-id="beeb3-103">Make the switch from mainframes to Azure</span></span>

<span data-ttu-id="beeb3-104">Azure は、従来のメインフレーム アプリケーションを実行するための代替プラットフォームとして、高可用環境にハイパースケールのコンピューティングとストレージを提供します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-104">As an alternative platform for running traditional mainframe applications, Azure offers hyperscale compute and storage in a high availability environment.</span></span> <span data-ttu-id="beeb3-105">メインフレーム環境に関連するコストをかけずに、最新のクラウドベースのプラットフォームの価値と敏捷性が手に入ります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-105">You get the value and agility of a modern, cloud-based platform without the costs associated with a mainframe environment.</span></span>

<span data-ttu-id="beeb3-106">このセクションでは、メインフレーム プラットフォームから Azure への切り替えに関する技術的なガイダンスを提供します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-106">This section provides technical guidance for making the switch from a mainframe platform to Azure.</span></span>

![メインフレームと Azure](../../_images/mainframe-migration/make-the-switch.png)

## <a name="mips-vs-vcpus"></a><span data-ttu-id="beeb3-108">MIPS と vCPU</span><span class="sxs-lookup"><span data-stu-id="beeb3-108">MIPS vs. vCPUs</span></span>

<span data-ttu-id="beeb3-109">メインフレームのワークロードを実行するために必要な仮想中央処理装置 (vCPU) のサイズを決定するための汎用のマッピング式はありません。</span><span class="sxs-lookup"><span data-stu-id="beeb3-109">There is no universal mapping formula that exists for determining the amount of virtual central processing units (vCPUs) needed to run mainframe workloads.</span></span> <span data-ttu-id="beeb3-110">ただし、100万命令毎秒 (MIPS) のメトリックは、多くの場合、Azure 上の vCPU にマップされます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-110">However, the metric of a million instructions per second (MIPS) is often mapped to vCPUs on Azure.</span></span> <span data-ttu-id="beeb3-111">MIPS では、特定のマシンの 1 秒あたりのサイクル数を一定の値にすることで、メインフレームの全体的なコンピューティング能力を測定します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-111">MIPS measures the overall compute power of a mainframe by providing a constant value of the number of cycles per second for a given machine.</span></span>

<span data-ttu-id="beeb3-112">小規模な組織では 500 MIPS 未満で済みますが、大規模な組織は通常 5,000 MIPS を超えます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-112">A small organization might require less than 500 MIPS, while a large organization typically uses more than 5,000 MIPS.</span></span> <span data-ttu-id="beeb3-113">1 MIPS あたり 1,000 ドルの場合、大規模な組織では 5,000 MIPS のインフラストラクチャをデプロイするために年間約 500 万ドルを費やします。</span><span class="sxs-lookup"><span data-stu-id="beeb3-113">At $1,000 per single MIPS, a large organization spends approximately $5 million annually to deploy a 5,000-MIPS infrastructure.</span></span> <span data-ttu-id="beeb3-114">この規模の一般的な Azure デプロイの年間コスト見積もりは、MIPS インフラストラクチャのコストの約 1/10 です。</span><span class="sxs-lookup"><span data-stu-id="beeb3-114">The annual cost estimate for a typical Azure deployment of this scale is approximately one-tenth the cost of a MIPS infrastructure.</span></span> <span data-ttu-id="beeb3-115">詳細については、ホワイト ペーパー「[Demystifying Mainframe-to-Azure Migration (メインフレームから Azure への移行の解明)](https://azure.microsoft.com/resources/demystifying-mainframe-to-azure-migration)」の表 4 を参照してください。</span><span class="sxs-lookup"><span data-stu-id="beeb3-115">For details, see Table 4 in the [Demystifying Mainframe-to-Azure Migration](https://azure.microsoft.com/resources/demystifying-mainframe-to-azure-migration) white paper.</span></span>

<span data-ttu-id="beeb3-116">Azure による vCPU への MIPS の正確な計算は、vCPU の種類と実行している正確なワークロードによって変わります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-116">An accurate calculation of MIPS to vCPUs with Azure depends on the type of vCPU and the exact workload you are running.</span></span> <span data-ttu-id="beeb3-117">ただし、ベンチマーク調査は、必要となる vCPU の数と種類を見積もるための優れた基盤となります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-117">However, benchmark studies provide a good basis for estimating the number and type of vCPUs you will need.</span></span> <span data-ttu-id="beeb3-118">最近の [HPE zREF ベンチマーク](https://h20195.www2.hpe.com/v2/getpdf.aspx/4aa4-2452enw.pdf)は、以下の見積もりを提供しています。</span><span class="sxs-lookup"><span data-stu-id="beeb3-118">A recent [HPE zREF benchmark](https://h20195.www2.hpe.com/v2/getpdf.aspx/4aa4-2452enw.pdf) provides the following estimates:</span></span>

- <span data-ttu-id="beeb3-119">オンライン (CICS) ジョブの場合、HP Proliant サーバー上で実行される Intel ベース コアあたり 288 MIPS。</span><span class="sxs-lookup"><span data-stu-id="beeb3-119">288 MIPS per Intel-based core running on HP Proliant servers for online (CICS) jobs.</span></span>

- <span data-ttu-id="beeb3-120">COBOL バッチ ジョブの場合、Intel コアあたり 170 MIPS。</span><span class="sxs-lookup"><span data-stu-id="beeb3-120">170 MIPS per Intel core for COBOL batch jobs.</span></span>

<span data-ttu-id="beeb3-121">このガイドでは、オンライン処理の場合は vCPU あたり 200 MIPS、バッチ処理の場合は vCPU あたり 100 MIPS と見積もります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-121">This guide estimates 200 MIPS per vCPU for online processing and 100 MIPS per vCPU for batch processing.</span></span>

> [!NOTE]
> <span data-ttu-id="beeb3-122">このような見積もりは、新しい仮想マシン (VM) シリーズが Azure で使用できるようになると変わる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-122">These estimates are subject to change as new virtual machine (VM) series become available in Azure.</span></span>

## <a name="high-availability-and-failover"></a><span data-ttu-id="beeb3-123">高可用性とフェールオーバー</span><span class="sxs-lookup"><span data-stu-id="beeb3-123">High availability and failover</span></span>

<span data-ttu-id="beeb3-124">メインフレーム システムでは、メインフレームの結合と Parallel Sysplex を使用する場合、ファイブ ナインの可用性 (99.999%) が提供されることがよくあります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-124">Mainframe systems often offer five 9s availability (99.999 percent) when mainframe coupling and Parallel Sysplex are used.</span></span> <span data-ttu-id="beeb3-125">それでも、システム運用者は、保守と初期プログラム読み込み (IPL) のためのダウンタイムをスケジュールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-125">Yet system operators still need to schedule downtime for maintenance and initial program loads (IPLs).</span></span> <span data-ttu-id="beeb3-126">実際の可用性は、ハイエンドの Intel ベースのサーバーと同等のツー ナインまたはスリー ナインに近づきます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-126">The actual availability approaches two or three 9s, on par with high end, Intel-based servers.</span></span>

<span data-ttu-id="beeb3-127">対照的に、Azure はコミットメントベースのサービス レベル アグリーメント (SLA) を提供します。この場合、複数ナインの可用性が既定であり、ローカルまたは地域ベースのサービスのレプリケーションに最適化されています。</span><span class="sxs-lookup"><span data-stu-id="beeb3-127">By comparison, Azure offers commitment-based service level agreements (SLAs), where multiple 9s availability is the default, optimized with local or geo-based replication of services.</span></span>

<span data-ttu-id="beeb3-128">Azure は、ローカルでも他の地域内でも、複数のストレージ デバイスからデータをレプリケートすることで可用性を向上します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-128">Azure provides additional availability by replicating data from multiple storage devices, either locally or in other geographic regions.</span></span> <span data-ttu-id="beeb3-129">Azure ベースの障害が発生した場合、コンピューティング リソースはローカルまたはリージョン レベルでレプリケートされたデータにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-129">In the event of an Azure-based failure, compute resources can access the replicated data on either the local or regional level.</span></span>

<span data-ttu-id="beeb3-130">[Azure SQL Database](/azure/sql-database/sql-database-technical-overview) や [Azure Cosmos Database](/azure/cosmos-db/introduction) などの Azure のサービスとしてのプラットフォーム (PaaS) リソースを使用すると、Azure で自動的にフェールオーバーを処理できます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-130">When you use Azure platform as a service (PaaS) resources, such as [Azure SQL Database](/azure/sql-database/sql-database-technical-overview) and [Azure Cosmos Database](/azure/cosmos-db/introduction), Azure can automatically handle failovers.</span></span> <span data-ttu-id="beeb3-131">Azure のサービスとしてのインフラストラクチャ (IaaS) を使用する場合、フェールオーバーは、SQL Server の AlwaysOn 機能、フェールオーバー クラスタリング インスタンス、可用性グループなど、特定のシステム機能に依存します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-131">When you use Azure infrastructure as a service (IaaS), failover relies on specific system functionality, such as SQL Server AlwaysOn features, failover clustering instances, and availability groups.</span></span>

## <a name="scalability"></a><span data-ttu-id="beeb3-132">スケーラビリティ</span><span class="sxs-lookup"><span data-stu-id="beeb3-132">Scalability</span></span>

<span data-ttu-id="beeb3-133">メインフレームは通常スケールアップしますが、クラウド環境はスケールアウトします。メインフレームは結合機能 (CF) を使用してスケールアウトできますが、ハードウェアとストレージのコストが高いため、メインフレームのスケールアウトは非常に高価です。</span><span class="sxs-lookup"><span data-stu-id="beeb3-133">Mainframes typically scale up, while cloud environments scale out. Mainframes can scale out with the use of a coupling facility (CF), but the high costs of hardware and storage makes mainframes very expensive to scale out.</span></span>

<span data-ttu-id="beeb3-134">さらに、CF は密結合コンピューティングを提供しますが、Azure のスケールアウト機能は疎結合です。</span><span class="sxs-lookup"><span data-stu-id="beeb3-134">In addition, a CF offers tightly coupled compute, whereas the scale-out features of Azure are loosely coupled.</span></span> <span data-ttu-id="beeb3-135">クラウドは、使用量ベースの課金モデルでは、オンデマンドのコンピューティング能力、ストレージ、およびサービスのスケールによって、正確なユーザー仕様に合わせてスケールアップまたはスケールダウンできます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-135">The cloud can scale up or down to match exact user specifications, with compute power, storage, and services scaling on demand under a usage-based billing model.</span></span>

## <a name="backup-and-recovery"></a><span data-ttu-id="beeb3-136">バックアップと回復</span><span class="sxs-lookup"><span data-stu-id="beeb3-136">Backup and recovery</span></span>

<span data-ttu-id="beeb3-137">一般的に、メインフレームのお客様は、災害時に備えてディザスター リカバリー サイトを保守するか、独立したメインフレーム プロバイダーを利用しています。</span><span class="sxs-lookup"><span data-stu-id="beeb3-137">Mainframe customers typically maintain disaster recovery sites or make use or an independent mainframe provider for disaster contingencies.</span></span> <span data-ttu-id="beeb3-138">ディザスター リカバリー サイトとの同期は、通常、データのオフライン コピーを使用して実行されます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-138">Synchronization with a disaster recovery site is usually done through offline copies of data.</span></span> <span data-ttu-id="beeb3-139">どちらの方法も高コストが発生します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-139">Both options incur high costs.</span></span>

<span data-ttu-id="beeb3-140">また、自動化された geo 冗長性は、多額の費用はかかりますが、メインフレームの結合機能を介しても利用できます。また、通常はミッションクリティカル システム用に予約されています。</span><span class="sxs-lookup"><span data-stu-id="beeb3-140">Automated geo-redundancy is also available through the mainframe coupling facility, albeit at great expense, and is usually reserved for mission-critical systems.</span></span> <span data-ttu-id="beeb3-141">対照的に、Azure には、実装が簡単で費用対効果の高い[バックアップ](/azure/backup/backup-introduction-to-azure-backup)、[復旧](/azure/site-recovery/site-recovery-overview)、および[冗長性](/azure/storage/common/storage-redundancy)のオプションがあり、ローカル レベルまたはリージョン レベルで、または geo 冗長性を介して利用できます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-141">In contrast, Azure has easy-to-implement and cost-effective options for [backup](/azure/backup/backup-introduction-to-azure-backup), [recovery](/azure/site-recovery/site-recovery-overview), and [redundancy](/azure/storage/common/storage-redundancy) at local or regional levels, or via geo-redundancy.</span></span>

## <a name="storage"></a><span data-ttu-id="beeb3-142">Storage</span><span class="sxs-lookup"><span data-stu-id="beeb3-142">Storage</span></span>

<span data-ttu-id="beeb3-143">メインフレームのしくみを理解するには、さまざまな重複する用語を解読することも必要です。</span><span class="sxs-lookup"><span data-stu-id="beeb3-143">Part of understanding how mainframes work involves decoding various overlapping terms.</span></span> <span data-ttu-id="beeb3-144">たとえば、一般的に、中央ストレージ、物理メモリ、物理ストレージ、およびメイン ストレージは、すべてメインフレーム プロセッサに直接接続されているストレージを指します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-144">For example, central storage, real memory, real storage, and main storage all generally refer to storage attached directly to the mainframe processor.</span></span>

<span data-ttu-id="beeb3-145">メインフレーム ハードウェアには、プロセッサや他の多くのデバイスが含まれます。たとえば、ダイレクト アクセス ストレージ デバイス (DASD)、磁気テープ ドライブ、一部のユーザー コンソールなどです。</span><span class="sxs-lookup"><span data-stu-id="beeb3-145">Mainframe hardware includes processors and many other devices, such as direct access storage devices (DASDs), magnetic tape drives, and several types of user consoles.</span></span> <span data-ttu-id="beeb3-146">テープと DASD は、システム関数のためにユーザー プログラムによって使用されます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-146">Tapes and DASDs are used for system functions and by user programs.</span></span>

<span data-ttu-id="beeb3-147">メインフレーム用の物理ストレージには、次のような種類があります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-147">Types of physical storage for mainframes include:</span></span>

- <span data-ttu-id="beeb3-148">中央ストレージ:メインフレーム プロセッサ上に直接配置され、これはプロセッサまたは物理ストレージとも呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-148">Central storage: Located directly on the mainframe processor, this is also known as processor or real storage.</span></span>

- <span data-ttu-id="beeb3-149">補助ストレージ:メインフレームとは別に配置されます。この種類には、DASD 上のストレージが含まれ、ページング ストレージとも呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-149">Auxiliary storage: Located separately from the mainframe, this type includes storage on DASDs and is also known as paging storage.</span></span>

<span data-ttu-id="beeb3-150">クラウドには、柔軟でスケーラブルなオプションが幅広く用意されており、必要なオプションに対してのみ料金を支払います。</span><span class="sxs-lookup"><span data-stu-id="beeb3-150">The cloud offers a range of flexible, scalable options, and you will pay only for those options that you need.</span></span> <span data-ttu-id="beeb3-151">[Azure Storage](/azure/storage/common/storage-introduction) は、データ オブジェクトのための高度にスケーラブルなオブジェクト ストア、クラウドのためのファイル システム サービス、信頼性の高いメッセージング ストア、および NoSQL ストアを提供します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-151">[Azure Storage](/azure/storage/common/storage-introduction) offers a massively scalable object store for data objects, a file system service for the cloud, a reliable messaging store, and a NoSQL store.</span></span> <span data-ttu-id="beeb3-152">VM の場合、マネージド ディスクとアンマネージド ディスクは、永続的でセキュリティで保護されたディスク ストレージを提供します。</span><span class="sxs-lookup"><span data-stu-id="beeb3-152">For VMs, managed and unmanaged disks provide persistent, secure disk storage.</span></span>

## <a name="mainframe-development-and-testing"></a><span data-ttu-id="beeb3-153">メインフレームの開発とテスト</span><span class="sxs-lookup"><span data-stu-id="beeb3-153">Mainframe development and testing</span></span>

<span data-ttu-id="beeb3-154">メインフレーム移行プロジェクトの主なけん引役は、アプリケーション開発の変化する面です。</span><span class="sxs-lookup"><span data-stu-id="beeb3-154">A major driver in mainframe migration projects is the changing face of application development.</span></span> <span data-ttu-id="beeb3-155">組織は、ビジネス ニーズに対する開発環境の俊敏性と応答性を高める必要があります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-155">Organizations want their development environment to be more agile and responsive to business needs.</span></span>

<span data-ttu-id="beeb3-156">一般的に、メインフレームには、QA やステージング LPAR など、開発用とテスト用に別の論理パーティション (LPAR) があります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-156">Mainframes typically have separate logical partitions (LPARs) for development and testing, such as QA and staging LPARs.</span></span> <span data-ttu-id="beeb3-157">メインフレーム開発ソリューションには、コンパイラ (COBOL、PL/I、アセンブラー) とエディターが含まれます。</span><span class="sxs-lookup"><span data-stu-id="beeb3-157">Mainframe development solutions include compilers (COBOL, PL/I, Assembler) and editors.</span></span> <span data-ttu-id="beeb3-158">最も一般的なものは、IBM メインフレーム上で稼働する z/OS オペレーティング システム用の対話式システム生産性向上機能 (ISPF) です。</span><span class="sxs-lookup"><span data-stu-id="beeb3-158">The most common is the Interactive System Productivity Facility (ISPF) for the z/OS operating system that runs on IBM mainframes.</span></span> <span data-ttu-id="beeb3-159">その他には、ROSCOE Programming Facility (RPF) や、CA Librarian や CA-Panvalet などの Computer Associates ツールがあります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-159">Others include ROSCOE Programming Facility (RPF) and Computer Associates tools, such as CA Librarian and CA-Panvalet.</span></span>

<span data-ttu-id="beeb3-160">エミュレーション環境とコンパイラは x86 プラットフォーム上で使用できるので、一般的に開発とテストはメインフレームから Azure に移行する最初のワークロードになる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-160">Emulation environments and compilers are available on x86 platforms, so development and testing can typically be among the first workloads to migrate from a mainframe to Azure.</span></span> <span data-ttu-id="beeb3-161">[Azure の DevOps ツール](https://azure.microsoft.com/solutions/devops/)の可用性と普及により、開発環境とテスト環境の移行が加速しています。</span><span class="sxs-lookup"><span data-stu-id="beeb3-161">The availability and widespread use of [DevOps tools in Azure](https://azure.microsoft.com/solutions/devops/) is accelerating the migration of development and testing environments.</span></span>

<span data-ttu-id="beeb3-162">ソリューションを Azure 上で開発およびテストし、メインフレームへの展開の準備が整ったら、コードをメインフレームにコピーしてそこでコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="beeb3-162">When solutions are developed and tested on Azure and are ready for deployment to the mainframe, you will need to copy the code to the mainframe and compile it there.</span></span>

## <a name="next-steps"></a><span data-ttu-id="beeb3-163">次の手順</span><span class="sxs-lookup"><span data-stu-id="beeb3-163">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="beeb3-164">メインフレーム アプリケーションの移行</span><span class="sxs-lookup"><span data-stu-id="beeb3-164">Mainframe application migration</span></span>](application-strategies.md)
