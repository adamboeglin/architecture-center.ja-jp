---
title: サブスクリプション ガバナンスのシナリオと例
description: 一般的なシナリオでの Azure サブスクリプション ガバナンスの実装方法の例を紹介します。
author: rdendtler
ms.date: 01/03/2017
ms.author: rodend
ms.topic: guide
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.openlocfilehash: 5ecdf1782fc274205e2750b9dc36fd2de3010e1f
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2019
ms.locfileid: "58244183"
---
# <a name="examples-of-implementing-azure-enterprise-scaffold"></a><span data-ttu-id="4a5d4-103">Azure エンタープライズ スキャフォールディングの実装例</span><span class="sxs-lookup"><span data-stu-id="4a5d4-103">Examples of implementing Azure enterprise scaffold</span></span>

<span data-ttu-id="4a5d4-104">この記事では、企業が [Azure エンタープライズ スキャフォールディング](azure-scaffold.md)の推奨事項を実装する方法の例を紹介します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-104">This article provides examples of how an enterprise can implement the recommendations for an [Azure enterprise scaffold](azure-scaffold.md).</span></span> <span data-ttu-id="4a5d4-105">Contoso という架空の会社を使って一般的なシナリオのベスト プラクティスを示します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-105">It uses a fictional company named Contoso to illustrate best practices for common scenarios.</span></span>

## <a name="background"></a><span data-ttu-id="4a5d4-106">バックグラウンド</span><span class="sxs-lookup"><span data-stu-id="4a5d4-106">Background</span></span>

<span data-ttu-id="4a5d4-107">Contoso は、顧客にサプライ チェーン ソリューションを提供する世界企業です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-107">Contoso is a worldwide company that provides supply chain solutions for customers.</span></span> <span data-ttu-id="4a5d4-108">同社は、サービスとしてのソフトウェア モデルから、オンプレミスに配置されるパッケージ化されたモデルに至るまで、あらゆるものを提供しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-108">They provide everything from a software as a service model to a packaged model deployed on-premises.</span></span> <span data-ttu-id="4a5d4-109">インド、米国、カナダに重要な開発センターがあり、世界中でソフトウェアを開発しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-109">They develop software across the globe with significant development centers in India, the United States, and Canada.</span></span>

<span data-ttu-id="4a5d4-110">同社の ISV の部分は、重要なビジネスで製品を管理する複数の独立した部署に分けられています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-110">The ISV portion of the company is divided into several independent business units that manage products in a significant business.</span></span> <span data-ttu-id="4a5d4-111">部署ごとに開発者、プロダクト マネージャー、アーキテクトがいます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-111">Each business unit has its own developers, product managers, and architects.</span></span>

<span data-ttu-id="4a5d4-112">エンタープライズ テクノロジ サービス (ETS) 部では、一元化された IT 機能を提供し、各部署がそれぞれのアプリケーションをホストする複数のデータセンターを管理しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-112">The Enterprise Technology Services (ETS) business unit provides centralized IT capability, and manages several datacenters where business units host their applications.</span></span> <span data-ttu-id="4a5d4-113">ETS 組織では、データセンターの管理に加え、一元化されたコラボレーション サービス (電子メールや Web サイトなど) とネットワーク/テレフォニー サービスを提供し、管理しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-113">Along with managing the datacenters, the ETS organization provides and manages centralized collaboration (such as email and websites) and network/telephony services.</span></span> <span data-ttu-id="4a5d4-114">また、運用スタッフのいない小規模の部署の顧客向けワークロードも管理しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-114">They also manage customer-facing workloads for smaller business units who don't have operational staff.</span></span>

<span data-ttu-id="4a5d4-115">この記事では、次のペルソナを使用します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-115">The following personas are used in this article:</span></span>

* <span data-ttu-id="4a5d4-116">Dave は ETS の Azure 管理者です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-116">Dave is the ETS Azure administrator.</span></span>
* <span data-ttu-id="4a5d4-117">Alice はサプライ チェーン部の Contoso 開発責任者です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-117">Alice is Contoso's Director of Development in the supply chain business unit.</span></span>

<span data-ttu-id="4a5d4-118">Contoso 社では、基幹業務アプリケーションと顧客向けアプリケーションを構築する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-118">Contoso needs to build a line-of-business app and a customer-facing app.</span></span> <span data-ttu-id="4a5d4-119">これらのアプリケーションは Azure で実行することが決定されました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-119">It has decided to run the apps on Azure.</span></span> <span data-ttu-id="4a5d4-120">Dave は[規範的なサブスクリプション ガバナンス](azure-scaffold.md)に関する記事を読み、推奨事項を実装する準備を整えました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-120">Dave reads the [prescriptive subscription governance](azure-scaffold.md) article, and  is now ready to implement the recommendations.</span></span>

## <a name="scenario-1-line-of-business-application"></a><span data-ttu-id="4a5d4-121">シナリオ 1: 基幹業務アプリケーション</span><span class="sxs-lookup"><span data-stu-id="4a5d4-121">Scenario 1: line-of-business application</span></span>

<span data-ttu-id="4a5d4-122">Contoso 社では、世界中の開発者が使用するソース コード管理システム (BitBucket) の構築を進めています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-122">Contoso is building a source code management system (BitBucket) to be used by developers across the world.</span></span> <span data-ttu-id="4a5d4-123">このアプリケーションは、ホスティングにサービスとしてのインフラストラクチャ (IaaS) を使用し、Web サーバーとデータベース サーバーで構成されます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-123">The application uses infrastructure as a service (IaaS) for hosting, and consists of web servers and a database server.</span></span> <span data-ttu-id="4a5d4-124">開発者は開発環境のサーバーにはアクセスしますが、Azure のサーバーにアクセスする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-124">Developers access servers in their development environments, but they don't need access to the servers in Azure.</span></span> <span data-ttu-id="4a5d4-125">Contoso ETS では、アプリケーションの所有者とチームがアプリケーションを管理できるようにしたいと考えています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-125">Contoso ETS wants to allow the application owner and team to manage the application.</span></span> <span data-ttu-id="4a5d4-126">アプリケーションは、Contoso 社の企業ネットワーク上でのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-126">The application is only available while on Contoso's corporate network.</span></span> <span data-ttu-id="4a5d4-127">Dave は、このアプリケーションのサブスクリプションを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-127">Dave needs to set up the subscription for this application.</span></span> <span data-ttu-id="4a5d4-128">このサブスクリプションは、将来、開発者関連の他のソフトウェアもホストする予定です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-128">The subscription will also host other developer-related software in the future.</span></span>

### <a name="naming-standards-and-resource-groups"></a><span data-ttu-id="4a5d4-129">命名規則とリソース グループ</span><span class="sxs-lookup"><span data-stu-id="4a5d4-129">Naming standards and resource groups</span></span>

<span data-ttu-id="4a5d4-130">Dave は、すべての部署に共通する開発者ツールをサポートするサブスクリプションを作成することにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-130">Dave creates a subscription to support developer tools that are common across all the business units.</span></span> <span data-ttu-id="4a5d4-131">Dave は、サブスクリプションと (アプリケーションおよびネットワークの) リソース グループにわかりやすい名前を付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-131">Dave needs to create meaningful names for the subscription and resource groups (for the application and the networks).</span></span> <span data-ttu-id="4a5d4-132">Dave は次のサブスクリプションとリソース グループを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-132">He creates the following subscription and resource groups:</span></span>

| <span data-ttu-id="4a5d4-133">Item</span><span class="sxs-lookup"><span data-stu-id="4a5d4-133">Item</span></span> | <span data-ttu-id="4a5d4-134">Name</span><span class="sxs-lookup"><span data-stu-id="4a5d4-134">Name</span></span> | <span data-ttu-id="4a5d4-135">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-135">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-136">サブスクリプション</span><span class="sxs-lookup"><span data-stu-id="4a5d4-136">Subscription</span></span> |<span data-ttu-id="4a5d4-137">Contoso ETS DeveloperTools Production</span><span class="sxs-lookup"><span data-stu-id="4a5d4-137">Contoso ETS DeveloperTools Production</span></span> |<span data-ttu-id="4a5d4-138">共通の開発ツールをサポートします。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-138">Supports common developer tools</span></span> |
| <span data-ttu-id="4a5d4-139">リソース グループ</span><span class="sxs-lookup"><span data-stu-id="4a5d4-139">Resource Group</span></span> |<span data-ttu-id="4a5d4-140">bitbucket-prod-rg</span><span class="sxs-lookup"><span data-stu-id="4a5d4-140">bitbucket-prod-rg</span></span> |<span data-ttu-id="4a5d4-141">アプリケーションの Web サーバーとデータベース サーバーが含まれます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-141">Contains the application web server and database server</span></span> |
| <span data-ttu-id="4a5d4-142">リソース グループ</span><span class="sxs-lookup"><span data-stu-id="4a5d4-142">Resource Group</span></span> |<span data-ttu-id="4a5d4-143">corenetworks-prod-rg</span><span class="sxs-lookup"><span data-stu-id="4a5d4-143">corenetworks-prod-rg</span></span> |<span data-ttu-id="4a5d4-144">仮想ネットワークとサイト間ゲートウェイ接続が含まれます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-144">Contains the virtual networks and site-to-site gateway connection</span></span> |

### <a name="role-based-access-control"></a><span data-ttu-id="4a5d4-145">ロールベースのアクセス制御</span><span class="sxs-lookup"><span data-stu-id="4a5d4-145">Role-based access control</span></span>

<span data-ttu-id="4a5d4-146">サブスクリプションの作成後、Dave は適切なチームとアプリケーションの所有者がリソースにアクセスできるようにしたいと思いました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-146">After creating his subscription, Dave wants to ensure that the appropriate teams and application owners can access their resources.</span></span> <span data-ttu-id="4a5d4-147">Dave は、チームによって要件が異なることを認識しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-147">Dave recognizes that each team has different requirements.</span></span> <span data-ttu-id="4a5d4-148">そこで、Contoso 社のオンプレミス Active Directory (AD) から Azure Active Directory に同期されたグループを利用し、適切なレベルのアクセス権をチームに付与することにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-148">He uses the groups that have been synced from Contoso's on-premises Active Directory (AD) to Azure Active Directory, and provides the right level of access to the teams.</span></span>

<span data-ttu-id="4a5d4-149">Dave はサブスクリプションの次のロールを割り当てました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-149">Dave assigns the following roles for the subscription:</span></span>

| <span data-ttu-id="4a5d4-150">Role</span><span class="sxs-lookup"><span data-stu-id="4a5d4-150">Role</span></span> | <span data-ttu-id="4a5d4-151">割り当て先</span><span class="sxs-lookup"><span data-stu-id="4a5d4-151">Assigned to</span></span> | <span data-ttu-id="4a5d4-152">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-152">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="4a5d4-153">所有者</span><span class="sxs-lookup"><span data-stu-id="4a5d4-153">Owner</span></span>](/azure/role-based-access-control/built-in-roles#owner) |<span data-ttu-id="4a5d4-154">Contoso 社の AD のマネージド ID</span><span class="sxs-lookup"><span data-stu-id="4a5d4-154">Managed ID from Contoso's AD</span></span> |<span data-ttu-id="4a5d4-155">この ID は、Contoso 社の ID 管理ツールを使用して Just In Time (JIT) アクセスで管理されます。この ID により、サブスクリプションの所有者のアクセスを完全に監査できます</span><span class="sxs-lookup"><span data-stu-id="4a5d4-155">This ID is controlled with Just in Time (JIT) access through Contoso's Identity Management tool and ensures that subscription owner access is fully audited</span></span> |
| [<span data-ttu-id="4a5d4-156">Security Reader</span><span class="sxs-lookup"><span data-stu-id="4a5d4-156">Security Reader</span></span>](/azure/role-based-access-control/built-in-roles#security-reader) |<span data-ttu-id="4a5d4-157">セキュリティおよびリスク管理部門</span><span class="sxs-lookup"><span data-stu-id="4a5d4-157">Security and risk management department</span></span> |<span data-ttu-id="4a5d4-158">このロールでは、ユーザーは Azure Security Center とリソースの状態を確認できます</span><span class="sxs-lookup"><span data-stu-id="4a5d4-158">This role allows users to look at the Azure Security Center and the status of the resources</span></span> |
| [<span data-ttu-id="4a5d4-159">Network Contributor</span><span class="sxs-lookup"><span data-stu-id="4a5d4-159">Network Contributor</span></span>](/azure/role-based-access-control/built-in-roles#network-contributor) |<span data-ttu-id="4a5d4-160">ネットワーク チーム</span><span class="sxs-lookup"><span data-stu-id="4a5d4-160">Network team</span></span> |<span data-ttu-id="4a5d4-161">このロールでは、Contoso 社のネットワーク チームがサイト間 VPN と仮想ネットワークを管理できます</span><span class="sxs-lookup"><span data-stu-id="4a5d4-161">This role allows Contoso's network team to manage the Site to Site VPN and the Virtual Networks</span></span> |
| <span data-ttu-id="4a5d4-162">*カスタム ロール*</span><span class="sxs-lookup"><span data-stu-id="4a5d4-162">*Custom role*</span></span> |<span data-ttu-id="4a5d4-163">アプリケーションの所有者</span><span class="sxs-lookup"><span data-stu-id="4a5d4-163">Application owner</span></span> |<span data-ttu-id="4a5d4-164">Dave は、リソース グループ内のリソースを変更できるロールを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-164">Dave creates a role that grants the ability to modify resources within the resource group.</span></span> <span data-ttu-id="4a5d4-165">詳細については、「[Azure RBAC のカスタム ロール](/azure/role-based-access-control/custom-roles)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-165">For more information, see [Custom Roles in Azure RBAC](/azure/role-based-access-control/custom-roles)</span></span> |

### <a name="policies"></a><span data-ttu-id="4a5d4-166">ポリシー</span><span class="sxs-lookup"><span data-stu-id="4a5d4-166">Policies</span></span>

<span data-ttu-id="4a5d4-167">Dave には、サブスクリプション内のリソースの管理に関する次の要件があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-167">Dave has the following requirements for managing resources in the subscription:</span></span>

* <span data-ttu-id="4a5d4-168">開発ツールは世界中の開発者をサポートするため、どのリージョンでもユーザーによるリソースの作成を妨げることは望ましくありません。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-168">Because the development tools support developers across the world, he doesn't want to block users from creating resources in any region.</span></span> <span data-ttu-id="4a5d4-169">ただし、リソースが作成された場所は把握する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-169">However, he needs to know where resources are created.</span></span>
* <span data-ttu-id="4a5d4-170">Dave はコストを懸念しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-170">He is concerned with costs.</span></span> <span data-ttu-id="4a5d4-171">そのため、アプリケーションの所有者がコストのかかる仮想マシンを不必要に作成するのを防ぐ必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-171">Therefore, he wants to prevent application owners from creating unnecessarily expensive virtual machines.</span></span>
* <span data-ttu-id="4a5d4-172">このアプリケーションは多数の部署の開発者にサービスを提供するので、Dave は各リソースに部署とアプリケーションの所有者でタグ付けしたいと考えています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-172">Because this application serves developers in many business units, he wants to tag each resource with the business unit and application owner.</span></span> <span data-ttu-id="4a5d4-173">これらのタグを使用することで、ETS は適切なチームに請求できます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-173">By using these tags, ETS can bill the appropriate teams.</span></span>

<span data-ttu-id="4a5d4-174">Dave は次の [Azure ポリシー](/azure/azure-policy/azure-policy-introduction)を作成します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-174">He creates the following [Azure policies](/azure/azure-policy/azure-policy-introduction):</span></span>

| <span data-ttu-id="4a5d4-175">フィールド</span><span class="sxs-lookup"><span data-stu-id="4a5d4-175">Field</span></span> | <span data-ttu-id="4a5d4-176">効果</span><span class="sxs-lookup"><span data-stu-id="4a5d4-176">Effect</span></span> | <span data-ttu-id="4a5d4-177">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-177">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-178">location</span><span class="sxs-lookup"><span data-stu-id="4a5d4-178">location</span></span> |<span data-ttu-id="4a5d4-179">audit</span><span class="sxs-lookup"><span data-stu-id="4a5d4-179">audit</span></span> |<span data-ttu-id="4a5d4-180">すべてのリージョンでのリソースの作成を監査します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-180">Audit the creation of the resources in any region</span></span> |
| <span data-ttu-id="4a5d4-181">type</span><span class="sxs-lookup"><span data-stu-id="4a5d4-181">type</span></span> |<span data-ttu-id="4a5d4-182">deny</span><span class="sxs-lookup"><span data-stu-id="4a5d4-182">deny</span></span> |<span data-ttu-id="4a5d4-183">G シリーズ仮想マシンの作成を拒否します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-183">Deny creation of G-Series virtual machines</span></span> |
| <span data-ttu-id="4a5d4-184">tags</span><span class="sxs-lookup"><span data-stu-id="4a5d4-184">tags</span></span> |<span data-ttu-id="4a5d4-185">deny</span><span class="sxs-lookup"><span data-stu-id="4a5d4-185">deny</span></span> |<span data-ttu-id="4a5d4-186">アプリケーションの所有者タグが必要です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-186">Require application owner tag</span></span> |
| <span data-ttu-id="4a5d4-187">tags</span><span class="sxs-lookup"><span data-stu-id="4a5d4-187">tags</span></span> |<span data-ttu-id="4a5d4-188">deny</span><span class="sxs-lookup"><span data-stu-id="4a5d4-188">deny</span></span> |<span data-ttu-id="4a5d4-189">コスト センター タグが必要です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-189">Require cost center tag</span></span> |
| <span data-ttu-id="4a5d4-190">tags</span><span class="sxs-lookup"><span data-stu-id="4a5d4-190">tags</span></span> |<span data-ttu-id="4a5d4-191">append</span><span class="sxs-lookup"><span data-stu-id="4a5d4-191">append</span></span> |<span data-ttu-id="4a5d4-192">タグ名 **BusinessUnit** とタグ値 **ETS** をすべてのリソースに追加します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-192">Append tag name **BusinessUnit** and tag value **ETS** to all resources</span></span> |

### <a name="resource-tags"></a><span data-ttu-id="4a5d4-193">リソース タグ</span><span class="sxs-lookup"><span data-stu-id="4a5d4-193">Resource tags</span></span>

<span data-ttu-id="4a5d4-194">Dave は、BitBucket 実装のコスト センターを特定するために、請求に関する具体的な情報が必要であることを理解しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-194">Dave understands that he needs to have specific information on the bill to identify the cost center for the BitBucket implementation.</span></span> <span data-ttu-id="4a5d4-195">また、ETS が所有するすべてのリソースを把握する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-195">Additionally, Dave wants to know all the resources that ETS owns.</span></span>

<span data-ttu-id="4a5d4-196">Dave は、リソース グループとリソースに次の[タグ](/azure/azure-resource-manager/resource-group-using-tags)を追加しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-196">He adds the following [tags](/azure/azure-resource-manager/resource-group-using-tags) to the resource groups and resources.</span></span>

| <span data-ttu-id="4a5d4-197">タグ名</span><span class="sxs-lookup"><span data-stu-id="4a5d4-197">Tag name</span></span> | <span data-ttu-id="4a5d4-198">タグ値</span><span class="sxs-lookup"><span data-stu-id="4a5d4-198">Tag value</span></span> |
| --- | --- |
| <span data-ttu-id="4a5d4-199">ApplicationOwner</span><span class="sxs-lookup"><span data-stu-id="4a5d4-199">ApplicationOwner</span></span> |<span data-ttu-id="4a5d4-200">このアプリケーションを管理するユーザーの名前</span><span class="sxs-lookup"><span data-stu-id="4a5d4-200">The name of the person who manages this application</span></span> |
| <span data-ttu-id="4a5d4-201">CostCenter</span><span class="sxs-lookup"><span data-stu-id="4a5d4-201">CostCenter</span></span> |<span data-ttu-id="4a5d4-202">Azure の利用料金を支払うグループのコスト センター</span><span class="sxs-lookup"><span data-stu-id="4a5d4-202">The cost center of the group that is paying for the Azure consumption</span></span> |
| <span data-ttu-id="4a5d4-203">BusinessUnit</span><span class="sxs-lookup"><span data-stu-id="4a5d4-203">BusinessUnit</span></span> |<span data-ttu-id="4a5d4-204">**ETS** (サブスクリプションに関連付けられている部署)</span><span class="sxs-lookup"><span data-stu-id="4a5d4-204">**ETS** (the business unit associated with the subscription)</span></span> |

### <a name="core-network"></a><span data-ttu-id="4a5d4-205">コア ネットワーク</span><span class="sxs-lookup"><span data-stu-id="4a5d4-205">Core network</span></span>

<span data-ttu-id="4a5d4-206">Contoso ETS 情報セキュリティおよびリスク管理チームは、Dave が提案した Azure へのアプリケーションの移行計画を確認しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-206">The Contoso ETS information security and risk management team reviews Dave's proposed plan to move the application to Azure.</span></span> <span data-ttu-id="4a5d4-207">チームは、アプリケーションがインターネットに公開されないようにすることを求めています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-207">They want to ensure that the application isn't exposed to the internet.</span></span>  <span data-ttu-id="4a5d4-208">Dave には、今後 Azure に移行する予定の開発者アプリもあります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-208">Dave also has developer apps that in the future will be moved to Azure.</span></span> <span data-ttu-id="4a5d4-209">これらのアプリにはパブリック インターフェイスが必要です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-209">These apps require public interfaces.</span></span>  <span data-ttu-id="4a5d4-210">これらの要件を満たすために、Dave は内部および外部仮想ネットワークと、アクセスを制限するネットワーク セキュリティ グループを提供することにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-210">To meet these requirements, he provides both internal and external virtual networks, and a network security group to restrict access.</span></span>

<span data-ttu-id="4a5d4-211">Dave は次のリソースを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-211">He creates the following resources:</span></span>

| <span data-ttu-id="4a5d4-212">リソースの種類</span><span class="sxs-lookup"><span data-stu-id="4a5d4-212">Resource type</span></span> | <span data-ttu-id="4a5d4-213">Name</span><span class="sxs-lookup"><span data-stu-id="4a5d4-213">Name</span></span> | <span data-ttu-id="4a5d4-214">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-214">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-215">Virtual Network</span><span class="sxs-lookup"><span data-stu-id="4a5d4-215">Virtual Network</span></span> |<span data-ttu-id="4a5d4-216">internal-vnet</span><span class="sxs-lookup"><span data-stu-id="4a5d4-216">internal-vnet</span></span> |<span data-ttu-id="4a5d4-217">BitBucket アプリケーションで使用されます。ExpressRoute 経由で Contoso 社の企業ネットワークに接続されています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-217">Used with the BitBucket application and is connected via ExpressRoute to Contoso's corporate network.</span></span>  <span data-ttu-id="4a5d4-218">サブネット (`bitbucket`) は、特定の IP アドレス空間を使用してアプリケーションを提供します</span><span class="sxs-lookup"><span data-stu-id="4a5d4-218">A subnet (`bitbucket`) provides the application with a specific IP address space</span></span> |
| <span data-ttu-id="4a5d4-219">Virtual Network</span><span class="sxs-lookup"><span data-stu-id="4a5d4-219">Virtual Network</span></span> |<span data-ttu-id="4a5d4-220">external-vnet</span><span class="sxs-lookup"><span data-stu-id="4a5d4-220">external-vnet</span></span> |<span data-ttu-id="4a5d4-221">公開エンドポイントを必要とする将来のアプリケーションで使用できます</span><span class="sxs-lookup"><span data-stu-id="4a5d4-221">Available for future applications that require public-facing endpoints</span></span> |
| <span data-ttu-id="4a5d4-222">ネットワーク セキュリティ グループ</span><span class="sxs-lookup"><span data-stu-id="4a5d4-222">Network Security Group</span></span> |<span data-ttu-id="4a5d4-223">bitbucket-nsg</span><span class="sxs-lookup"><span data-stu-id="4a5d4-223">bitbucket-nsg</span></span> |<span data-ttu-id="4a5d4-224">アプリケーションが存在するサブネット (`bitbucket`) に対して、ポート 443 での接続だけを許可することで、このワークロードの攻撃対象領域を最小限に抑えることができます</span><span class="sxs-lookup"><span data-stu-id="4a5d4-224">Ensures that the attack surface of this workload is minimized by allowing connections only on port 443 for the subnet where the application lives (`bitbucket`)</span></span> |

### <a name="resource-locks"></a><span data-ttu-id="4a5d4-225">リソース ロック</span><span class="sxs-lookup"><span data-stu-id="4a5d4-225">Resource locks</span></span>

<span data-ttu-id="4a5d4-226">Dave は、Contoso 社の企業ネットワークから内部仮想ネットワークへの接続を、予想外のスクリプトや誤削除から保護する必要があることに気付きました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-226">Dave recognizes that the connectivity from Contoso's corporate network to the internal virtual network must be protected from any wayward script or accidental deletion.</span></span>

<span data-ttu-id="4a5d4-227">そこで、次の[リソース ロック](/azure/azure-resource-manager/resource-group-lock-resources)を作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-227">He creates the following [resource lock](/azure/azure-resource-manager/resource-group-lock-resources):</span></span>

| <span data-ttu-id="4a5d4-228">ロックの種類</span><span class="sxs-lookup"><span data-stu-id="4a5d4-228">Lock type</span></span> | <span data-ttu-id="4a5d4-229">リソース</span><span class="sxs-lookup"><span data-stu-id="4a5d4-229">Resource</span></span> | <span data-ttu-id="4a5d4-230">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-230">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-231">**CanNotDelete**</span><span class="sxs-lookup"><span data-stu-id="4a5d4-231">**CanNotDelete**</span></span> |<span data-ttu-id="4a5d4-232">internal-vnet</span><span class="sxs-lookup"><span data-stu-id="4a5d4-232">internal-vnet</span></span> |<span data-ttu-id="4a5d4-233">ユーザーが仮想ネットワークまたはサブネットを削除できないようにします。ただし、新しいサブネットの追加を妨げることはありません</span><span class="sxs-lookup"><span data-stu-id="4a5d4-233">Prevents users from deleting the virtual network or subnets, but does not prevent the addition of new subnets</span></span> |

### <a name="azure-automation"></a><span data-ttu-id="4a5d4-234">Azure Automation</span><span class="sxs-lookup"><span data-stu-id="4a5d4-234">Azure Automation</span></span>

<span data-ttu-id="4a5d4-235">このアプリケーションには自動化するものはありません。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-235">Dave has nothing to automate for this application.</span></span> <span data-ttu-id="4a5d4-236">Dave は Azure Automation アカウントを作成しましたが、最初のうちはこのアカウントを使用しません。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-236">Although he created an Azure Automation account, he won't initially use it.</span></span>

### <a name="azure-security-center"></a><span data-ttu-id="4a5d4-237">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="4a5d4-237">Azure Security Center</span></span>

<span data-ttu-id="4a5d4-238">Contoso IT サービス管理部門では、脅威をすばやく特定し、処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-238">Contoso IT service management needs to quickly identify and handle threats.</span></span> <span data-ttu-id="4a5d4-239">また、どのような問題が存在する可能性があるかを理解したいと思っています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-239">They also want to understand what problems may exist.</span></span>

<span data-ttu-id="4a5d4-240">これらの要件を満たすために、Dave は [Azure Security Center](/azure/security-center/security-center-intro) を有効にし、セキュリティ閲覧者ロールがアクセスできるようにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-240">To fulfill these requirements, Dave enables the [Azure Security Center](/azure/security-center/security-center-intro), and provides access to the Security Reader role.</span></span>

## <a name="scenario-2-customer-facing-app"></a><span data-ttu-id="4a5d4-241">シナリオ 2: 顧客向けアプリケーション</span><span class="sxs-lookup"><span data-stu-id="4a5d4-241">Scenario 2: customer-facing app</span></span>

<span data-ttu-id="4a5d4-242">サプライ チェーン部のビジネス リーダーは、ロイヤルティ カードを使用して Contoso 社の顧客との関わりを強化するさまざまな機会を特定しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-242">The business leadership in the supply chain business unit has identified various opportunities to increase engagement with Contoso's customers by using a loyalty card.</span></span> <span data-ttu-id="4a5d4-243">Alice のチームはこのアプリケーションを作成する必要があり、Azure がビジネス ニーズへの対応力を高めると判断しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-243">Alice's team must create this application and decides that Azure increases their ability to meet the business need.</span></span> <span data-ttu-id="4a5d4-244">Alice は ETS の Dave と協力して、このアプリケーションの開発と運用に使用する 2 つのサブスクリプションを構成することにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-244">Alice works with Dave from ETS to configure two subscriptions for developing and operating this application.</span></span>

### <a name="azure-subscriptions"></a><span data-ttu-id="4a5d4-245">Azure サブスクリプション</span><span class="sxs-lookup"><span data-stu-id="4a5d4-245">Azure subscriptions</span></span>

<span data-ttu-id="4a5d4-246">Dave は Azure Enterprise Portal にログインし、サプライ チェーン部門が既に存在することを確認しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-246">Dave logs in to the Azure Enterprise Portal and sees that the supply chain department already exists.</span></span>  <span data-ttu-id="4a5d4-247">ただし、このプロジェクトは Azure におけるサプライ チェーン チームの最初の開発プロジェクトであるため、Dave は Alice の開発チーム用の新しいアカウントが必要であることに気付きました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-247">However, as this project is the first development project for the supply chain team in Azure, Dave recognizes the need for a new account for Alice’s development team.</span></span>  <span data-ttu-id="4a5d4-248">Dave はチーム用の "R & D" アカウントを作成し、Alice にアクセスを割り当てました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-248">He creates the "R&D" account for her team and assigns access to Alice.</span></span> <span data-ttu-id="4a5d4-249">Alice は Azure Portal からログインし、2 つのサブスクリプションを作成しました。1 つは開発サーバーを保持するためのサブスクリプション、もう 1 つは運用サーバーを保持するためのサブスクリプションです。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-249">Alice logs in via the Azure portal and creates two subscriptions: one to hold the development servers and one to hold the production servers.</span></span>  <span data-ttu-id="4a5d4-250">Alice は次のサブスクリプションを作成するときに、以前に定めた命名規則に従いました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-250">She follows the previously established naming standards when creating the following subscriptions:</span></span>

| <span data-ttu-id="4a5d4-251">サブスクリプションの用途</span><span class="sxs-lookup"><span data-stu-id="4a5d4-251">Subscription use</span></span> | <span data-ttu-id="4a5d4-252">Name</span><span class="sxs-lookup"><span data-stu-id="4a5d4-252">Name</span></span> |
| --- | --- |
| <span data-ttu-id="4a5d4-253">開発</span><span class="sxs-lookup"><span data-stu-id="4a5d4-253">Development</span></span> |<span data-ttu-id="4a5d4-254">Contoso SupplyChain ResearchDevelopment LoyaltyCard Development</span><span class="sxs-lookup"><span data-stu-id="4a5d4-254">Contoso SupplyChain ResearchDevelopment LoyaltyCard Development</span></span> |
| <span data-ttu-id="4a5d4-255">Production</span><span class="sxs-lookup"><span data-stu-id="4a5d4-255">Production</span></span> |<span data-ttu-id="4a5d4-256">Contoso SupplyChain Operations LoyaltyCard Production</span><span class="sxs-lookup"><span data-stu-id="4a5d4-256">Contoso SupplyChain Operations LoyaltyCard Production</span></span> |

### <a name="policies"></a><span data-ttu-id="4a5d4-257">ポリシー</span><span class="sxs-lookup"><span data-stu-id="4a5d4-257">Policies</span></span>

<span data-ttu-id="4a5d4-258">Dave と Alice はアプリケーションについて話し合い、このアプリケーションが北米リージョンの顧客にのみサービスを提供することを明確にしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-258">Dave and Alice discuss the application and identify that this application only serves customers in the North American region.</span></span>  <span data-ttu-id="4a5d4-259">Alice とチームは、Azure のアプリケーション サービス環境と Azure SQL を使用してアプリケーションを作成することを計画しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-259">Alice and her team plan to use Azure's Application Service Environment and Azure SQL to create the application.</span></span> <span data-ttu-id="4a5d4-260">開発中に仮想マシンを作成することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-260">They may need to create virtual machines during development.</span></span>  <span data-ttu-id="4a5d4-261">Alice は、ETS が関与しなくても、開発者が問題を調査するために必要なリソースを使用できるようにしたいと考えています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-261">Alice wants to ensure that her developers have the resources they need to explore and examine problems without pulling in ETS.</span></span>

<span data-ttu-id="4a5d4-262">**開発サブスクリプション**では、次のポリシーを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-262">For the **development subscription**, they create the following policy:</span></span>

| <span data-ttu-id="4a5d4-263">フィールド</span><span class="sxs-lookup"><span data-stu-id="4a5d4-263">Field</span></span> | <span data-ttu-id="4a5d4-264">効果</span><span class="sxs-lookup"><span data-stu-id="4a5d4-264">Effect</span></span> | <span data-ttu-id="4a5d4-265">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-265">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-266">location</span><span class="sxs-lookup"><span data-stu-id="4a5d4-266">location</span></span> |<span data-ttu-id="4a5d4-267">audit</span><span class="sxs-lookup"><span data-stu-id="4a5d4-267">audit</span></span> |<span data-ttu-id="4a5d4-268">すべてのリージョンでのリソースの作成を監査します。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-268">Audit the creation of the resources in any region</span></span> |

<span data-ttu-id="4a5d4-269">開発環境でユーザーが作成できる SKU の種類を制限していないので、リソース グループまたはリソースにタグは不要です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-269">They don't limit the type of sku a user can create in development, and they don't require tags for any resource groups or resources.</span></span>

<span data-ttu-id="4a5d4-270">**運用サブスクリプション**では、次のポリシーを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-270">For the **production subscription**, they create the following policies:</span></span>

| <span data-ttu-id="4a5d4-271">フィールド</span><span class="sxs-lookup"><span data-stu-id="4a5d4-271">Field</span></span> | <span data-ttu-id="4a5d4-272">効果</span><span class="sxs-lookup"><span data-stu-id="4a5d4-272">Effect</span></span> | <span data-ttu-id="4a5d4-273">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-273">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-274">location</span><span class="sxs-lookup"><span data-stu-id="4a5d4-274">location</span></span> |<span data-ttu-id="4a5d4-275">deny</span><span class="sxs-lookup"><span data-stu-id="4a5d4-275">deny</span></span> |<span data-ttu-id="4a5d4-276">米国のデータセンター以外でのリソースの作成を拒否します</span><span class="sxs-lookup"><span data-stu-id="4a5d4-276">Deny the creation of any resources outside of the US datacenters</span></span> |
| <span data-ttu-id="4a5d4-277">tags</span><span class="sxs-lookup"><span data-stu-id="4a5d4-277">tags</span></span> |<span data-ttu-id="4a5d4-278">deny</span><span class="sxs-lookup"><span data-stu-id="4a5d4-278">deny</span></span> |<span data-ttu-id="4a5d4-279">アプリケーションの所有者タグが必要です。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-279">Require application owner tag</span></span> |
| <span data-ttu-id="4a5d4-280">tags</span><span class="sxs-lookup"><span data-stu-id="4a5d4-280">tags</span></span> |<span data-ttu-id="4a5d4-281">deny</span><span class="sxs-lookup"><span data-stu-id="4a5d4-281">deny</span></span> |<span data-ttu-id="4a5d4-282">部門タグが必要です</span><span class="sxs-lookup"><span data-stu-id="4a5d4-282">Require department tag</span></span> |
| <span data-ttu-id="4a5d4-283">tags</span><span class="sxs-lookup"><span data-stu-id="4a5d4-283">tags</span></span> |<span data-ttu-id="4a5d4-284">append</span><span class="sxs-lookup"><span data-stu-id="4a5d4-284">append</span></span> |<span data-ttu-id="4a5d4-285">各リソース グループに運用環境を示すタグを追加します</span><span class="sxs-lookup"><span data-stu-id="4a5d4-285">Append tag to each resource group that indicates production environment</span></span> |

<span data-ttu-id="4a5d4-286">運用環境でユーザーが作成できる SKU の種類に制限はありません。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-286">They don't limit the type of sku a user can create in production.</span></span>

### <a name="resource-tags"></a><span data-ttu-id="4a5d4-287">リソース タグ</span><span class="sxs-lookup"><span data-stu-id="4a5d4-287">Resource tags</span></span>

<span data-ttu-id="4a5d4-288">Dave は、課金と所有権について適切なビジネス グループを特定するために、具体的な情報が必要であることを理解しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-288">Dave understands that he needs to have specific information to identify the correct business groups for billing and ownership.</span></span> <span data-ttu-id="4a5d4-289">Dave は、リソース グループとリソースのリソース タグを定義しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-289">He defines resource tags for resource groups and resources.</span></span>

| <span data-ttu-id="4a5d4-290">タグ名</span><span class="sxs-lookup"><span data-stu-id="4a5d4-290">Tag name</span></span> | <span data-ttu-id="4a5d4-291">タグ値</span><span class="sxs-lookup"><span data-stu-id="4a5d4-291">Tag value</span></span> |
| --- | --- |
| <span data-ttu-id="4a5d4-292">ApplicationOwner</span><span class="sxs-lookup"><span data-stu-id="4a5d4-292">ApplicationOwner</span></span> |<span data-ttu-id="4a5d4-293">このアプリケーションを管理するユーザーの名前</span><span class="sxs-lookup"><span data-stu-id="4a5d4-293">The name of the person who manages this application</span></span> |
| <span data-ttu-id="4a5d4-294">部署</span><span class="sxs-lookup"><span data-stu-id="4a5d4-294">Department</span></span> |<span data-ttu-id="4a5d4-295">Azure の利用料金を支払うグループのコスト センター</span><span class="sxs-lookup"><span data-stu-id="4a5d4-295">The cost center of the group that is paying for the Azure consumption</span></span> |
| <span data-ttu-id="4a5d4-296">EnvironmentType</span><span class="sxs-lookup"><span data-stu-id="4a5d4-296">EnvironmentType</span></span> |<span data-ttu-id="4a5d4-297">**Production** (サブスクリプションの名前に **Production** が含まれていても、このタグを含めることで、ポータルや請求書でリソースを確認するときに簡単に識別できるようになります)</span><span class="sxs-lookup"><span data-stu-id="4a5d4-297">**Production** (Even though the subscription includes **Production** in the name, including this tag enables easy identification when looking at resources in the portal or on the bill)</span></span> |

### <a name="core-networks"></a><span data-ttu-id="4a5d4-298">コア ネットワーク</span><span class="sxs-lookup"><span data-stu-id="4a5d4-298">Core networks</span></span>

<span data-ttu-id="4a5d4-299">Contoso ETS 情報セキュリティおよびリスク管理チームは、Dave が提案した Azure へのアプリケーションの移行計画を確認しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-299">The Contoso ETS information security and risk management team reviews Dave's proposed plan to move the application to Azure.</span></span> <span data-ttu-id="4a5d4-300">チームは、ロイヤルティ カード アプリケーションを適切に分離し、DMZ ネットワーク内で保護できるようにすることを求めています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-300">They want to ensure that the Loyalty Card application is properly isolated and protected in a DMZ network.</span></span>  <span data-ttu-id="4a5d4-301">この要件を満たすために、Dave と Alice は外部仮想ネットワークと、ロイヤルティ カード アプリケーションを Contoso 社の企業ネットワークから分離するネットワーク セキュリティ グループを作成することにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-301">To fulfill this requirement, Dave and Alice create an external virtual network and a network security group to isolate the Loyalty Card application from the Contoso corporate network.</span></span>

<span data-ttu-id="4a5d4-302">**開発サブスクリプション**では、次のリソースを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-302">For the **development subscription**, they create:</span></span>

| <span data-ttu-id="4a5d4-303">リソースの種類</span><span class="sxs-lookup"><span data-stu-id="4a5d4-303">Resource type</span></span> | <span data-ttu-id="4a5d4-304">Name</span><span class="sxs-lookup"><span data-stu-id="4a5d4-304">Name</span></span> | <span data-ttu-id="4a5d4-305">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-305">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-306">Virtual Network</span><span class="sxs-lookup"><span data-stu-id="4a5d4-306">Virtual Network</span></span> |<span data-ttu-id="4a5d4-307">internal-vnet</span><span class="sxs-lookup"><span data-stu-id="4a5d4-307">internal-vnet</span></span> |<span data-ttu-id="4a5d4-308">Contoso ロイヤルティ カード開発環境を提供します。ExpressRoute 経由で Contoso 社の企業ネットワークに接続されています</span><span class="sxs-lookup"><span data-stu-id="4a5d4-308">Serves the Contoso Loyalty Card development environment and is connected via ExpressRoute to Contoso's corporate network</span></span> |

<span data-ttu-id="4a5d4-309">**運用サブスクリプション**では、次のリソースを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-309">For the **production subscription**, they create:</span></span>

| <span data-ttu-id="4a5d4-310">リソースの種類</span><span class="sxs-lookup"><span data-stu-id="4a5d4-310">Resource type</span></span> | <span data-ttu-id="4a5d4-311">Name</span><span class="sxs-lookup"><span data-stu-id="4a5d4-311">Name</span></span> | <span data-ttu-id="4a5d4-312">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-312">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-313">Virtual Network</span><span class="sxs-lookup"><span data-stu-id="4a5d4-313">Virtual Network</span></span> |<span data-ttu-id="4a5d4-314">external-vnet</span><span class="sxs-lookup"><span data-stu-id="4a5d4-314">external-vnet</span></span> |<span data-ttu-id="4a5d4-315">ロイヤルティ カード アプリケーションをホストします。Contoso 社の ExpressRoute には直接接続されていません。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-315">Hosts the Loyalty Card application and is not connected directly to Contoso's ExpressRoute.</span></span> <span data-ttu-id="4a5d4-316">コードは、ソース コード システムによって PaaS サービスに直接プッシュされます</span><span class="sxs-lookup"><span data-stu-id="4a5d4-316">Code is pushed via their Source Code system directly to the PaaS services</span></span> |
| <span data-ttu-id="4a5d4-317">ネットワーク セキュリティ グループ</span><span class="sxs-lookup"><span data-stu-id="4a5d4-317">Network Security Group</span></span> |<span data-ttu-id="4a5d4-318">loyaltycard-nsg</span><span class="sxs-lookup"><span data-stu-id="4a5d4-318">loyaltycard-nsg</span></span> |<span data-ttu-id="4a5d4-319">TCP 443 での受信通信だけを許可することで、このワークロードの攻撃対象領域を最小限に抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-319">Ensures that the attack surface of this workload is minimized by only allowing in-bound communication on TCP 443.</span></span>  <span data-ttu-id="4a5d4-320">Contoso 社では、保護を強化するために、Web アプリケーション ファイアウォールを使用した調査も行っています</span><span class="sxs-lookup"><span data-stu-id="4a5d4-320">Contoso is also investigating using a Web Application Firewall for additional protection</span></span> |

### <a name="resource-locks"></a><span data-ttu-id="4a5d4-321">リソース ロック</span><span class="sxs-lookup"><span data-stu-id="4a5d4-321">Resource locks</span></span>

<span data-ttu-id="4a5d4-322">Dave と Alice は話し合い、誤ったコード プッシュ時の誤削除を防ぐために、環境内の一部の重要なリソースにリソース ロックを追加することにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-322">Dave and Alice confer and decide to add resource locks on some of the key resources in the environment to prevent accidental deletion during an errant code push.</span></span>

<span data-ttu-id="4a5d4-323">次のロックを作成しました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-323">They create the following lock:</span></span>

| <span data-ttu-id="4a5d4-324">ロックの種類</span><span class="sxs-lookup"><span data-stu-id="4a5d4-324">Lock type</span></span> | <span data-ttu-id="4a5d4-325">リソース</span><span class="sxs-lookup"><span data-stu-id="4a5d4-325">Resource</span></span> | <span data-ttu-id="4a5d4-326">説明</span><span class="sxs-lookup"><span data-stu-id="4a5d4-326">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4a5d4-327">**CanNotDelete**</span><span class="sxs-lookup"><span data-stu-id="4a5d4-327">**CanNotDelete**</span></span> |<span data-ttu-id="4a5d4-328">external-vnet</span><span class="sxs-lookup"><span data-stu-id="4a5d4-328">external-vnet</span></span> |<span data-ttu-id="4a5d4-329">ユーザーが仮想ネットワークまたはサブネットを削除できないようにします。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-329">To prevent people from deleting the virtual network or subnets.</span></span> <span data-ttu-id="4a5d4-330">このロックによって、新しいサブネットの追加が妨げられることはありません</span><span class="sxs-lookup"><span data-stu-id="4a5d4-330">The lock does not prevent the addition of new subnets</span></span> |

### <a name="azure-automation"></a><span data-ttu-id="4a5d4-331">Azure Automation</span><span class="sxs-lookup"><span data-stu-id="4a5d4-331">Azure Automation</span></span>

<span data-ttu-id="4a5d4-332">Alice と開発チームは、このアプリケーションの環境を管理するさまざまな Runbook を用意しています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-332">Alice and her development team have extensive runbooks to manage the environment for this application.</span></span> <span data-ttu-id="4a5d4-333">Runbook により、アプリケーションのノードの追加/削除や他の DevOps タスクを実行できます。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-333">The runbooks allow for the addition/deletion of nodes for the application and other DevOps tasks.</span></span>

<span data-ttu-id="4a5d4-334">これらの Runbook を使用するために、[Automation](/azure/automation/automation-intro) を有効にしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-334">To use these runbooks, they enable [Automation](/azure/automation/automation-intro).</span></span>

### <a name="azure-security-center"></a><span data-ttu-id="4a5d4-335">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="4a5d4-335">Azure Security Center</span></span>

<span data-ttu-id="4a5d4-336">Contoso IT サービス管理部門では、脅威をすばやく特定し、処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-336">Contoso IT service management needs to quickly identify and handle threats.</span></span> <span data-ttu-id="4a5d4-337">また、どのような問題が存在する可能性があるかを理解したいと思っています。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-337">They also want to understand what problems may exist.</span></span>

<span data-ttu-id="4a5d4-338">これらの要件を満たすために、Dave は Azure Security Center を有効にしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-338">To fulfill these requirements, Dave enables Azure Security Center.</span></span> <span data-ttu-id="4a5d4-339">Dave は Azure Security Center がリソースを監視していることを確認し、DevOps チームとセキュリティ チームがアクセスできるようにしました。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-339">He ensures that the Azure Security Center is monitoring the resources, and provides access to the DevOps and security teams.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4a5d4-340">次の手順</span><span class="sxs-lookup"><span data-stu-id="4a5d4-340">Next steps</span></span>

* <span data-ttu-id="4a5d4-341">Resource Manager テンプレートの作成方法については、「[Azure Resource Manager テンプレートを作成するためのベスト プラクティス](/azure/azure-resource-manager/resource-manager-template-best-practices)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="4a5d4-341">To learn about creating Resource Manager templates, see [Best practices for creating Azure Resource Manager templates](/azure/azure-resource-manager/resource-manager-template-best-practices).</span></span>
