---
title: CAF:シンプルなワークロード向けガバナンス設計
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
description: Azure ガバナンス管理を構成してユーザーがシンプルなワークロードをデプロイできるようにするためのガイダンス
author: petertaylor9999
ms.date: 02/11/2019
ms.openlocfilehash: 6bf2f15f706140955df29f7f372068c80ce1ad21
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/17/2019
ms.locfileid: "59640585"
---
# <a name="governance-design-for-a-simple-workload"></a>シンプルなワークロード向けガバナンス設計

このガイドの目的は、単一チームおよびシンプルなワークロードをサポートするための、Azure におけるリソース ガバナンス モデルの設計プロセスについて説明することです。 一連のガバナンス要件を例として挙げて、これらの要件に対応する実装サンプルをいくつか紹介します。

基本導入ステージの目標は、シンプルなワークロードを Azure にデプロイすることです。 これには、次の要件が伴います。

* シンプルなワークロードのデプロイと保守を担当する 1 人の**ワークロード所有者**の ID を管理する。 ワークロード所有者には、リソースの作成、読み取り、更新、および削除のアクセス許可、および ID 管理システムで他のユーザーにこれらの特権を委任するアクセス許可が必要です。
* シンプルなワークロードのすべてのリソースを 1 つの管理単位として管理する。

## <a name="licensing-azure"></a>Azure のライセンス

ガバナンス モデルの設計を開始する前に、Azure のライセンスの取得方法を理解することが重要です。 ご自身の Azure ライセンスに関連付けられている管理者アカウントには、ご使用の Azure リソースすべてに対する最高レベルのアクセス権が付与されているためです。 これらの管理者アカウントにより、ご自身のガバナンス モデルの基礎が形成されます。  

> [!NOTE]
> お客様の組織の既存の[マイクロソフトエンタープライズ契約](https://www.microsoft.com/licensing/licensing-programs/enterprise.aspx)に Azure が含まれていない場合は、前払いによる年額コミットメントを行うことで Azure を追加できます。 詳細については、「[Azure のエンタープライズ向けライセンス](https://azure.microsoft.com/pricing/enterprise-agreement/)」を参照してください。

Azure がご自身の組織のエンタープライズ契約に追加されたとき、組織は **Azure アカウント**を作成するよう求められました。 アカウントの作成プロセス中に、**Azure アカウント所有者**が、Azure Active Directory (Azure AD) テナントおよび**グローバル管理者**アカウントと共に作成されています。 Azure AD テナントとは、Azure AD の安全な専用インスタンスを表す論理コンストラクトです。

![Azure アカウント マネージャーと Azure AD グローバル管理者が含まれる Azure アカウント](../../_images/governance-3-0.png)
*図 1. Azure アカウント マネージャーと Azure AD グローバル管理者が含まれる Azure アカウント。*

## <a name="identity-management"></a>ID 管理

Azure は、[Azure AD](/azure/active-directory) のみを信頼してユーザーを認証し、リソースへのユーザー アクセスを承認します。したがって、Azure AD は ID 管理システムです。 Azure AD グローバル管理者には最高レベルのアクセス許可が付与されており、ユーザーの作成やアクセス許可の割り当てなど、ID に関連するすべてのアクションを実行できます。

ここでの要件は、シンプルなワークロードのデプロイと保守を担当する 1 人の**ワークロード所有者**の ID を管理することです。 ワークロード所有者には、リソースの作成、読み取り、更新、および削除のアクセス許可、および ID 管理システムで他のユーザーにこれらの特権を委任するアクセス許可が必要です。

Azure AD のグローバル管理者が、**ワークロード所有者**を表す**ワークロード所有者**アカウントを作成します。

![Azure AD のグローバル管理者がワークロード所有者アカウントを作成する](../../_images/governance-1-2.png)
*図 2. Azure AD のグローバル管理者がワークロード所有者のユーザー アカウントを作成する。*

このユーザーが**サブスクリプション**に追加されるまで、リソースのアクセス許可を割り当てることができません。そこで、次の 2 つのセクションでは、これを行います。

## <a name="resource-management-scope"></a>リソース管理のスコープ

組織によってデプロイされるリソースの数が増えると、それらのリソースを管理する複雑さも増します。 Azure では論理コンテナー階層が実装されており、これにより、組織がさまざまな細分性レベルのグループ (**スコープ**) でリソースを管理できます。

最上位レベルのリソース管理のスコープは**サブスクリプション** レベルです。 サブスクリプションは、Azure **アカウント所有者**によって作成されます。このユーザーは財務コミットメントを確立し、そのサブスクリプションに関連付けられているすべての Azure リソースに対する支払いを行う責任があります。

![Azure アカウント所有者がサブスクリプションを作成する](../../_images/governance-1-3.png)
*図 3. Azure アカウント所有者がサブスクリプションを作成する。*

サブスクリプションが作成されると、Azure **アカウント所有者**は、Azure AD テナントをサブスクリプションに関連付けます。この Azure AD テナントは、ユーザーの認証と承認に使用されます。

![Azure アカウント所有者が Azure AD テナントをサブスクリプションに関連付ける](../../_images/governance-1-4.png)
*図 4. Azure アカウント所有者が Azure AD テナントをサブスクリプションに関連付ける。*

お気付きかもしれませんが、現在サブスクリプションにはユーザーが関連付けられていません。つまり、リソースを管理するアクセス許可は、誰にも付与されていません。 実際には、**アカウント所有者**はサブスクリプションの所有者であり、サブスクリプションのリソースに対して任意のアクションを実行するアクセス許可を持っています。 しかし、実のところ、**アカウント所有者**は、組織の財務担当者である可能性が高く、リソースの作成、読み取り、更新、および削除を担当しません。これらのタスクは**ワークロード所有者**によって実行されます。 したがって、**ワークロード所有者**をサブスクリプションに追加して、アクセス許可を割り当てる必要があります。

**アカウント所有者**は、現時点で**ワークロード所有者**をサブスクリプションに追加するアクセス許可を持つ唯一のユーザーです。したがって、アカウント所有者が、**ワークロード所有者**をサブスクリプションに追加します。

![Azure アカウント所有者が**ワークロード所有者**をサブスクリプションに追加する](../../_images/governance-1-5.png)
*図 5. Azure アカウント所有者がワークロード所有者をサブスクリプションに追加する。*

Azure **アカウント所有者**は、[ロールベースのアクセス制御 (RBAC)](/azure/role-based-access-control/) ロールを割り当てることで、**ワークロード所有者**にアクセス許可を付与します。 RBAC ロールにより、個々のリソースの種類または一連のリソースの種類に対して**ワークロード所有者**が持つ一連のアクセス許可が指定されます。

この例では、**アカウント所有者**は、[組み込みの**所有者**ロール](/azure/role-based-access-control/built-in-roles#owner)を割り当てました。

![**ワークロード所有者**に組み込みの所有者ロールが割り当てられる](../../_images/governance-1-6.png)
*図 6. **ワークロード所有者**に組み込みの所有者ロールが割り当てられる。*

組み込みの**所有者**ロールによって、サブスクリプション スコープで、すべてのアクセス許可が**ワークロード所有者**に付与されます。

> [!IMPORTANT]
> Azure **アカウント所有者**は、サブスクリプションに関連付けられている財務コミットメントの責任を負いますが、**ワークロード所有者**にも同じアクセス許可が付与されています。 **アカウント所有者**は、**ワークロード所有者**がサブスクリプション予算内でリソースをデプロイしていることを信頼する必要があります。

次の管理スコープ レベルは**リソース グループ** レベルです。 リソース グループは、リソースの論理コンテナーです。 リソース グループ レベルで適用された操作は、グループ内のすべてのリソースに適用されます。 さらに、各ユーザーのアクセス許可は、そのスコープで明示的に変更された場合を除き、上のレベルから継承されることにも注意してください。

これを確認するために、**ワークロード所有者**がリソース グループを作成するとき、何が起こるかを見てみましょう。

![**ワークロード所有者**がリソース グループを作成する](../../_images/governance-1-7.png)
*図 7. ワークロード所有者がリソース グループを作成し、リソース グループ スコープで組み込みの所有者ロールを継承する。*

この場合も、組み込みの**所有者**ロールによって、リソース グループ スコープで、すべてのアクセス許可が**ワークロード所有者**に付与されます。 先ほど説明したように、このロールはサブスクリプション レベルから継承されます。 このスコープで別のロールがこのユーザーに割り当てられると、そのロールはこのスコープにのみ適用されます。

最下位レベルの管理スコープは**リソース** レベルです。 リソース レベルで適用された操作は、リソース自体にのみ適用されます。 また、前と同様に、リソース レベルのアクセス許可は、リソース グループ スコープから継承されます。 たとえば、**ワークロード所有者**が[仮想ネットワーク](/azure/virtual-network/virtual-networks-overview)をリソース グループにデプロイするとどうなるかを見てみましょう。

![**ワークロード所有者**がリソースを作成する](../../_images/governance-1-8.png)
*図 8. ワークロード所有者がリソースを作成し、リソース スコープで組み込みの所有者ロールを継承する。*

**ワークロード所有者**は、リソース スコープで所有者ロールを継承します。つまり、ワークロード所有者には、仮想ネットワークに対するすべてのアクセス許可が付与されます。

## <a name="implementing-the-basic-resource-access-management-model"></a>基本的なリソース アクセス管理モデルの実装

次は、前に設計したガバナンス モデルを実装する方法について説明します。

まず、お客様の組織には Azure アカウントが必要です。 お客様の組織の既存の[マイクロソフトエンタープライズ契約](https://www.microsoft.com/licensing/licensing-programs/enterprise.aspx)に Azure が含まれていない場合は、前払いによる年額コミットメントを行うことで Azure を追加できます。 詳細については、「[Azure のエンタープライズ向けライセンス](https://azure.microsoft.com/pricing/enterprise-agreement/)」を参照してください。

Azure アカウントが作成されたら、組織の 1 人を Azure **アカウント所有者**に指定します。 Azure Active Directory (Azure AD) テナントは、そのとき既定で作成されます。 Azure **アカウント所有者**は、**ワークロード所有者**となる組織内ユーザーの[ユーザー アカウントを作成する](/azure/active-directory/add-users-azure-active-directory)必要があります。

次に、Azure **アカウント所有者**は、[サブスクリプションを作成](/partner-center/create-a-new-subscription)し、これに [Azure AD テナントを関連付ける](/azure/active-directory/fundamentals/active-directory-how-subscriptions-associated-directory)必要があります。

サブスクリプションを作成し、これに Azure AD テナントを関連付けたので、最後に、[**ワークロード所有者**を、組み込みの**所有者**ロールを持つサブスクリプションに追加](/azure/billing/billing-add-change-azure-subscription-administrator#add-an-rbac-owner-for-a-subscription-in-azure-portal)します。

## <a name="next-steps"></a>次の手順

> [!div class="nextstepaction"]
> [基本的なワークロードを Azure にデプロイする](../../infrastructure/basic-workload.md)
> [!div class="nextstepaction"]
> [複数チーム向けリソース アクセスについて確認する](governance-multiple-teams.md)
