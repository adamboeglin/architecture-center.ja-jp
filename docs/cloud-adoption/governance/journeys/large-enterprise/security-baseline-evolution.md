---
title: 'CAF: 大企業 – セキュリティ ベースラインの進化 '
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
ms.date: 02/11/2019
description: 大企業 – セキュリティ ベースラインの進化
author: BrianBlanchard
ms.openlocfilehash: e9e8b7dc1eaeb3a8555326a51b2548ad668e0171
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2019
ms.locfileid: "58241613"
---
# <a name="large-enterprise-security-baseline-evolution"></a>大企業:セキュリティ ベースラインの進化

この記事では、保護対象データのクラウドへの移動をサポートするセキュリティ コントロールを追加することによって、物語を展開します。

## <a name="evolution-of-the-narrative"></a>物語の展開

CIO は同僚や会社の法務スタッフとの共同作業に数か月を費やしました。 既存の IT セキュリティ チームと IT ガバナンス チームが、保護対象データに関する新しいポリシーを起草するのを支援するために、サイバーセキュリティの専門知識を持つ経営コンサルタントが関与することになりました。 グループでは、既存のポリシーを置き換えて、承認されたクラウド プロバイダーに個人情報や財務データを預けられるよう、取締役会の支持を取り付けることに成功しました。 そのためには、一連のセキュリティ要件の導入、また、新しいポリシーへの準拠を検証および文書化するためのガバナンス プロセスの導入が必要でした。

過去 12 か月間、クラウド導入チームでは、廃止予定の 2 つのデータセンターから 5,000 の資産の大半を引き上げました。 互換性のない 350 の資産は別のデータセンターに移動されました。 保護対象データを含む 1,250 の仮想マシンのみが残ります。

### <a name="evolution-of-the-cloud-governance-team"></a>クラウド ガバナンス チームの進化

クラウド ガバナンス チームは、物語と共に進化し続けます。 チームの創設メンバーの 2 人は今や、社内で最も尊敬されているクラウド アーキテクトです。 新しいチームが革新的な新しいデプロイに取り組むうちに、構成スクリプトのコレクションは厚みを増しました。 クラウド ガバナンス チームの規模も拡大しました。 ごく最近、IT 運用チームのメンバーが、クラウド運用の準備をするためにクラウド ガバナンス チームの活動に参加しました。 このコミュニティの発展に助力したクラウド アーキテクトは、クラウドの保護者 (guardian) であり推進者 (accelerator) でもあるとみなされます。

両者の違いは微妙ですが、ガバナンス重視の IT カルチャを構築する際に重要な区別です。 クラウド管理人 (custodian) は革新的なクラウド アーキテクトがもたらした混乱を解決します。2 つの役割には当然ながら摩擦があり、目標は相反します。 クラウド管理人がクラウドを安全に保ってくれるおかげで、クラウド アーキテクトはより迅速に、混乱を少なくしながら前進することができます。 クラウド推進者は両方の役割を担いますが、デプロイと導入を早めるためのテンプレートの作成にも関与し、クラウド ガバナンスの 5 つの規範の擁護者 (defender) であるのと同時にイノベーションの推進者でもあります。

### <a name="evolution-of-the-current-state"></a>現在の状態の進化

この物語の前のフェーズで、会社は 2 つのデータセンターを廃止するプロセスを開始しました。 この継続的な取り組みには、従来の認証要件がある一部アプリケーションの移行が含まれていることから、[以前の記事](identity-baseline-evolution.md)で説明した ID ベースラインの進化が必要とされていました。

その後、以下に示すように、ガバナンスに影響を与えるいくつかの変化がありました。

- 何千もの IT 資産とビジネス資産がクラウドにデプロイされています。
- ユーザー エクスペリエンスが向上したクラウド ネイティブ アプリケーションをデプロイするために、アプリケーション開発チームは、継続的インテグレーションと継続的配置 (CI/CD) のパイプラインを実装しました。 そのアプリケーションは保護対象データとまだやり取りしていないため、実稼働の準備はできていません。
- IT 部門内のビジネス インテリジェンス チームは、ロジスティクス、インベントリ、サード パーティのデータからクラウドへのデータのキュレーションに積極的に取り組みます。 このデータは、ビジネス プロセスを形成する可能性がある新しい予測を推進するために使用されています。 ただし、顧客データや財務データをデータ プラットフォームに統合できるようになるまでの間、これらの予測や分析情報は、アクションにつながるものではありません。
- IT チームは、2 つのデータセンターを廃止するという CIO と CFO の計画を進めています。 2 つのデータセンター内の資産のうち、およそ 3,500 件が廃止または移行されました。
- 個人情報と財務データに関するポリシーが最新のものになりました。 ただし、新しい企業ポリシーは、関連するセキュリティ ポリシーおよびガバナンス ポリシーの実装次第です。 チームはまだ行き詰まっています。

### <a name="evolution-of-the-future-state"></a>将来の状態の展開

- アプリケーション開発チームと BI チームによる初期の実験では、カスタマー エクスペリエンスとデータ ドリブン意思決定の改善の可能性が示されました。 どちらのチームも、これらのソリューションを運用環境にデプロイすることによって、今後 18 か月にわたってクラウドの導入を拡大したいと考えています。
- IT 部門は、さらに 5 つのデータセンターを Azure に移行することに関して、IT コストがさらに削減されビジネスのアジリティが向上するというビジネス上の正当性を示しました。 小規模とはいえ、これらのデータセンターの廃止により、総コストの削減額が 2 倍になると見込まれます。
- 資本支出および運用経費の予算では、必要なセキュリティ ポリシー、ガバナンス ポリシー、ツール、およびプロセスを実装することが承認されています。 データセンターの廃止によるコスト削減の見込みは、この新しいイニシアチブへの投資の見返りとして十分以上です。 IT とビジネスのリーダーシップは、この投資が他の領域での収益の実現を加速すると確信しています。 草の根のクラウド ガバナンス チームは、献身的なリーダーシップとスタッフの提供で広く認められるチームになりました。
- クラウド導入チーム、クラウド ガバナンス チーム、IT セキュリティ チーム、および IT ガバナンス チームが協力して、セキュリティとガバナンスの要件を実装し、クラウド導入チームが保護対象データをクラウドに移行できるようにします。

## <a name="evolution-of-tangible-risks"></a>具体的なリスクの展開

**データ侵害**:新しいデータ プラットフォームを採用すると、その性質上、データ侵害に関連した責任が増加します。 クラウド技術の導入を担当する技術者にとって、このリスクを低減できるソリューションを実装することへの責任は増しています。 これらの技術者がそうした責任を確実に果たすために、堅牢なセキュリティおよびガバナンス戦略を実装する必要があります。

このビジネス リスクは、いくつかの技術的リスクへと拡大する可能性があります。

- ミッション クリティカルなアプリまたは保護対象データが意図せずデプロイされる可能性があります。
- 暗号化に関する誤った決定により、保護対象データが保存中に公開されてしまう可能性があります。
- 未承認のユーザーが保護対象データにアクセスする可能性があります。
- 外部からの侵入により、保護対象データにアクセスされる可能性があります。
- 外部からの侵入またはサービス拒否攻撃により、ビジネスが中断させられる可能性があります。
- 組織または人事上の変更により、保護対象データへの未承認のアクセスが許可されてしまう可能性があります。
- 新たな悪用により、侵入または未承認アクセスの機会が発生する可能性があります。
- 一貫性のないデプロイ プロセスによってセキュリティの間隙が発生し、それがデータ流出または中断につながる可能性があります。
- 構成ドリフトやパッチの適用漏れによって意図しないセキュリティの間隙が発生し、それがデータ流出または中断につながる可能性があります。
- 雑多なエッジ デバイスによってネットワーク運用コストが増加する可能性があります。
- 雑多なデバイス構成は、構成の見落としやセキュリティの侵害につながる可能性があります。
- サイバーセキュリティ チームは、1 つのクラウド プロバイダーのプラットフォームで暗号化キーを生成することにはベンダー ロックインのリスクがあると主張しています。 この主張は根拠のないものですが、当面はチームに受け入れられました。

## <a name="evolution-of-the-policy-statements"></a>ポリシー ステートメントの展開

ポリシーに対する次の変更は、新しいリスクを軽減して実装を導くのに役立ちます。 長いリストのように見えますが、これらのポリシーの採用は思ったよりは簡単である場合があります。

1. デプロイされたすべての資産を、重大性とデータ分類によってカテゴライズする必要があります。 分類は、クラウドへのデプロイ前に、クラウド ガバナンス チームとアプリケーションによってレビューされることになります。
2. 保護対象データを格納またはそれにアクセスするアプリケーションは、それに該当しないアプリケーションとは異なる方法で管理されることになります。 少なくとも、保護対象データへの意図しないアクセスを避けるために、セグメント化されるべきです。
3. すべての保護対象データは暗号化した状態で保存される必要があります。
4. 保護対象データが含まれるセグメントでのアクセス許可の昇格は例外とするべきです。 そのような例外はすべてクラウド ガバナンス チームが記録し、定期的に監査されるものとします。
5. 保護対象データが含まれているネットワーク サブネットは、他のサブネットから分離する必要があります。 保護対象データ サブネット間のネットワーク トラフィックは定期的に監査されます。
6. 保護対象データが含まれているどのサブネットにも、パブリック インターネット経由で、またはデータセンターをまたいで直接アクセスすることはできません。 それらのサブネットへのアクセスは、中間サブネットワークを介してルーティングされる必要があります。 それらのサブネットへのアクセスはすべて、パケットのスキャンおよびブロック機能を実行できるファイアウォール ソリューション経由で行われる必要があります。
7. ガバナンス ツールは、セキュリティ管理チームによって定義されたネットワーク構成要件を監査し、実施する必要があります。
8. ガバナンス ツールは、VM のデプロイを承認されたイメージのみに制限する必要があります。
9. ノード構成管理は、可能であれば常に、どのゲスト オペレーティング システムの構成にもポリシー要件を適用するべきです。 ノード構成管理は、リソース構成のためのグループ ポリシー オブジェクト (GPO) への既存の投資を尊重するべきです。
10. ガバナンス ツールは、すべてのデプロイ済み資産に対して自動更新が有効であることを監査します。 可能であれば、自動更新が実施されます。 ツールによって実施されない場合、運用管理チームがノード レベルの違反をレビューし、運用ポリシーに従って修復する必要があります。 自動的に更新されない資産は、IT 運用チームが担当するプロセスに含める必要があります。
11. ミッション クリティカルなアプリケーションまたは保護対象データ向けに新しいサブスクリプションまたは管理グループを作成する場合、クラウド ガバナンス チームによるレビューを経て、適切なブループリントの割り当てを確認する必要があります。
12. ミッション クリティカルなアプリケーションまたは保護対象データを含むあらゆるサブスクリプションに、最小特権アクセス モデルが適用されます。
13. クラウド ベンダーは、既存のオンプレミス ソリューションによって管理されている暗号化キーを統合できる必要があります。
14. クラウド ベンダーは、既存のエッジ デバイス ソリューションと、パブリックに公開されているネットワーク境界を保護するために必要なあらゆる構成をサポートできる必要があります。
15. クラウド ベンダーはグローバル WAN への共有接続をサポートできる必要があり、データ転送は既存のエッジ デバイス ソリューション経由でルーティングされます。
16. クラウドのデプロイに影響を及ぼす可能性があるトレンドおよび悪用をセキュリティ チームが定期的にレビューし、クラウドで使用されるセキュリティ ベースライン ツールの更新を提供するべきです。
17. デプロイされた資産の継続的なガバナンスを保証するために、デプロイ ツールはクラウド ガバナンス チームの承認を受ける必要があります。
18. デプロイ スクリプトのメンテナンスは、クラウド ガバナンス チームが定期的なレビューと監査のためにアクセスできる中央リポジトリで行われる必要があります。
19. すべての資産にわたって一貫性を保証するために、デプロイ時点の監査と定期的な監査をガバナンス プロセスに含める必要があります。
20. カスタマー認証が必要なアプリケーションをデプロイする場合、内部ユーザー用のプライマリ ID プロバイダーと互換性のある承認済み ID プロバイダーを使用する必要があります。
21. クラウド資産構成によって阻止すべきである悪意のあるアクターまたは使用パターンを識別するために、ID ベースライン チームによる四半期ごとのレビューをクラウド ガバナンス プロセスに含める必要があります。

## <a name="evolution-of-the-best-practices"></a>ベスト プラクティスの展開

記事のこのセクションでは、ガバナンス MVP の設計を進化させて、新しい Azure ポリシーと Azure Cost Management の実装を含めます。 これら 2 つの設計変更が一体となって、新しい企業ポリシー ステートメントが満たされます。

新しいベスト プラクティスは 2 つのカテゴリに分類されます:コーポレート IT (ハブ) とクラウド導入 (スポーク) です。

**コーポレート IT ハブ/スポーク サブスクリプションを確立してセキュリティ ベースラインを集中管理する**:このベスト プラクティスは、[共有サービスを含むハブ/スポーク トポロジ][shared-services]に既存のガバナンス能力を内包し、クラウド ガバナンス チームの重要な役割をいくつか追加したものです。

1. Azure DevOps リポジトリ。 Azure DevOps でリポジトリを作成し、関連するすべての Azure Resource Manager テンプレートおよびスクリプト化された構成を保存およびバージョン管理します
2. ハブ/スポーク テンプレート。
    1. [共有サービスを含むハブ/スポークの参照アーキテクチャ][shared-services]のガイダンスを使用して、コーポレート IT ハブに必要な、資産用の Resource Manager テンプレートを生成できます。
    2. これらのテンプレートを使用することで、中央ガバナンス戦略の一環として、この構造を反復可能なものにすることができます。
    3. VNet でファイアウォールをホストするための、ポートのブロックまたはホワイトリスト登録の要件を取り入れたネットワーク セキュリティ グループ (NSG) テンプレートを、現在の参照アーキテクチャに加えて作成することをお勧めします。 この NSG は VNet へのパブリック トラフィックを許可する最初の NSG になるため、以前の NSG とは異なったものになります。
3. Azure ポリシーを作成します。 `Hub NSG Enforcement` という名前のポリシーを作成して、このサブスクリプションで作成されるすべての VNet に割り当てられる NSG の構成を実施します。 ゲスト構成用の組み込みポリシーを次のように適用します:
    1. Windows Web サーバーがセキュリティで保護された通信プロトコルを使用していることを監査します。
    2. Linux マシンと Windows マシン内でパスワード セキュリティ設定が適切に設定されていることを監査します。
4. コーポレート IT ブループリント
    1. `corporate-it-subscription` という名前の Azure ブループリントを作成します。
    2. ハブ/スポーク テンプレートとハブ NSG ポリシーを追加します。
5. 初期の管理グループ階層の拡張。
    1. `corporate-it-subscription-blueprint` ブループリントでは、保護対象データのサポートを要求した管理グループごとに、高速化されたハブ ソリューションを提供します。
    2. この架空の例の管理グループには、ビジネス ユニットの階層に加えてリージョンの階層も含まれているため、このブループリントは各リージョンでデプロイされます。
    3. 管理グループ階層内の各リージョンに対して、`Corporate IT Subscription` という名前のサブスクリプションを作成します。
    4. `corporate-it-subscription-blueprint` ブループリントを各リージョンのインスタンスに適用します。
    5. これにより、各リージョンのビジネス ユニットごとにハブが確立されます。 注:さらなるコスト削減も達成できますが、各リージョンのビジネス ユニット間でハブを共有することになります。
6. 望ましい状態への構成 (DSC: Desired State Configuration) を通じてグループ ポリシー オブジェクト (GPO) を統合します:
    1. GPO を DSC に変換 – GitHub の [Microsoft Baseline Management プロジェクト](https://github.com/Microsoft/BaselineManagement)はこの取り組みを加速させることができます。 * 必ず、Resource Manager テンプレートと並行して DSC をリポジトリに保存してください。
    2. Azure Automation State Configuration をコーポレート IT サブスクリプションの任意のインスタンスにデプロイします。 Azure Automation を使用して、管理グループ内のサポートされているサブスクリプションにデプロイされている VM に DSC を適用できます。
    3. 現在のロードマップでは、カスタムのゲスト構成ポリシーを有効にすることが計画されています。 その機能がリリースされれば、このベスト プラクティスで Azure Automation を使用する必要はなくなります。

**クラウド導入サブスクリプション (スポーク) に追加のガバナンスを適用する:**`Corporate IT Subscription` をベースに、アプリケーション アーキタイプのサポートに特化した各サブスクリプションに適用されるガバナンス MVP をわずかに変更することで、急激な進化を生み出すことができます。

ベスト プラクティスのこれまでの進化では、パブリック トラフィックをブロックし、内部トラフィックをホワイトリストに登録する NSG を定義していました。 さらに Azure ブループリントは、DMZ 機能と Active Directory 機能を一時的に作成していました。 この進化では、それらの資産を少し調整して、Azure ブループリントの新しいバージョンを作成します。

1. ネットワーク ピアリング テンプレート。 このテンプレートは、各サブスクリプション内の VNet を、コーポレート IT サブスクリプション内のハブ VNet とピアリングします。
    1. 前のセクション「[共有サービスを含むハブ/スポークの参照アーキテクチャ][shared-services]」のガイダンスでは、VNet ピアリングを有効にするために Resource Manager テンプレートを生成しました。
    2. そのテンプレートは、以前のガバナンスの進化の DMZ テンプレートを修正するためのガイドとして使用できます。
    3. ここでは基本的に、以前は VPN 経由でローカル エッジ デバイスに接続されていた DMZ VNet に VNet ピアリングを追加しています。
    4. *** また、コーポレート IT サブスクリプションおよびファイアウォール ソリューションを経由せずに、オンプレミスのデータセンターにトラフィックが直接ルーティングされることがないよう、このテンプレートからも VPN を削除することをお勧めします。
    5. ホストされた VM に DSC を適用するために、追加の[ネットワーク構成](/azure/automation/automation-dsc-overview#network-planning)が Azure Automation によって要求されます。
2. NSG を修正します。 NSG で、すべてのパブリックおよび直接のオンプレミス トラフィックをブロックします。 唯一の受信トラフィックが、コーポレート IT サブスクリプション内の VNet ピアを通過するようにしてください。
    1. 以前の進化では、すべてのパブリック トラフィックをブロックし、すべての内部トラフィックをホワイトリストに登録する NSG を作成しました。 この NSG を少し方向転換します。
    2. 新しい NSG 構成では、すべてのパブリック トラフィックと、ローカル データセンターからのすべてのトラフィックをブロックしてください。
    3. VNet ピアの反対側の VNet からのトラフィックのみをこの VNet が受信するようにします。
3. Azure Security Center の実装
    1. 保護対象データの分類が含まれるすべての管理グループについて、Azure Security Center を構成します。
    2. パッチ適用のコンプライアンスを確実にするために、既定で自動プロビジョニングをオンに設定します。
    3. OS セキュリティ構成を確立します。 IT セキュリティ チームが構成を定義します。
    4. Azure Security Center の初期の使用に関して IT セキュリティ チームを支援します。 Security Center の使用を IT セキュリティ チームに移管しますが、継続的な改善のために、ガバナンス チームも引き続きアクセスできるようにします
    5. サブスクリプション内での Azure Security Center の構成に必要な変更を反映した Resource Manager テンプレートを作成します。
4. すべてのサブスクリプションについて Azure Policy を更新します。
    1. 保護対象データの分類が含まれるすべてのサブスクリプションを識別するために、すべての管理グループおよびサブスクリプションにわたって、重大性とデータ分類を監査し、実施します。
    2. 承認された OS イメージのみの使用を監査し、実施します。
    3. 各ノードのセキュリティ要件に基づいてゲスト構成を監査し、実施します。
5. 保護対象データの分類が含まれるすべてのサブスクリプションについて、Azure Policy を更新します。
    1. 標準ロールのみの使用を監査し、実施します
    2. 個別ノードのすべてのストレージ アカウントおよび保存中ファイルに対する暗号化の適用を監査し、実施します。
    3. DMZ NSG の新しいバージョンの適用を監査し、実施します。
    4. ネットワーク インターフェイスごとに、承認されたネットワーク サブネットおよび VNet の使用を監査し、実施します。
    5. ユーザー定義のルーティング テーブルの制限を監査し、実施します。
6. Azure ブループリント:
    1. `protected-data` という名前の Azure ブループリントを作成します。
    2. VNet ピア、NSG、および Azure Security Center テンプレートをブループリントに追加します。
    3. 以前の進化の Active Directory 用テンプレートがブループリントに含まれていないことを確認します。 Active Directory への依存関係はコーポレート IT サブスクリプションによって提供されます。
    4. 以前の進化でデプロイした既存の Active Directory VM をすべて終了します。
    5. 保護対象データのサブスクリプション用の新しいポリシーを追加します。
    6. 保護対象データをホストすることを意図したすべての管理グループにブループリントを発行します。
    7. 影響を受ける各サブスクリプションに、既存のブループリントと共に新しいブループリントを適用します。

## <a name="conclusion"></a>まとめ

これらのプロセスおよび変更をガバナンス MVP に追加することで、セキュリティ ガバナンスに関連した多くのリスクを軽減しやすくなります。 データを保護するために必要なネットワーク、ID、およびセキュリティ監視ツールも追加されます。

## <a name="next-steps"></a>次の手順

クラウド導入が進化を重ねてビジネスの価値を高めていく一方で、リスクやクラウド ガバナンスのニーズも高度化します。 今回扱った架空の企業の次なるステップは、ミッション クリティカルなワークロードのサポートです。 この段階で、リソース整合性のコントロールが必要になります。

> [!div class="nextstepaction"]
> [リソース整合性の進化](./resource-consistency-evolution.md)

<!-- links -->

[shared-services]: ../../../../reference-architectures/hybrid-networking/shared-services.md