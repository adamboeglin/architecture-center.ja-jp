---
title: 検索用の自由形式テキストの処理
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: ba1685d12834b04e7d231929c53453b51527cce2
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2019
ms.locfileid: "58244073"
---
# <a name="processing-free-form-text-for-search"></a>検索用の自由形式テキストの処理

検索をサポートするため、テキストの段落を含むドキュメントに対して自由形式のテキスト処理を実行されます。

テキスト検索は、ドキュメントのコレクションに対して事前に計算済みの特殊なインデックスを構築することによって機能します。 クライアント アプリケーションは、検索用語を含むクエリを送信します。 クエリでは、ドキュメントの一覧で構成される結果セットが返ります。一覧は、各ドキュメントが検索条件と一致する度合いに従って並べられます。 結果セットには、ドキュメントが条件と一致するコンテキストも含まれる可能性があり、それによってアプリケーションは、ドキュメント内の一致する語句を強調表示できます。

![検索パイプラインの図](./images/search-pipeline.png)

自由形式テキストの処理では、大量のテキスト データから有用で実用的なデータを生成できます。 結果は、構造化されていないドキュメントに対して、適切に定義され、クエリ可能な構造を与えることができます。

## <a name="challenges"></a>課題

- 自由形式テキストのドキュメントのコレクションを処理する操作は、通常は、時間がかかるだけでなく、コンピューティングにおけるリソース負荷も高くなります。
- 自由形式テキストを効率的に検索するために、検索インデックスでは、構造が似ている用語に基づくあいまい検索をサポートする必要があります。 たとえば、見出し語解析と語幹抽出による検索インデックスを構築して、"run" のクエリを実行したときに、"ran" と "running" を含むドキュメントも検索されるようにします。

## <a name="architecture"></a>アーキテクチャ

ほとんどのシナリオでは、ソース テキスト ドキュメントは Azure Storage または Azure Data Lake Store などのオブジェクト ストレージに読み込まれます。 例外は、SQL Server または Azure SQL データベース内でのフルテキスト検索の使用です。 この場合、ドキュメントのデータは、データベースによって管理されるテーブルに読み込まれます。 格納されると、ドキュメントがバッチ処理されてインデックスが作成されます。

## <a name="technology-choices"></a>テクノロジの選択

検索インデックスを作成するためのオプションには、Azure Search、Elasticsearch、および Solr を使用する HDInsight が含まれます。 これらの各テクノロジは、ドキュメントのコレクションから検索インデックスを設定できます。 Azure Search には、プレーン テキストから Excel 形式と PDF 形式に至るまでのドキュメントのインデックスを自動的に設定できるインデクサーが用意されています。 HDInsight では、Apache Solr で、プレーン テキスト、Word、PDF を含むさまざまな種類のバイナリ ファイルにインデックスを設定できます。 インデックスが構築されたら、クライアントは、REST API を使用して検索インターフェイスにアクセスできます。

テキスト データが SQL Server または Azure SQL Database に格納されている場合は、データベースに組み込まれているフルテキスト検索を使用できます。 データベースは、同じデータベース内に格納されたテキスト、バイナリ、または XML データからインデックスを設定します。 クライアントは、T-SQL クエリを使用して検索します。

詳細については、[検索データ ストア](../technology-choices/search-options.md)に関する記事を参照してください。
