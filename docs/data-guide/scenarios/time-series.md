---
title: 時系列データ
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: d7fc18d1d38fb545ea7905b41ea182eb186adfef
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2019
ms.locfileid: "58246323"
---
# <a name="time-series-solutions"></a><span data-ttu-id="ed290-102">時系列ソリューション</span><span class="sxs-lookup"><span data-stu-id="ed290-102">Time series solutions</span></span>

<span data-ttu-id="ed290-103">時系列データは、時間別に整理された値のセットです。</span><span class="sxs-lookup"><span data-stu-id="ed290-103">Time series data is a set of values organized by time.</span></span> <span data-ttu-id="ed290-104">時系列データの例として、センサー データ、株価、クリック ストリーム データ、アプリケーション テレメトリ データなどがあります。</span><span class="sxs-lookup"><span data-stu-id="ed290-104">Examples of time series data include sensor data, stock prices, click stream data, and application telemetry.</span></span> <span data-ttu-id="ed290-105">時系列データを使用して、履歴による傾向、リアルタイムのアラート、または予測モデリングを分析できます。</span><span class="sxs-lookup"><span data-stu-id="ed290-105">Time series data can be analyzed for historical trends, real-time alerts, or predictive modeling.</span></span>

![Time Series Insights](./images/time-series-insights.png)

<span data-ttu-id="ed290-107">時系列データは、資産やプロセスの経時的な変化を表します。</span><span class="sxs-lookup"><span data-stu-id="ed290-107">Time series data represents how an asset or process changes over time.</span></span> <span data-ttu-id="ed290-108">データにはタイムスタンプがありますが、さらに重要なのは、データを表示または分析するための最も意味のある軸が時間であるということです。</span><span class="sxs-lookup"><span data-stu-id="ed290-108">The data has a timestamp, but more importantly, time is the most meaningful axis for viewing or analyzing the data.</span></span> <span data-ttu-id="ed290-109">一般に、時系列データは時間順に到着し、通常はデータベースに対する更新ではなく挿入として扱われます。</span><span class="sxs-lookup"><span data-stu-id="ed290-109">Time series data typically arrives in order of time and is usually treated as an insert rather than an update to your database.</span></span> <span data-ttu-id="ed290-110">このため、変更は時間に対して測定され、過去の変化を振り返ったり、今後の変化を予測したりできます。</span><span class="sxs-lookup"><span data-stu-id="ed290-110">Because of this, change is measured over time, enabling you to look backward and to predict future change.</span></span> <span data-ttu-id="ed290-111">そのため、時系列データのビジュアル化には、散布図または折れ線グラフが最も適しています。</span><span class="sxs-lookup"><span data-stu-id="ed290-111">As such, time series data is best visualized with scatter or line charts.</span></span>

![折れ線グラフでビジュアル化された時系列データ](./images/time-series-chart.png)

<span data-ttu-id="ed290-113">時系列データのいくつかの例を示します。</span><span class="sxs-lookup"><span data-stu-id="ed290-113">Some examples of time series data are:</span></span>

- <span data-ttu-id="ed290-114">傾向を検出するために一定時間キャプチャされた株価。</span><span class="sxs-lookup"><span data-stu-id="ed290-114">Stock prices captured over time to detect trends.</span></span>
- <span data-ttu-id="ed290-115">CPU 使用率、I/O 負荷、メモリ使用量、およびネットワーク帯域幅の消費量などのサーバーのパフォーマンス。</span><span class="sxs-lookup"><span data-stu-id="ed290-115">Server performance, such as CPU usage, I/O load, memory usage, and network bandwidth consumption.</span></span>
- <span data-ttu-id="ed290-116">産業機器のセンサーから送信されたテレメトリ。これを使用して、保留中の機器の障害を検出し、アラート通知をトリガーできます。</span><span class="sxs-lookup"><span data-stu-id="ed290-116">Telemetry from sensors on industrial equipment, which can be used to detect pending equipment failure and trigger alert notifications.</span></span>
- <span data-ttu-id="ed290-117">特定の時間枠でのスピード、ブレーキ、アクセルを含むリアルタイムの車両テレメトリ。ドライバーの集計されたリスク スコアを生成します。</span><span class="sxs-lookup"><span data-stu-id="ed290-117">Real-time car telemetry data including speed, braking, and acceleration over a time window to produce an aggregate risk score for the driver.</span></span>

<span data-ttu-id="ed290-118">これらの例のそれぞれで、軸としての時間が最も意味のあることがわかります。</span><span class="sxs-lookup"><span data-stu-id="ed290-118">In each of these cases, you can see how time is most meaningful as an axis.</span></span> <span data-ttu-id="ed290-119">時間的順序があるため、イベントを到着順で表示することは時系列データの重要な特性です。</span><span class="sxs-lookup"><span data-stu-id="ed290-119">Displaying the events in the order in which they arrived is a key characteristic of time series data, as there is a natural temporal ordering.</span></span> <span data-ttu-id="ed290-120">これは、データを任意の順序で入力していつでも更新できる標準的な OLTP データ パイプライン用にキャプチャされたデータとは異なります。</span><span class="sxs-lookup"><span data-stu-id="ed290-120">This differs from data captured for standard OLTP data pipelines where data can be entered in any order, and updated at any time.</span></span>

## <a name="when-to-use-this-solution"></a><span data-ttu-id="ed290-121">このソリューションを使用する状況</span><span class="sxs-lookup"><span data-stu-id="ed290-121">When to use this solution</span></span>

<span data-ttu-id="ed290-122">その戦略的価値が一定期間の変化に集中しているデータを取り込む必要があり、主に新しいデータの挿入が実行され、更新はめったに行なわれない場合は、時系列ソリューションを選択します。</span><span class="sxs-lookup"><span data-stu-id="ed290-122">Choose a time series solution when you need to ingest data whose strategic value is centered around changes over a period of time, and you are primarily inserting new data and rarely updating, if at all.</span></span> <span data-ttu-id="ed290-123">この情報を使用して、異常の検出、傾向のビジュアル化、現在のデータと履歴データの比較などを実行できます。</span><span class="sxs-lookup"><span data-stu-id="ed290-123">You can use this information to detect anomalies, visualize trends, and compare current data to historical data, among other things.</span></span> <span data-ttu-id="ed290-124">このタイプのアーキテクチャは、経時変化の履歴レコードがあるため、予測モデリングと予測結果にも最適であり、任意の数の予測モデルに適用できます。</span><span class="sxs-lookup"><span data-stu-id="ed290-124">This type of architecture is also best suited for predictive modeling and forecasting results, because you have the historical record of changes over time, which can be applied to any number of forecasting models.</span></span>

<span data-ttu-id="ed290-125">時系列の使用には次の利点があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-125">Using time series offers the following benefits:</span></span>

- <span data-ttu-id="ed290-126">資産やプロセスの経時的な変化を明確に表します。</span><span class="sxs-lookup"><span data-stu-id="ed290-126">Clearly represents how an asset or process changes over time.</span></span>
- <span data-ttu-id="ed290-127">複数の関連するソースの変化を迅速に検出し、異常と顕在化しつつ傾向をはっきりと浮き上がらせるために役立ちます。</span><span class="sxs-lookup"><span data-stu-id="ed290-127">Helps you quickly detect changes to a number of related sources, making anomalies and emerging trends clearly stand out.</span></span>
- <span data-ttu-id="ed290-128">予測モデリングと予測に最も適しています。</span><span class="sxs-lookup"><span data-stu-id="ed290-128">Best suited for predictive modeling and forecasting.</span></span>

### <a name="internet-of-things-iot"></a><span data-ttu-id="ed290-129">モノのインターネット(IoT)</span><span class="sxs-lookup"><span data-stu-id="ed290-129">Internet of Things (IoT)</span></span>

<span data-ttu-id="ed290-130">IoT デバイスによって収集されるデータは、時系列での保存と分析に最適です。</span><span class="sxs-lookup"><span data-stu-id="ed290-130">Data collected by IoT devices is a natural fit for time series storage and analysis.</span></span> <span data-ttu-id="ed290-131">受信データは挿入され、更新されることはめったにありません。</span><span class="sxs-lookup"><span data-stu-id="ed290-131">The incoming data is inserted and rarely, if ever, updated.</span></span> <span data-ttu-id="ed290-132">データにはタイム スタンプが付けられ、受信した順序で挿入されます。このデータは通常は時系列で表示され、ユーザーが傾向の検出、異常の見分け、予測分析での情報の使用を実行できるようにします。</span><span class="sxs-lookup"><span data-stu-id="ed290-132">The data is time stamped and inserted in the order it was received, and this data is typically displayed in chronological order, enabling users to discover trends, spot anomalies, and use the information for predictive analysis.</span></span>

<span data-ttu-id="ed290-133">詳細については、「[モノのインターネット](../big-data/index.md#internet-of-things-iot)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="ed290-133">For more information, see [Internet of Things](../big-data/index.md#internet-of-things-iot).</span></span>

### <a name="real-time-analytics"></a><span data-ttu-id="ed290-134">リアルタイム分析</span><span class="sxs-lookup"><span data-stu-id="ed290-134">Real-time analytics</span></span>

<span data-ttu-id="ed290-135">時系列データは、多くの場合、一刻を争うデータです。つまり、リアルタイムで傾向を見分けたり、アラートを生成したりするために迅速に対処する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-135">Time series data is often time sensitive &mdash; that is, it must be acted on quickly, to spot trends in real time or generate alerts.</span></span> <span data-ttu-id="ed290-136">これらのシナリオでは、判断の遅れによってダウンタイムとビジネスへの影響が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-136">In these scenarios, any delay in insights can cause downtime and business impact.</span></span> <span data-ttu-id="ed290-137">さらに、多くの場合、センサーなどのさまざまなソースのデータを関連付ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-137">In addition, there is often a need to correlate data from a variety of different sources, such as sensors.</span></span>

<span data-ttu-id="ed290-138">理想的なのは、受信したデータをリアルタイムで処理するストリーム処理レイヤーを用意し、そのすべてを高い精度と粒度で処理することです。</span><span class="sxs-lookup"><span data-stu-id="ed290-138">Ideally, you would have a stream processing layer that can handle the incoming data in real time and process all of it with high precision and high granularity.</span></span> <span data-ttu-id="ed290-139">ストリーミング アーキテクチャ、ストリーミング バッファ、およびストリーミング処理レイヤーによっては、これは常に可能というわけではありません。</span><span class="sxs-lookup"><span data-stu-id="ed290-139">This isn't always possible, depending on your streaming architecture and the components of your stream buffering and stream processing layers.</span></span> <span data-ttu-id="ed290-140">時系列データを減らすことで、その精度を犠牲にしなければならない場合があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-140">You may need to sacrifice some precision of the time series data by reducing it.</span></span> <span data-ttu-id="ed290-141">これは、スライディング時間枠 (例: 数秒) を処理することで実行され、処理レイヤーが適切なタイミングで計算を実行できるようにします。</span><span class="sxs-lookup"><span data-stu-id="ed290-141">This is done by processing sliding time windows (several seconds, for example), allowing the processing layer to perform calculations in a timely manner.</span></span> <span data-ttu-id="ed290-142">数か月の間キャプチャされたデータの詳細表示など、長期にわたるデータを表示する場合は、データのダウンサンプリングと集計が必要になる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="ed290-142">You may also need to downsample and aggregate your data when displaying longer periods of time, such as zooming to display data captured over several months.</span></span>

## <a name="challenges"></a><span data-ttu-id="ed290-143">課題</span><span class="sxs-lookup"><span data-stu-id="ed290-143">Challenges</span></span>

- <span data-ttu-id="ed290-144">時系列データは、多くの場合、非常に容量が大きくなります。これは特に IoT シナリオに当てはまります。</span><span class="sxs-lookup"><span data-stu-id="ed290-144">Time series data is often very high volume, especially in IoT scenarios.</span></span> <span data-ttu-id="ed290-145">時系列データの保存、インデックス作成、クエリ、分析、およびビジュアル化は困難である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-145">Storing, indexing, querying, analyzing, and visualizing time series data can be challenging.</span></span>

- <span data-ttu-id="ed290-146">開発期間と全体的なコストの投資を最小限に抑えながら、リアルタイム分析を処理する高速ストレージと強力なコンピューティングの組み合わせを見つけることは困難である可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-146">It can be challenging to find the right combination of high-speed storage and powerful compute operations for handling real-time analytics, while minimizing time to market and overall cost investment.</span></span>

## <a name="architecture"></a><span data-ttu-id="ed290-147">アーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="ed290-147">Architecture</span></span>

<span data-ttu-id="ed290-148">IoT などの時系列データが関連する多くのシナリオでは、データはリアルタイムでキャプチャされます。</span><span class="sxs-lookup"><span data-stu-id="ed290-148">In many scenarios that involve time series data, such as IoT, the data is captured in real time.</span></span> <span data-ttu-id="ed290-149">そのため、[リアルタイム処理](../big-data/real-time-processing.md)アーキテクチャが適しています。</span><span class="sxs-lookup"><span data-stu-id="ed290-149">As such, a [real-time processing](../big-data/real-time-processing.md) architecture is appropriate.</span></span>

<span data-ttu-id="ed290-150">1 つ以上のデータ ソースからのデータは、[IoT Hub](/azure/iot-hub/)、[Event Hubs](/azure/event-hubs/)、または [HDInsight 上の Kafka](/azure/hdinsight/kafka/apache-kafka-introduction) によって、ストリーム バッファリング レイヤーに取り込まれます。</span><span class="sxs-lookup"><span data-stu-id="ed290-150">Data from one or more data sources is ingested into the stream buffering layer by [IoT Hub](/azure/iot-hub/), [Event Hubs](/azure/event-hubs/), or [Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-introduction).</span></span> <span data-ttu-id="ed290-151">次に、データは、ストリーム処理レイヤーで処理されます。処理されたデータは、必要に応じて、予測分析を行うために機械学習サービスに渡すことができます。</span><span class="sxs-lookup"><span data-stu-id="ed290-151">Next, the data is processed in the stream processing layer that can optionally hand off the processed data to a machine learning service for predictive analytics.</span></span> <span data-ttu-id="ed290-152">処理されたデータは、[HBase](/azure/hdinsight/hbase/apache-hbase-overview)、[Azure Cosmos DB](/azure/cosmos-db/)、Azure Data Lake、Blob ストレージなどの分析データ ストアに格納されます。</span><span class="sxs-lookup"><span data-stu-id="ed290-152">The processed data is stored in an analytical data store, such as [HBase](/azure/hdinsight/hbase/apache-hbase-overview), [Azure Cosmos DB](/azure/cosmos-db/), Azure Data Lake, or Blob Storage.</span></span> <span data-ttu-id="ed290-153">Power BI や OpenTSDB (HBase に格納される場合) などの分析とレポート作成を行うアプリケーションまたはサービスを使用して、時系列データを表示して分析できます。</span><span class="sxs-lookup"><span data-stu-id="ed290-153">An analytics and reporting application or service, like Power BI or OpenTSDB (if stored in HBase) can be used to display the time series data for analysis.</span></span>

<span data-ttu-id="ed290-154">別のオプションとして、[Azure Time Series Insights](/azure/time-series-insights/) の使用があります。</span><span class="sxs-lookup"><span data-stu-id="ed290-154">Another option is to use [Azure Time Series Insights](/azure/time-series-insights/).</span></span> <span data-ttu-id="ed290-155">Time Series Insights は、時系列データ用のフル マネージドのサービスです。</span><span class="sxs-lookup"><span data-stu-id="ed290-155">Time Series Insights is a fully managed service for time series data.</span></span> <span data-ttu-id="ed290-156">このアーキテクチャでは、Time Series Insights がストリーム処理、データ ストア、分析およびレポート作成のロールを実行します。</span><span class="sxs-lookup"><span data-stu-id="ed290-156">In this architecture, Time Series Insights performs the roles of stream processing, data store, and analytics and reporting.</span></span> <span data-ttu-id="ed290-157">IoT Hub または Event Hubs ストアからストリーミング データを受け取り、ほぼリアルタイムでデータを処理、解析、および表示します。</span><span class="sxs-lookup"><span data-stu-id="ed290-157">It accepts streaming data from either IoT Hub or Event Hubs and stores, processes, analyzes, and displays the data in near real time.</span></span> <span data-ttu-id="ed290-158">データの事前集計は行いませんが、生のイベントを格納します。</span><span class="sxs-lookup"><span data-stu-id="ed290-158">It does not pre-aggregate the data, but stores the raw events.</span></span>

<span data-ttu-id="ed290-159">Time Series Insights はスキーマ適用型です。つまり、洞察を開始するためにデータの準備を行う必要はありません。</span><span class="sxs-lookup"><span data-stu-id="ed290-159">Time Series Insights is schema adaptive, which means that you do not have to do any data preparation to start deriving insights.</span></span> <span data-ttu-id="ed290-160">これにより、さまざまなデータ ソースの調査、比較、および関連付けをシームレスに行うことができます。</span><span class="sxs-lookup"><span data-stu-id="ed290-160">This enables you to explore, compare, and correlate a variety of data sources seamlessly.</span></span> <span data-ttu-id="ed290-161">SQL に似たフィルターと集計、さまざまな時系列パターンの構成、ビジュアル化、比較、およびオーバーレイを行う機能、ヒート マップ、クエリの保存と共有を行う機能も備えています。</span><span class="sxs-lookup"><span data-stu-id="ed290-161">It also provides SQL-like filters and aggregates, ability to construct, visualize, compare, and overlay various time series patterns, heat maps, and the ability to save and share queries.</span></span>

## <a name="technology-choices"></a><span data-ttu-id="ed290-162">テクノロジの選択</span><span class="sxs-lookup"><span data-stu-id="ed290-162">Technology choices</span></span>

- [<span data-ttu-id="ed290-163">データ ストレージ</span><span class="sxs-lookup"><span data-stu-id="ed290-163">Data Storage</span></span>](../technology-choices/data-storage.md)
- [<span data-ttu-id="ed290-164">分析、ビジュアル化、およびレポート</span><span class="sxs-lookup"><span data-stu-id="ed290-164">Analysis, visualizations, and reporting</span></span>](../technology-choices/analysis-visualizations-reporting.md)
- [<span data-ttu-id="ed290-165">分析データ ストア</span><span class="sxs-lookup"><span data-stu-id="ed290-165">Analytical Data Stores</span></span>](../technology-choices/analytical-data-stores.md)
- [<span data-ttu-id="ed290-166">ストリーム処理</span><span class="sxs-lookup"><span data-stu-id="ed290-166">Stream processing</span></span>](../technology-choices/stream-processing.md)