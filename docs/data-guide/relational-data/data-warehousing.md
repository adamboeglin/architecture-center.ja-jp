---
title: データ ウェアハウスとデータ マート
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: 6679ff620ca9e64036c02fce38608de38c57df93
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/20/2019
ms.locfileid: "58246363"
---
# <a name="data-warehousing-and-data-marts"></a><span data-ttu-id="71043-102">データ ウェアハウスとデータ マート</span><span class="sxs-lookup"><span data-stu-id="71043-102">Data warehousing and data marts</span></span>

<span data-ttu-id="71043-103">データ ウェアハウスは、多数の主題領域またはすべての主題領域の 1 つ以上の異種ソースから統合されたデータの中心的で組織的なリレーショナル リポジトリです。</span><span class="sxs-lookup"><span data-stu-id="71043-103">A data warehouse is a central, organizational, relational repository of integrated data from one or more disparate sources, across many or all subject areas.</span></span> <span data-ttu-id="71043-104">データ ウェアハウスには現在のデータと履歴データが格納され、さまざまな方法でデータのレポートと分析を行うために使用されます。</span><span class="sxs-lookup"><span data-stu-id="71043-104">Data warehouses store current and historical data and are used for reporting and analysis of the data in different ways.</span></span>

![Azure におけるデータ ウェアハウス](../images/data-warehousing.png)

<span data-ttu-id="71043-106">データ ウェアハウスにデータを移動するために、重要なビジネス情報が含まれているさまざまなソースから定期的にデータが抽出されます。</span><span class="sxs-lookup"><span data-stu-id="71043-106">To move data into a data warehouse, it is extracted on a periodic basis from various sources that contain important business information.</span></span> <span data-ttu-id="71043-107">データを移動するときに、書式設定、クリーンアップ、検証、集計、および再構成を実行できます。</span><span class="sxs-lookup"><span data-stu-id="71043-107">As the data is moved, it can be formatted, cleaned, validated, summarized, and reorganized.</span></span> <span data-ttu-id="71043-108">または、詳細の最下位レベルでデータを格納し、ウェアハウスに用意されている集計ビューを使用してレポートを作成できます。</span><span class="sxs-lookup"><span data-stu-id="71043-108">Alternately, the data can be stored in the lowest level of detail, with aggregated views provided in the warehouse for reporting.</span></span> <span data-ttu-id="71043-109">どちらの場合でも、データ ウェアハウスは、レポート、分析、およびビジネス インテリジェンス (BI) ツールを使用した重要なビジネス上の意思決定の形成を行うために使用されるデータの永続的な記憶域スペースになります。</span><span class="sxs-lookup"><span data-stu-id="71043-109">In either case, the data warehouse becomes a permanent storage space for data used for reporting, analysis, and forming important business decisions using business intelligence (BI) tools.</span></span>

## <a name="data-marts-and-operational-data-stores"></a><span data-ttu-id="71043-110">データ マートと運用データ ストア</span><span class="sxs-lookup"><span data-stu-id="71043-110">Data marts and operational data stores</span></span>

<span data-ttu-id="71043-111">大規模なデータの管理は複雑であり、企業全体のすべてのデータを表す単一のデータ ウェアハウスを持つことは一般的ではなくなりつつあります。</span><span class="sxs-lookup"><span data-stu-id="71043-111">Managing data at scale is complex, and it is becoming less common to have a single data warehouse that represents all data across the entire enterprise.</span></span> <span data-ttu-id="71043-112">代わりに、組織では、分析で必要なデータを公開する、"*データ マート*" と呼ばれる対象を絞った小規模のデータ ウェアハウスを作成します。</span><span class="sxs-lookup"><span data-stu-id="71043-112">Instead, organizations create smaller, more focused data warehouses, called *data marts*, that expose the desired data for analytics purposes.</span></span> <span data-ttu-id="71043-113">オーケストレーション プロセスによって、運用データ ストアに保持されているデータからデータ マートにデータを入力します。</span><span class="sxs-lookup"><span data-stu-id="71043-113">An orchestration process populates the data marts from data maintained in an operational data store.</span></span> <span data-ttu-id="71043-114">運用データ ストアは、ソースのトランザクション システムとデータ マートの間の媒介として機能します。</span><span class="sxs-lookup"><span data-stu-id="71043-114">The operational data store acts as an intermediary between the source transactional system and the data mart.</span></span> <span data-ttu-id="71043-115">運用データ ストアによって管理されるデータは、ソースのトランザクション システムに存在するデータのクリーンアップ バージョンであり、通常は、データ ウェアハウスまたはデータ マートによって保持されている履歴データのサブセットです。</span><span class="sxs-lookup"><span data-stu-id="71043-115">Data managed by the operational data store is a cleaned version of the data present in the source transactional system, and is typically a subset of the historical data that is maintained by the data warehouse or data mart.</span></span>

## <a name="when-to-use-this-solution"></a><span data-ttu-id="71043-116">このソリューションを使用する状況</span><span class="sxs-lookup"><span data-stu-id="71043-116">When to use this solution</span></span>

<span data-ttu-id="71043-117">運用システムの大量のデータを、理解しやすい最新の適切な形式に変換する必要がある場合は、データ ウェアハウスを選択します。</span><span class="sxs-lookup"><span data-stu-id="71043-117">Choose a data warehouse when you need to turn massive amounts of data from operational systems into a format that is easy to understand, current, and accurate.</span></span> <span data-ttu-id="71043-118">データ ウェアハウスでは、運用/OLTP データベースで使用している可能性がある簡潔なデータ構造と同じにする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="71043-118">Data warehouses do not need to follow the same terse data structure you may be using in your operational/OLTP databases.</span></span> <span data-ttu-id="71043-119">ビジネス ユーザーとアナリストにとって意味のある列名を使用でき、データのリレーションシップを単純化するようにスキーマを再構築でき、複数のテーブルを 1 つに統合できます。</span><span class="sxs-lookup"><span data-stu-id="71043-119">You can use column names that make sense to business users and analysts, restructure the schema to simplify data relationships, and consolidate several tables into one.</span></span> <span data-ttu-id="71043-120">次の手順では、アドホック レポートを作成したり、レポートを作成して BI システムで分析したりする必要があるユーザーが、データベース管理者 (DBA) またはデータ開発者の助けを借りずにそのような作業を実行できるようにします。</span><span class="sxs-lookup"><span data-stu-id="71043-120">These steps help guide users who need to create ad hoc reports, or create reports and analyze the data in BI systems, without the help of a database administrator (DBA) or data developer.</span></span>

<span data-ttu-id="71043-121">パフォーマンス上の理由で履歴データをソースのトランザクション システムから分離して保持する必要がある場合は、データ ウェアハウスの使用を検討してください。</span><span class="sxs-lookup"><span data-stu-id="71043-121">Consider using a data warehouse when you need to keep historical data separate from the source transaction systems for performance reasons.</span></span> <span data-ttu-id="71043-122">データ ウェアハウスでは、共通の形式、共通のキー、共通のデータ モデル、および共通のアクセス方法を使用する一元的な場所を提供することによって、複数の場所から履歴データに簡単にアクセスできるようにします。</span><span class="sxs-lookup"><span data-stu-id="71043-122">Data warehouses make it easy to access historical data from multiple locations, by providing a centralized location using common formats, common keys, common data models, and common access methods.</span></span>

<span data-ttu-id="71043-123">データ ウェアハウスは読み取りアクセス用に最適化されています。その結果、ソースのトランザクション システムよりもレポートが短時間で生成されます。</span><span class="sxs-lookup"><span data-stu-id="71043-123">Data warehouses are optimized for read access, resulting in faster report generation compared to running reports against the source transaction system.</span></span> <span data-ttu-id="71043-124">さらに、データ ウェアハウスには、次の利点があります。</span><span class="sxs-lookup"><span data-stu-id="71043-124">In addition, data warehouses provide the following benefits:</span></span>

- <span data-ttu-id="71043-125">複数のソースからのすべての履歴データをデータ ウェアハウスに格納し、1 つの正確な情報源としてアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="71043-125">All historical data from multiple sources can be stored and accessed from a data warehouse as the single source of truth.</span></span>
- <span data-ttu-id="71043-126">データ ウェアハウスにインポートされるときにデータをクリーンアップすることで、正確なデータ、一貫性のあるコード、および説明を提供することで、データの品質を向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="71043-126">You can improve data quality by cleaning up data as it is imported into the data warehouse, providing more accurate data as well as providing consistent codes and descriptions.</span></span>
- <span data-ttu-id="71043-127">レポート ツールは、クエリの処理サイクルでトランザクションのソース システムと競合することはありません。</span><span class="sxs-lookup"><span data-stu-id="71043-127">Reporting tools do not compete with the transactional source systems for query processing cycles.</span></span> <span data-ttu-id="71043-128">トランザクション システムは、データ ウェアハウスによって、書き込みの処理に集中でき、読み取り要求の大半はデータ ウェアハウスが対応します。</span><span class="sxs-lookup"><span data-stu-id="71043-128">A data warehouse allows the transactional system to focus predominantly on handling writes, while the data warehouse satisfies the majority of read requests.</span></span>
- <span data-ttu-id="71043-129">データ ウェアハウスは、さまざまなソフトウェアからのデータを統合するために有用です。</span><span class="sxs-lookup"><span data-stu-id="71043-129">A data warehouse can help consolidate data from different software.</span></span>
- <span data-ttu-id="71043-130">データ マイニング ツールでウェアハウスに格納されたデータに対して自動手法を使用して、隠れたパターンを検出できます。</span><span class="sxs-lookup"><span data-stu-id="71043-130">Data mining tools can help you find hidden patterns using automatic methodologies against data stored in your warehouse.</span></span>
- <span data-ttu-id="71043-131">データ ウェアハウスを使用すると、許可されたユーザーにセキュリティで保護されたアクセスを簡単に提供でき、同時に許可されていないユーザーのアクセスを制限できます。</span><span class="sxs-lookup"><span data-stu-id="71043-131">Data warehouses make it easier to provide secure access to authorized users, while restricting access to others.</span></span> <span data-ttu-id="71043-132">ソース データへのアクセスをビジネス ユーザーに付与する必要はないため、1 つまたは複数の実稼働トランザクション システムに対する潜在的な攻撃ベクトルが取り除かれます。</span><span class="sxs-lookup"><span data-stu-id="71043-132">There is no need to grant business users access to the source data, thereby removing a potential attack vector against one or more production transaction systems.</span></span>
- <span data-ttu-id="71043-133">データ ウェアハウスは、データの上にビジネス インテリジェンス ソリューションを簡単に作成できるようにします ([OLAP キューブ](online-analytical-processing.md) など)。</span><span class="sxs-lookup"><span data-stu-id="71043-133">Data warehouses make it easier to create business intelligence solutions on top of the data, such as [OLAP cubes](online-analytical-processing.md).</span></span>

## <a name="challenges"></a><span data-ttu-id="71043-134">課題</span><span class="sxs-lookup"><span data-stu-id="71043-134">Challenges</span></span>

<span data-ttu-id="71043-135">ビジネス ニーズに合わせたデータ ウェアハウスの適切な構成には、次に示すいくつかの課題が伴う可能性があります。</span><span class="sxs-lookup"><span data-stu-id="71043-135">Properly configuring a data warehouse to fit the needs of your business can bring some of the following challenges:</span></span>

- <span data-ttu-id="71043-136">ビジネスの概念を正しくモデル化するために必要な時間を取ること。</span><span class="sxs-lookup"><span data-stu-id="71043-136">Committing the time required to properly model your business concepts.</span></span> <span data-ttu-id="71043-137">データ ウェアハウスは情報駆動型であり、概念のマッピングがプロジェクトの残りの部分を推進するため、これは重要な手順です。</span><span class="sxs-lookup"><span data-stu-id="71043-137">This is an important step, as data warehouses are information driven, where concept mapping drives the rest of the project.</span></span> <span data-ttu-id="71043-138">これには、ビジネスに関連する用語と一般的な形式 (通貨や日付など) の標準化と、ビジネス ユーザーにとって意味があるが、引き続きデータの集計とリレーションシップの正確さを保証する方法でのスキーマの再構築が含まれます。</span><span class="sxs-lookup"><span data-stu-id="71043-138">This involves standardizing business-related terms and common formats (such as currency and dates), and restructuring the schema in a way that makes sense to business users but still ensures accuracy of data aggregates and relationships.</span></span>

- <span data-ttu-id="71043-139">データのオーケストレーションの計画と設定。</span><span class="sxs-lookup"><span data-stu-id="71043-139">Planning and setting up your data orchestration.</span></span> <span data-ttu-id="71043-140">考慮事項には、ソースのトランザクション システムからデータ ウェアハウスにデータをコピーする方法と、運用データ ストアからウェアハウスに履歴データを移動する時期が含まれます。</span><span class="sxs-lookup"><span data-stu-id="71043-140">Considerations include how to copy data from the source transactional system to the data warehouse, and when to move historical data out of your operational data stores and into the warehouse.</span></span>

- <span data-ttu-id="71043-141">ウェアハウスにインポートするときにデータをクリーンアップして、データの品質を維持または向上させること。</span><span class="sxs-lookup"><span data-stu-id="71043-141">Maintaining or improving data quality by cleaning the data as it is imported into the warehouse.</span></span>

## <a name="data-warehousing-in-azure"></a><span data-ttu-id="71043-142">Azure におけるデータ ウェアハウス</span><span class="sxs-lookup"><span data-stu-id="71043-142">Data warehousing in Azure</span></span>

<span data-ttu-id="71043-143">Azure では、1 つまたは複数のデータ ソースを使用できます。ソースは、顧客のトランザクションの場合も、さまざまな部門で使用される各種のビジネス アプリケーションの場合もあります。</span><span class="sxs-lookup"><span data-stu-id="71043-143">In Azure, you may have one or more sources of data, whether from customer transactions, or from various business applications used by various departments.</span></span> <span data-ttu-id="71043-144">このデータは、従来は 1 つまたは複数の [OLTP](online-transaction-processing.md) データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="71043-144">This data is traditionally stored in one or more [OLTP](online-transaction-processing.md) databases.</span></span> <span data-ttu-id="71043-145">データは、ネットワーク共有、Azure Storage Blobs、Data Lake などの別の記憶域メディアに保存されることがあります。</span><span class="sxs-lookup"><span data-stu-id="71043-145">The data could be persisted in other storage mediums such as network shares, Azure Storage Blobs, or a data lake.</span></span> <span data-ttu-id="71043-146">データは、データ ウェアハウス自体や、Azure SQL Database などのリレーショナル データベース内に格納されることもあります。</span><span class="sxs-lookup"><span data-stu-id="71043-146">The data could also be stored by the data warehouse itself or in a relational database such as Azure SQL Database.</span></span> <span data-ttu-id="71043-147">分析データ ストア層の目的は、分析およびレポート ツールがデータ ウェアハウスまたはデータ マートに対して発行するクエリに対応することです。</span><span class="sxs-lookup"><span data-stu-id="71043-147">The purpose of the analytical data store layer is to satisfy queries issued by analytics and reporting tools against the data warehouse or data mart.</span></span> <span data-ttu-id="71043-148">Azure では、Azure SQL Data Warehouse、Hive または対話型クエリを使用する Azure HDInsight を使用して、この分析ストア機能に対応できます。</span><span class="sxs-lookup"><span data-stu-id="71043-148">In Azure, this analytical store capability can be met with Azure SQL Data Warehouse, or with Azure HDInsight using Hive or Interactive Query.</span></span> <span data-ttu-id="71043-149">さらに、データ ストレージからデータ ウェアハウスに定期的にデータを移動またはコピーするレベルのオーケストレーションが必要になりますが、これは Azure HDInsight 上で Azure Data Factory または Oozie を使用して実行できます。</span><span class="sxs-lookup"><span data-stu-id="71043-149">In addition, you will need some level of orchestration to periodically move or copy data from data storage to the data warehouse, which can be done using Azure Data Factory or Oozie on Azure HDInsight.</span></span>

<span data-ttu-id="71043-150">Azure にはデータ ウェアハウスを実装するためのオプションがいくつかあり、必要に応じて選択できます。</span><span class="sxs-lookup"><span data-stu-id="71043-150">There are several options for implementing a data warehouse in Azure, depending on your needs.</span></span> <span data-ttu-id="71043-151">以下の一覧は、[対称型マルチプロセッシング](https://en.wikipedia.org/wiki/Symmetric_multiprocessing) (SMP) と[超並列処理](https://en.wikipedia.org/wiki/Massively_parallel) (MPP) という 2 つのカテゴリに分類されています。</span><span class="sxs-lookup"><span data-stu-id="71043-151">The following lists are broken into two categories, [symmetric multiprocessing](https://en.wikipedia.org/wiki/Symmetric_multiprocessing) (SMP) and [massively parallel processing](https://en.wikipedia.org/wiki/Massively_parallel) (MPP).</span></span>

<span data-ttu-id="71043-152">SMP:</span><span class="sxs-lookup"><span data-stu-id="71043-152">SMP:</span></span>

- [<span data-ttu-id="71043-153">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="71043-153">Azure SQL Database</span></span>](/azure/sql-database/)
- [<span data-ttu-id="71043-154">仮想マシンの SQL Server</span><span class="sxs-lookup"><span data-stu-id="71043-154">SQL Server in a virtual machine</span></span>](/sql/sql-server/sql-server-technical-documentation)

<span data-ttu-id="71043-155">MPP:</span><span class="sxs-lookup"><span data-stu-id="71043-155">MPP:</span></span>

- [<span data-ttu-id="71043-156">Azure データ ウェアハウス</span><span class="sxs-lookup"><span data-stu-id="71043-156">Azure Data Warehouse</span></span>](/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is)
- [<span data-ttu-id="71043-157">HDInsight 上の Apache Hive</span><span class="sxs-lookup"><span data-stu-id="71043-157">Apache Hive on HDInsight</span></span>](/azure/hdinsight/hadoop/hdinsight-use-hive)
- [<span data-ttu-id="71043-158">HDInsight 上の対話型クエリ (Hive LLAP)</span><span class="sxs-lookup"><span data-stu-id="71043-158">Interactive Query (Hive LLAP) on HDInsight</span></span>](/azure/hdinsight/interactive-query/apache-interactive-query-get-started)

<span data-ttu-id="71043-159">一般的な規則として、SMP ベースのウェアハウスは小規模から中規模のデータ セット (最大 4-100 TB) に最適であり、MPP は大規模なデータによく使用されます。</span><span class="sxs-lookup"><span data-stu-id="71043-159">As a general rule, SMP-based warehouses are best suited for small to medium data sets (up to 4-100 TB), while MPP is often used for big data.</span></span> <span data-ttu-id="71043-160">中小規模のデータとビッグ データの描写では、部分的に組織の定義とサポートするインフラストラクチャを扱う必要があります</span><span class="sxs-lookup"><span data-stu-id="71043-160">The delineation between small/medium and big data partly has to do with your organization's definition and supporting infrastructure.</span></span> <span data-ttu-id="71043-161">(「[Choosing an OLTP data store](online-transaction-processing.md#scalability-capabilities)」(OLTP データ ストアの選択) を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="71043-161">(See [Choosing an OLTP data store](online-transaction-processing.md#scalability-capabilities).)</span></span>

<span data-ttu-id="71043-162">データ サイズ以外に、ワークロード パターンの種類がより大きな決定要因になる場合がよくあります。</span><span class="sxs-lookup"><span data-stu-id="71043-162">Beyond data sizes, the type of workload pattern is likely to be a greater determining factor.</span></span> <span data-ttu-id="71043-163">たとえば、複雑なクエリの場合、SMP ソリューションでは遅すぎて、代わりに MPP ソリューションが必要になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="71043-163">For example, complex queries may be too slow for an SMP solution, and require an MPP solution instead.</span></span> <span data-ttu-id="71043-164">MPP ベースのシステムでは、ジョブがノード全体で分散および統合される方法によっては、データ サイズが小さくてもパフォーマンスが低下する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="71043-164">MPP-based systems are likely to impose a performance penalty with small data sizes, due to the way jobs are distributed and consolidated across nodes.</span></span> <span data-ttu-id="71043-165">データ サイズが既に 1 TB を超えており、継続的に大きくなると予想される場合は、MPP ソリューションの選択を検討してください。</span><span class="sxs-lookup"><span data-stu-id="71043-165">If your data sizes already exceed 1 TB and are expected to continually grow, consider selecting an MPP solution.</span></span> <span data-ttu-id="71043-166">ただし、データ サイズが 1 TB 未満でも、ワークロードが SMP ソリューションに使用可能なリソースを超えている場合は、MPP が最適なオプションになる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="71043-166">However, if your data sizes are less than this, but your workloads are exceeding the available resources of your SMP solution, then MPP may be your best option as well.</span></span>

<span data-ttu-id="71043-167">データ ウェアハウスにアクセスまたは格納されるデータは、[Azure Data Lake Store](/azure/data-lake-store/) などの Data Lake を含む複数のデータ ソースに由来する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="71043-167">The data accessed or stored by your data warehouse could come from a number of data sources, including a data lake, such as [Azure Data Lake Store](/azure/data-lake-store/).</span></span> <span data-ttu-id="71043-168">Azure Data Lake を使用できる MPP サービスのさまざまな長所を比較するビデオ セッションについては、「[Azure Data Lake and Azure Data Warehouse: Applying Modern Practices to Your App](https://azure.microsoft.com/resources/videos/build-2016-azure-data-lake-and-azure-data-warehouse-applying-modern-practices-to-your-app/)」 (Azure Data Lake と Azure Data Warehouse: 最新の手法をアプリケーションに適用する) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="71043-168">For a video session that compares the different strengths of MPP services that can use Azure Data Lake, see [Azure Data Lake and Azure Data Warehouse: Applying Modern Practices to Your App](https://azure.microsoft.com/resources/videos/build-2016-azure-data-lake-and-azure-data-warehouse-applying-modern-practices-to-your-app/).</span></span>

<span data-ttu-id="71043-169">SMP システムは、すべてのリソース (CPU/メモリ/ディスク) を共有するリレーショナル データベース管理システムの単一のインスタンスが特徴です。</span><span class="sxs-lookup"><span data-stu-id="71043-169">SMP systems are characterized by a single instance of a relational database management system sharing all resources (CPU/Memory/Disk).</span></span> <span data-ttu-id="71043-170">SMP システムはスケールアップすることができます。</span><span class="sxs-lookup"><span data-stu-id="71043-170">You can scale up an SMP system.</span></span> <span data-ttu-id="71043-171">VM 上で実行されている SQL Server の場合、VM サイズをスケールアップすることができます。</span><span class="sxs-lookup"><span data-stu-id="71043-171">For SQL Server running on a VM, you can scale up the VM size.</span></span> <span data-ttu-id="71043-172">Azure SQL Database の場合、別のサービス階層を選択してスケールアップすることができます。</span><span class="sxs-lookup"><span data-stu-id="71043-172">For Azure SQL Database, you can scale up by selecting a different service tier.</span></span>

<span data-ttu-id="71043-173">MPP システムは、(固有の CPU、メモリ、I/O サブシステムを持つ) コンピューティング ノードを追加することでスケールアウトできます。</span><span class="sxs-lookup"><span data-stu-id="71043-173">MPP systems can be scaled out by adding more compute nodes (which have their own CPU, memory and I/O subsystems).</span></span> <span data-ttu-id="71043-174">サーバーのスケールアップには物理的な制限があります。制限に達した場合、ワークロードによってはスケールアウトが望ましいことがあります。</span><span class="sxs-lookup"><span data-stu-id="71043-174">There are physical limitations to scaling up a server, at which point scaling out is more desirable, depending on the workload.</span></span> <span data-ttu-id="71043-175">ただし、MPP ソリューションでは、クエリ処理、モデリング、データのパーティション分割など、並列処理に固有の要因の違いに応じて、異なるスキルセットが必要です。</span><span class="sxs-lookup"><span data-stu-id="71043-175">However, MPP solutions require a different skillset, due to variances in querying, modeling, partitioning of data, and other factors unique to parallel processing.</span></span>

<span data-ttu-id="71043-176">使用する SMP ソリューションを決定する場合は、「[Azure SQL Database と Azure VM 上の SQL Server の詳細](/azure/sql-database/sql-database-paas-vs-sql-server-iaas#a-closer-look-at-azure-sql-database-and-sql-server-on-azure-vms)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="71043-176">When deciding which SMP solution to use, see [A closer look at Azure SQL Database and SQL Server on Azure VMs](/azure/sql-database/sql-database-paas-vs-sql-server-iaas#a-closer-look-at-azure-sql-database-and-sql-server-on-azure-vms).</span></span>

<span data-ttu-id="71043-177">Azure SQL Data Warehouse は、ワークロードがコンピューティングおよびメモリ集中型の中小規模のデータセットにも使用できます。</span><span class="sxs-lookup"><span data-stu-id="71043-177">Azure SQL Data Warehouse can also be used for small and medium datasets, where the workload is compute and memory intensive.</span></span> <span data-ttu-id="71043-178">SQL Data Warehouse のパターンと一般的なシナリオについては、以下を参照してください。</span><span class="sxs-lookup"><span data-stu-id="71043-178">Read more about SQL Data Warehouse patterns and common scenarios:</span></span>

- [<span data-ttu-id="71043-179">SQL Data Warehouse のパターンとアンチパターン</span><span class="sxs-lookup"><span data-stu-id="71043-179">SQL Data Warehouse Patterns and Anti-Patterns</span></span>](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/azure-sql-data-warehouse-workload-patterns-and-anti-patterns/)

- [<span data-ttu-id="71043-180">SQL Data Warehouse の読み込みパターンと戦略</span><span class="sxs-lookup"><span data-stu-id="71043-180">SQL Data Warehouse Loading Patterns and Strategies</span></span>](https://blogs.msdn.microsoft.com/sqlcat/2017/05/17/azure-sql-data-warehouse-loading-patterns-and-strategies/)

- [<span data-ttu-id="71043-181">Azure SQL Data Warehouse へのデータの移行</span><span class="sxs-lookup"><span data-stu-id="71043-181">Migrating Data to Azure SQL Data Warehouse</span></span>](https://blogs.msdn.microsoft.com/sqlcat/2016/08/18/migrating-data-to-azure-sql-data-warehouse-in-practice/)

- [<span data-ttu-id="71043-182">Azure SQL Data Warehouse を使用した一般的な ISV アプリケーション パターン</span><span class="sxs-lookup"><span data-stu-id="71043-182">Common ISV Application Patterns Using Azure SQL Data Warehouse</span></span>](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/common-isv-application-patterns-using-azure-sql-data-warehouse/)

## <a name="key-selection-criteria"></a><span data-ttu-id="71043-183">主要な選択条件</span><span class="sxs-lookup"><span data-stu-id="71043-183">Key selection criteria</span></span>

<span data-ttu-id="71043-184">選択肢を絞り込むために、まず次の質問に答えてください。</span><span class="sxs-lookup"><span data-stu-id="71043-184">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="71043-185">独自のサーバーを管理するのではなく、マネージド サービスを使用しますか。</span><span class="sxs-lookup"><span data-stu-id="71043-185">Do you want a managed service rather than managing your own servers?</span></span>

- <span data-ttu-id="71043-186">非常に大規模なデータ セットまたは非常に複雑で実行時間が長いクエリを使用しますか。</span><span class="sxs-lookup"><span data-stu-id="71043-186">Are you working with extremely large data sets or highly complex, long-running queries?</span></span> <span data-ttu-id="71043-187">"はい" の場合、MPP のオプションを検討してください。</span><span class="sxs-lookup"><span data-stu-id="71043-187">If yes, consider an MPP option.</span></span>

- <span data-ttu-id="71043-188">大規模なデータ セットの場合、データ ソースは構造化されていますか、それとも構造化されていませんか。</span><span class="sxs-lookup"><span data-stu-id="71043-188">For a large data set, is the data source structured or unstructured?</span></span> <span data-ttu-id="71043-189">非構造化データの処理には、HDInsight 上の Spark、Azure Databricks、HDInsight 上の Hive LLAP、Azure Data Lake Analytics などのビッグ データ環境が必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="71043-189">Unstructured data may need to be processed in a big data environment such as Spark on HDInsight, Azure Databricks, Hive LLAP on HDInsight, or Azure Data Lake Analytics.</span></span> <span data-ttu-id="71043-190">これらはいずれも、ELT (抽出、読み込み、変換) および ETL (抽出、変換、読み込み) エンジンとして機能します。</span><span class="sxs-lookup"><span data-stu-id="71043-190">All of these can serve as ELT (Extract, Load, Transform) and ETL (Extract, Transform, Load) engines.</span></span> <span data-ttu-id="71043-191">処理されたデータは構造化データに出力できるため、SQL Data Warehouse などのオプションへの読み込みが簡単になります。</span><span class="sxs-lookup"><span data-stu-id="71043-191">They can output the processed data into structured data, making it easier to load into SQL Data Warehouse or one of the other options.</span></span> <span data-ttu-id="71043-192">構造化データの場合、SQL Data Warehouse には、計算に最適化されたパフォーマンス階層があり、非常に高い性能が必要なコンピューティング集中型のワークロードに適しています。</span><span class="sxs-lookup"><span data-stu-id="71043-192">For structured data, SQL Data Warehouse has a performance tier called Optimized for Compute, for compute-intensive workloads requiring ultra-high performance.</span></span>

- <span data-ttu-id="71043-193">履歴データを現在の運用データから分離しますか。</span><span class="sxs-lookup"><span data-stu-id="71043-193">Do you want to separate your historical data from your current, operational data?</span></span> <span data-ttu-id="71043-194">"はい" の場合、[オーケストレーション](../technology-choices/pipeline-orchestration-data-movement.md)が必須のオプションのいずれかを選択します。</span><span class="sxs-lookup"><span data-stu-id="71043-194">If so, select one of the options where [orchestration](../technology-choices/pipeline-orchestration-data-movement.md) is required.</span></span> <span data-ttu-id="71043-195">大量の読み取りアクセスに合わせて最適化されたスタンドアロン ウェアハウスであり、個別の履歴データ ストアとして最適です。</span><span class="sxs-lookup"><span data-stu-id="71043-195">These are standalone warehouses optimized for heavy read access, and are best suited as a separate historical data store.</span></span>

- <span data-ttu-id="71043-196">OLTP データ ストア以外に、複数のソースのデータを統合する必要はありますか。</span><span class="sxs-lookup"><span data-stu-id="71043-196">Do you need to integrate data from several sources, beyond your OLTP data store?</span></span> <span data-ttu-id="71043-197">"はい" の場合、複数のデータ ソースを簡単に統合できるオプションを検討してください。</span><span class="sxs-lookup"><span data-stu-id="71043-197">If so, consider options that easily integrate multiple data sources.</span></span>

- <span data-ttu-id="71043-198">マルチテナントの要件はありますか。</span><span class="sxs-lookup"><span data-stu-id="71043-198">Do you have a multi-tenancy requirement?</span></span> <span data-ttu-id="71043-199">"はい" の場合、SQL Data Warehouse はこの要件には適していません。</span><span class="sxs-lookup"><span data-stu-id="71043-199">If so, SQL Data Warehouse is not ideal for this requirement.</span></span> <span data-ttu-id="71043-200">詳細については、「[SQL Data Warehouse Patterns and Anti-Patterns](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/azure-sql-data-warehouse-workload-patterns-and-anti-patterns/)」(SQL Data Warehouse のパターンとアンチパターン) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="71043-200">For more information, see [SQL Data Warehouse Patterns and Anti-Patterns](https://blogs.msdn.microsoft.com/sqlcat/2017/09/05/azure-sql-data-warehouse-workload-patterns-and-anti-patterns/).</span></span>

- <span data-ttu-id="71043-201">リレーショナル データ ストアを使用したいですか。</span><span class="sxs-lookup"><span data-stu-id="71043-201">Do you prefer a relational data store?</span></span> <span data-ttu-id="71043-202">"はい" の場合、リレーショナル データ ストアを使用するオプションに絞り込みます。また、必要に応じて、PolyBase などのツールを使用して非リレーショナル データ ストアに対してクエリを実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="71043-202">If so, narrow your options to those with a relational data store, but also note that you can use a tool like PolyBase to query non-relational data stores if needed.</span></span> <span data-ttu-id="71043-203">ただし、PolyBase を使用する場合は、ワークロードの非構造化データ セットに対してパフォーマンス テストを実行してください。</span><span class="sxs-lookup"><span data-stu-id="71043-203">If you decide to use PolyBase, however, run performance tests against your unstructured data sets for your workload.</span></span>

- <span data-ttu-id="71043-204">リアルタイム レポートの要件はありますか。</span><span class="sxs-lookup"><span data-stu-id="71043-204">Do you have real-time reporting requirements?</span></span> <span data-ttu-id="71043-205">大量のシングルトンの挿入に対するクエリの応答時間を短縮する必要がある場合は、リアルタイム レポートをサポートできるオプションに絞り込みます。</span><span class="sxs-lookup"><span data-stu-id="71043-205">If you require rapid query response times on high volumes of singleton inserts, narrow your options to those that can support real-time reporting.</span></span>

- <span data-ttu-id="71043-206">多数の同時ユーザーと接続をサポートする必要はありますか。</span><span class="sxs-lookup"><span data-stu-id="71043-206">Do you need to support a large number of concurrent users and connections?</span></span> <span data-ttu-id="71043-207">多数の同時ユーザー/接続をサポートする能力は、いくつかの要因によって変わります。</span><span class="sxs-lookup"><span data-stu-id="71043-207">The ability to support a number of concurrent users/connections depends on several factors.</span></span>

  - <span data-ttu-id="71043-208">Azure SQL Database については、サービス階層に基づく[リソース制限のドキュメント](/azure/sql-database/sql-database-resource-limits)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="71043-208">For Azure SQL Database, refer to the [documented resource limits](/azure/sql-database/sql-database-resource-limits) based on your service tier.</span></span>
  
  - <span data-ttu-id="71043-209">SQL Server は、最大 32,767 ユーザーの接続に対応しています。</span><span class="sxs-lookup"><span data-stu-id="71043-209">SQL Server allows a maximum of 32,767 user connections.</span></span> <span data-ttu-id="71043-210">VM 上で実行する場合、パフォーマンスは VM のサイズやその他の要因によって変わります。</span><span class="sxs-lookup"><span data-stu-id="71043-210">When running on a VM, performance will depend on the VM size and other factors.</span></span>

  - <span data-ttu-id="71043-211">SQL Data Warehouse には、コンカレント クエリとコンカレント接続の制限があります。</span><span class="sxs-lookup"><span data-stu-id="71043-211">SQL Data Warehouse has limits on concurrent queries and concurrent connections.</span></span> <span data-ttu-id="71043-212">詳細については、「[SQL Data Warehouse でのコンカレンシーとワークロード管理](/azure/sql-data-warehouse/sql-data-warehouse-develop-concurrency)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="71043-212">For more information, see [Concurrency and workload management in SQL Data Warehouse](/azure/sql-data-warehouse/sql-data-warehouse-develop-concurrency).</span></span> <span data-ttu-id="71043-213">SQL Data Warehouse の制限を克服するには、[Azure Analysis Services](/azure/analysis-services/analysis-services-overview) などの補完的なサービスを使用することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="71043-213">Consider using complementary services, such as [Azure Analysis Services](/azure/analysis-services/analysis-services-overview), to overcome limits in SQL Data Warehouse.</span></span>

- <span data-ttu-id="71043-214">どのような種類のワークロードがありますか。</span><span class="sxs-lookup"><span data-stu-id="71043-214">What sort of workload do you have?</span></span> <span data-ttu-id="71043-215">一般に、MPP ベースのウェアハウス ソリューションは、分析のバッチ指向ワークロードに最適です。</span><span class="sxs-lookup"><span data-stu-id="71043-215">In general, MPP-based warehouse solutions are best suited for analytical, batch-oriented workloads.</span></span> <span data-ttu-id="71043-216">ワークロードの性質がトランザクショナルで、小規模な読み取り/書き込み操作が多数ある場合、または行ごとの操作が複数ある場合は、SMP のオプションのいずれかを使用することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="71043-216">If your workloads are transactional by nature, with many small read/write operations or multiple row-by-row operations, consider using one of the SMP options.</span></span> <span data-ttu-id="71043-217">このガイドラインの 1 つの例外は、HDInsight クラスター上で Spark Streaming などのストリーム処理を使用し、Hive テーブルにデータを格納する場合です。</span><span class="sxs-lookup"><span data-stu-id="71043-217">One exception to this guideline is when using stream processing on an HDInsight cluster, such as Spark Streaming, and storing the data within a Hive table.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="71043-218">機能のマトリックス</span><span class="sxs-lookup"><span data-stu-id="71043-218">Capability Matrix</span></span>

<span data-ttu-id="71043-219">次の表は、機能の主な相違点をまとめたものです。</span><span class="sxs-lookup"><span data-stu-id="71043-219">The following tables summarize the key differences in capabilities.</span></span>

### <a name="general-capabilities"></a><span data-ttu-id="71043-220">一般的な機能</span><span class="sxs-lookup"><span data-stu-id="71043-220">General capabilities</span></span>

<!-- markdownlint-disable MD033 -->

| | <span data-ttu-id="71043-221">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="71043-221">Azure SQL Database</span></span> | <span data-ttu-id="71043-222">SQL Server (VM)</span><span class="sxs-lookup"><span data-stu-id="71043-222">SQL Server (VM)</span></span> | <span data-ttu-id="71043-223">SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="71043-223">SQL Data Warehouse</span></span> | <span data-ttu-id="71043-224">HDInsight 上の Apache Hive</span><span class="sxs-lookup"><span data-stu-id="71043-224">Apache Hive on HDInsight</span></span> | <span data-ttu-id="71043-225">HDInsight 上の Hive LLAP</span><span class="sxs-lookup"><span data-stu-id="71043-225">Hive LLAP on HDInsight</span></span> |
| --- | --- | --- | --- | --- | --- | -- |
| <span data-ttu-id="71043-226">マネージド サービスか</span><span class="sxs-lookup"><span data-stu-id="71043-226">Is managed service</span></span> | <span data-ttu-id="71043-227">はい</span><span class="sxs-lookup"><span data-stu-id="71043-227">Yes</span></span> | <span data-ttu-id="71043-228">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-228">No</span></span> | <span data-ttu-id="71043-229">はい</span><span class="sxs-lookup"><span data-stu-id="71043-229">Yes</span></span> | <span data-ttu-id="71043-230">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-230">Yes <sup>1</sup></span></span> | <span data-ttu-id="71043-231">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-231">Yes <sup>1</sup></span></span> |
| <span data-ttu-id="71043-232">データのオーケストレーションが必要 (データのコピー/履歴データを保持)</span><span class="sxs-lookup"><span data-stu-id="71043-232">Requires data orchestration (holds copy of data/historical data)</span></span> | <span data-ttu-id="71043-233">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-233">No</span></span> | <span data-ttu-id="71043-234">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-234">No</span></span> | <span data-ttu-id="71043-235">可能 </span><span class="sxs-lookup"><span data-stu-id="71043-235">Yes</span></span> | <span data-ttu-id="71043-236">はい</span><span class="sxs-lookup"><span data-stu-id="71043-236">Yes</span></span> | <span data-ttu-id="71043-237">はい</span><span class="sxs-lookup"><span data-stu-id="71043-237">Yes</span></span> |
| <span data-ttu-id="71043-238">複数のデータ ソースを簡単に統合</span><span class="sxs-lookup"><span data-stu-id="71043-238">Easily integrate multiple data sources</span></span> | <span data-ttu-id="71043-239">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-239">No</span></span> | <span data-ttu-id="71043-240">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-240">No</span></span> | <span data-ttu-id="71043-241">可能 </span><span class="sxs-lookup"><span data-stu-id="71043-241">Yes</span></span> | <span data-ttu-id="71043-242">はい</span><span class="sxs-lookup"><span data-stu-id="71043-242">Yes</span></span> | <span data-ttu-id="71043-243">はい</span><span class="sxs-lookup"><span data-stu-id="71043-243">Yes</span></span> |
| <span data-ttu-id="71043-244">計算の一時停止をサポート</span><span class="sxs-lookup"><span data-stu-id="71043-244">Supports pausing compute</span></span> | <span data-ttu-id="71043-245">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-245">No</span></span> | <span data-ttu-id="71043-246">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-246">No</span></span> | <span data-ttu-id="71043-247">はい</span><span class="sxs-lookup"><span data-stu-id="71043-247">Yes</span></span> | <span data-ttu-id="71043-248">いいえ <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="71043-248">No <sup>2</sup></span></span> | <span data-ttu-id="71043-249">いいえ <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="71043-249">No <sup>2</sup></span></span> |
| <span data-ttu-id="71043-250">リレーショナル データ ストア</span><span class="sxs-lookup"><span data-stu-id="71043-250">Relational data store</span></span> | <span data-ttu-id="71043-251">はい</span><span class="sxs-lookup"><span data-stu-id="71043-251">Yes</span></span> | <span data-ttu-id="71043-252">はい</span><span class="sxs-lookup"><span data-stu-id="71043-252">Yes</span></span> |  <span data-ttu-id="71043-253">はい</span><span class="sxs-lookup"><span data-stu-id="71043-253">Yes</span></span> | <span data-ttu-id="71043-254">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-254">No</span></span> | <span data-ttu-id="71043-255">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-255">No</span></span> |
| <span data-ttu-id="71043-256">リアルタイムのレポート</span><span class="sxs-lookup"><span data-stu-id="71043-256">Real-time reporting</span></span> | <span data-ttu-id="71043-257">はい</span><span class="sxs-lookup"><span data-stu-id="71043-257">Yes</span></span> | <span data-ttu-id="71043-258">はい</span><span class="sxs-lookup"><span data-stu-id="71043-258">Yes</span></span> | <span data-ttu-id="71043-259">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-259">No</span></span> | <span data-ttu-id="71043-260">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-260">No</span></span> | <span data-ttu-id="71043-261">はい</span><span class="sxs-lookup"><span data-stu-id="71043-261">Yes</span></span> |
| <span data-ttu-id="71043-262">柔軟なバックアップの復元ポイント</span><span class="sxs-lookup"><span data-stu-id="71043-262">Flexible backup restore points</span></span> | <span data-ttu-id="71043-263">はい</span><span class="sxs-lookup"><span data-stu-id="71043-263">Yes</span></span> | <span data-ttu-id="71043-264">はい</span><span class="sxs-lookup"><span data-stu-id="71043-264">Yes</span></span> | <span data-ttu-id="71043-265">いいえ <sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="71043-265">No <sup>3</sup></span></span> | <span data-ttu-id="71043-266">はい <sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="71043-266">Yes <sup>4</sup></span></span> | <span data-ttu-id="71043-267">はい <sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="71043-267">Yes <sup>4</sup></span></span> |
| <span data-ttu-id="71043-268">SMP/MPP</span><span class="sxs-lookup"><span data-stu-id="71043-268">SMP/MPP</span></span> | <span data-ttu-id="71043-269">SMP</span><span class="sxs-lookup"><span data-stu-id="71043-269">SMP</span></span> | <span data-ttu-id="71043-270">SMP</span><span class="sxs-lookup"><span data-stu-id="71043-270">SMP</span></span> | <span data-ttu-id="71043-271">MPP</span><span class="sxs-lookup"><span data-stu-id="71043-271">MPP</span></span> | <span data-ttu-id="71043-272">MPP</span><span class="sxs-lookup"><span data-stu-id="71043-272">MPP</span></span> | <span data-ttu-id="71043-273">MPP</span><span class="sxs-lookup"><span data-stu-id="71043-273">MPP</span></span> |

<!-- markdownlint-enable MD033 -->

<span data-ttu-id="71043-274">[1] 手動構成とスケーリング。</span><span class="sxs-lookup"><span data-stu-id="71043-274">[1] Manual configuration and scaling.</span></span>

<span data-ttu-id="71043-275">[2] HDInsight クラスターは、不要になった場合は削除し、再作成することができます。</span><span class="sxs-lookup"><span data-stu-id="71043-275">[2] HDInsight clusters can be deleted when not needed, and then re-created.</span></span> <span data-ttu-id="71043-276">クラスターを削除する場合は、外部データ ストアをクラスターに接続して、データが保持されるようにしてください。</span><span class="sxs-lookup"><span data-stu-id="71043-276">Attach an external data store to your cluster so your data is retained when you delete your cluster.</span></span> <span data-ttu-id="71043-277">Azure Data Factory を使用してクラスターのライフサイクルを自動化するには、オンデマンド HDInsight クラスターを作成してワークロードを処理し、処理が完了したら削除します。</span><span class="sxs-lookup"><span data-stu-id="71043-277">You can use Azure Data Factory to automate your cluster's lifecycle by creating an on-demand HDInsight cluster to process your workload, then delete it once the processing is complete.</span></span>

<span data-ttu-id="71043-278">[3] SQL Data Warehouse では、過去 7 日間の任意の復元ポイントにデータベースを復元できます。</span><span class="sxs-lookup"><span data-stu-id="71043-278">[3] With SQL Data Warehouse, you can restore a database to any available restore point within the last seven days.</span></span> <span data-ttu-id="71043-279">スナップショットは 4 ～ 8 時間ごとに開始され、7 日間使用できます。</span><span class="sxs-lookup"><span data-stu-id="71043-279">Snapshots start every four to eight hours and are available for seven days.</span></span> <span data-ttu-id="71043-280">スナップショットが 7 日間以上経過した場合、期限切れとなり、復元ポイントは使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="71043-280">When a snapshot is older than seven days, it expires and its restore point is no longer available.</span></span>

<span data-ttu-id="71043-281">[4] 必要に応じて、バックアップおよび復元が可能な[外部 Hive メタストア](/azure/hdinsight/hdinsight-hadoop-provision-linux-clusters#use-hiveoozie-metastore)の使用を検討してください。</span><span class="sxs-lookup"><span data-stu-id="71043-281">[4] Consider using an [external Hive metastore](/azure/hdinsight/hdinsight-hadoop-provision-linux-clusters#use-hiveoozie-metastore) that can be backed up and restored as needed.</span></span> <span data-ttu-id="71043-282">BLOB Storage または Data Lake Store に適用される標準的なバックアップと復元のオプションをデータに使用できます。また、より柔軟で使いやすいソリューションが必要な場合は、[Imanis Data](https://azure.microsoft.com/blog/imanis-data-cloud-migration-backup-for-your-big-data-applications-on-azure-hdinsight/) などのサード パーティの HDInsight バックアップおよび復元ソリューションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="71043-282">Standard backup and restore options that apply to Blob Storage or Data Lake Store can be used for the data, or third party HDInsight backup and restore solutions, such as [Imanis Data](https://azure.microsoft.com/blog/imanis-data-cloud-migration-backup-for-your-big-data-applications-on-azure-hdinsight/) can be used for greater flexibility and ease of use.</span></span>

### <a name="scalability-capabilities"></a><span data-ttu-id="71043-283">スケーラビリティ機能</span><span class="sxs-lookup"><span data-stu-id="71043-283">Scalability capabilities</span></span>

<!-- markdownlint-disable MD033 -->

| | <span data-ttu-id="71043-284">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="71043-284">Azure SQL Database</span></span> | <span data-ttu-id="71043-285">SQL Server (VM)</span><span class="sxs-lookup"><span data-stu-id="71043-285">SQL Server (VM)</span></span> |  <span data-ttu-id="71043-286">SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="71043-286">SQL Data Warehouse</span></span> | <span data-ttu-id="71043-287">HDInsight 上の Apache Hive</span><span class="sxs-lookup"><span data-stu-id="71043-287">Apache Hive on HDInsight</span></span> | <span data-ttu-id="71043-288">HDInsight 上の Hive LLAP</span><span class="sxs-lookup"><span data-stu-id="71043-288">Hive LLAP on HDInsight</span></span> |
| --- | --- | --- | --- | --- | --- | -- |
| <span data-ttu-id="71043-289">高可用性のための冗長リージョン サーバー</span><span class="sxs-lookup"><span data-stu-id="71043-289">Redundant regional servers for high availability</span></span>  | <span data-ttu-id="71043-290">はい</span><span class="sxs-lookup"><span data-stu-id="71043-290">Yes</span></span> | <span data-ttu-id="71043-291">はい</span><span class="sxs-lookup"><span data-stu-id="71043-291">Yes</span></span> | <span data-ttu-id="71043-292">はい</span><span class="sxs-lookup"><span data-stu-id="71043-292">Yes</span></span> | <span data-ttu-id="71043-293">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-293">No</span></span> | <span data-ttu-id="71043-294">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-294">No</span></span> |
| <span data-ttu-id="71043-295">クエリのスケールアウト (分散クエリ) をサポート</span><span class="sxs-lookup"><span data-stu-id="71043-295">Supports query scale out (distributed queries)</span></span>  | <span data-ttu-id="71043-296">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-296">No</span></span> | <span data-ttu-id="71043-297">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-297">No</span></span> | <span data-ttu-id="71043-298">可能 </span><span class="sxs-lookup"><span data-stu-id="71043-298">Yes</span></span> | <span data-ttu-id="71043-299">はい</span><span class="sxs-lookup"><span data-stu-id="71043-299">Yes</span></span> | <span data-ttu-id="71043-300">はい</span><span class="sxs-lookup"><span data-stu-id="71043-300">Yes</span></span> |
| <span data-ttu-id="71043-301">動的スケーラビリティ</span><span class="sxs-lookup"><span data-stu-id="71043-301">Dynamic scalability</span></span> | <span data-ttu-id="71043-302">はい</span><span class="sxs-lookup"><span data-stu-id="71043-302">Yes</span></span> | <span data-ttu-id="71043-303">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-303">No</span></span> | <span data-ttu-id="71043-304">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-304">Yes <sup>1</sup></span></span> | <span data-ttu-id="71043-305">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-305">No</span></span> | <span data-ttu-id="71043-306">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-306">No</span></span> |
| <span data-ttu-id="71043-307">データのメモリ内キャッシュをサポート</span><span class="sxs-lookup"><span data-stu-id="71043-307">Supports in-memory caching of data</span></span> | <span data-ttu-id="71043-308">はい</span><span class="sxs-lookup"><span data-stu-id="71043-308">Yes</span></span> |  <span data-ttu-id="71043-309">はい</span><span class="sxs-lookup"><span data-stu-id="71043-309">Yes</span></span> | <span data-ttu-id="71043-310">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-310">No</span></span> | <span data-ttu-id="71043-311">可能 </span><span class="sxs-lookup"><span data-stu-id="71043-311">Yes</span></span> | <span data-ttu-id="71043-312">はい</span><span class="sxs-lookup"><span data-stu-id="71043-312">Yes</span></span> |

<span data-ttu-id="71043-313">[1] SQL Data Warehouse を使用すると、Data Warehouse ユニット (DWU) の数を調整してスケールアップまたはスケールダウンできます。</span><span class="sxs-lookup"><span data-stu-id="71043-313">[1] SQL Data Warehouse allows you to scale up or down by adjusting the number of data warehouse units (DWUs).</span></span> <span data-ttu-id="71043-314">「[Azure SQL Data Warehouse のコンピューティング能力の管理](/azure/sql-data-warehouse/sql-data-warehouse-manage-compute-overview)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="71043-314">See [Manage compute power in Azure SQL Data Warehouse](/azure/sql-data-warehouse/sql-data-warehouse-manage-compute-overview).</span></span>

<!-- markdownlint-enable MD033 -->

### <a name="security-capabilities"></a><span data-ttu-id="71043-315">セキュリティ機能</span><span class="sxs-lookup"><span data-stu-id="71043-315">Security capabilities</span></span>

<!-- markdownlint-disable MD033 -->

|                         |           <span data-ttu-id="71043-316">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="71043-316">Azure SQL Database</span></span>            |  <span data-ttu-id="71043-317">仮想マシンの SQL Server</span><span class="sxs-lookup"><span data-stu-id="71043-317">SQL Server in a virtual machine</span></span>  | <span data-ttu-id="71043-318">SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="71043-318">SQL Data Warehouse</span></span> |   <span data-ttu-id="71043-319">HDInsight 上の Apache Hive</span><span class="sxs-lookup"><span data-stu-id="71043-319">Apache Hive on HDInsight</span></span>    |    <span data-ttu-id="71043-320">HDInsight 上の Hive LLAP</span><span class="sxs-lookup"><span data-stu-id="71043-320">Hive LLAP on HDInsight</span></span>     |
|-------------------------|-----------------------------------------|-----------------------------------|--------------------|-------------------------------|-------------------------------|
|     <span data-ttu-id="71043-321">認証</span><span class="sxs-lookup"><span data-stu-id="71043-321">Authentication</span></span>      | <span data-ttu-id="71043-322">SQL / Azure Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="71043-322">SQL / Azure Active Directory (Azure AD)</span></span> | <span data-ttu-id="71043-323">SQL / Azure AD / Active Directory</span><span class="sxs-lookup"><span data-stu-id="71043-323">SQL / Azure AD / Active Directory</span></span> |   <span data-ttu-id="71043-324">SQL / Azure AD</span><span class="sxs-lookup"><span data-stu-id="71043-324">SQL / Azure AD</span></span>   | <span data-ttu-id="71043-325">ローカル / Azure AD <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-325">local / Azure AD <sup>1</sup></span></span> | <span data-ttu-id="71043-326">ローカル / Azure AD <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-326">local / Azure AD <sup>1</sup></span></span> |
|      <span data-ttu-id="71043-327">承認</span><span class="sxs-lookup"><span data-stu-id="71043-327">Authorization</span></span>      |                   <span data-ttu-id="71043-328">はい</span><span class="sxs-lookup"><span data-stu-id="71043-328">Yes</span></span>                   |                <span data-ttu-id="71043-329">はい</span><span class="sxs-lookup"><span data-stu-id="71043-329">Yes</span></span>                |        <span data-ttu-id="71043-330">はい</span><span class="sxs-lookup"><span data-stu-id="71043-330">Yes</span></span>         |              <span data-ttu-id="71043-331">はい</span><span class="sxs-lookup"><span data-stu-id="71043-331">Yes</span></span>              |       <span data-ttu-id="71043-332">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-332">Yes <sup>1</sup></span></span>        |
|        <span data-ttu-id="71043-333">監査</span><span class="sxs-lookup"><span data-stu-id="71043-333">Auditing</span></span>         |                   <span data-ttu-id="71043-334">はい</span><span class="sxs-lookup"><span data-stu-id="71043-334">Yes</span></span>                   |                <span data-ttu-id="71043-335">はい</span><span class="sxs-lookup"><span data-stu-id="71043-335">Yes</span></span>                |        <span data-ttu-id="71043-336">はい</span><span class="sxs-lookup"><span data-stu-id="71043-336">Yes</span></span>         |              <span data-ttu-id="71043-337">はい</span><span class="sxs-lookup"><span data-stu-id="71043-337">Yes</span></span>              |       <span data-ttu-id="71043-338">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-338">Yes <sup>1</sup></span></span>        |
| <span data-ttu-id="71043-339">保存データの暗号化</span><span class="sxs-lookup"><span data-stu-id="71043-339">Data encryption at rest</span></span> |            <span data-ttu-id="71043-340">はい <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="71043-340">Yes <sup>2</sup></span></span>             |         <span data-ttu-id="71043-341">はい <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="71043-341">Yes <sup>2</sup></span></span>          |  <span data-ttu-id="71043-342">はい <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="71043-342">Yes <sup>2</sup></span></span>  |       <span data-ttu-id="71043-343">はい <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="71043-343">Yes <sup>2</sup></span></span>        |       <span data-ttu-id="71043-344">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-344">Yes <sup>1</sup></span></span>        |
|   <span data-ttu-id="71043-345">行レベルのセキュリティ</span><span class="sxs-lookup"><span data-stu-id="71043-345">Row-level security</span></span>    |                   <span data-ttu-id="71043-346">はい</span><span class="sxs-lookup"><span data-stu-id="71043-346">Yes</span></span>                   |                <span data-ttu-id="71043-347">はい</span><span class="sxs-lookup"><span data-stu-id="71043-347">Yes</span></span>                |        <span data-ttu-id="71043-348">はい</span><span class="sxs-lookup"><span data-stu-id="71043-348">Yes</span></span>         |              <span data-ttu-id="71043-349">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-349">No</span></span>               |       <span data-ttu-id="71043-350">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-350">Yes <sup>1</sup></span></span>        |
|   <span data-ttu-id="71043-351">ファイアウォールをサポート</span><span class="sxs-lookup"><span data-stu-id="71043-351">Supports firewalls</span></span>    |                   <span data-ttu-id="71043-352">はい</span><span class="sxs-lookup"><span data-stu-id="71043-352">Yes</span></span>                   |                <span data-ttu-id="71043-353">はい</span><span class="sxs-lookup"><span data-stu-id="71043-353">Yes</span></span>                |        <span data-ttu-id="71043-354">はい</span><span class="sxs-lookup"><span data-stu-id="71043-354">Yes</span></span>         |              <span data-ttu-id="71043-355">はい</span><span class="sxs-lookup"><span data-stu-id="71043-355">Yes</span></span>              |       <span data-ttu-id="71043-356">はい <sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="71043-356">Yes <sup>3</sup></span></span>        |
|  <span data-ttu-id="71043-357">動的データ マスク</span><span class="sxs-lookup"><span data-stu-id="71043-357">Dynamic data masking</span></span>   |                   <span data-ttu-id="71043-358">はい</span><span class="sxs-lookup"><span data-stu-id="71043-358">Yes</span></span>                   |                <span data-ttu-id="71043-359">はい</span><span class="sxs-lookup"><span data-stu-id="71043-359">Yes</span></span>                |        <span data-ttu-id="71043-360">はい</span><span class="sxs-lookup"><span data-stu-id="71043-360">Yes</span></span>         |              <span data-ttu-id="71043-361">いいえ </span><span class="sxs-lookup"><span data-stu-id="71043-361">No</span></span>               |       <span data-ttu-id="71043-362">はい <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="71043-362">Yes <sup>1</sup></span></span>        |

<!-- markdownlint-enable MD033 -->

<span data-ttu-id="71043-363">[1] [ドメイン参加済み HDInsight クラスター](/azure/hdinsight/domain-joined/apache-domain-joined-introduction)を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="71043-363">[1] Requires using a [domain-joined HDInsight cluster](/azure/hdinsight/domain-joined/apache-domain-joined-introduction).</span></span>

<span data-ttu-id="71043-364">[2] 保存データの暗号化と暗号化の解除には、Transparent Data Encryption (TDE) を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="71043-364">[2] Requires using Transparent Data Encryption (TDE) to encrypt and decrypt your data at rest.</span></span>

<span data-ttu-id="71043-365">[3] [Azure Virtual Network 内で使用する](/azure/hdinsight/hdinsight-extend-hadoop-virtual-network)場合にサポートされます。</span><span class="sxs-lookup"><span data-stu-id="71043-365">[3] Supported when [used within an Azure Virtual Network](/azure/hdinsight/hdinsight-extend-hadoop-virtual-network).</span></span>

<span data-ttu-id="71043-366">データ ウェアハウスのセキュリティ保護の詳細については、以下を参照してください。</span><span class="sxs-lookup"><span data-stu-id="71043-366">Read more about securing your data warehouse:</span></span>

- [<span data-ttu-id="71043-367">SQL Database の保護</span><span class="sxs-lookup"><span data-stu-id="71043-367">Securing your SQL Database</span></span>](/azure/sql-database/sql-database-security-overview#connection-security)

- [<span data-ttu-id="71043-368">SQL Data Warehouse でのデータベース保護</span><span class="sxs-lookup"><span data-stu-id="71043-368">Secure a database in SQL Data Warehouse</span></span>](/azure/sql-data-warehouse/sql-data-warehouse-overview-manage-security)

- [<span data-ttu-id="71043-369">Azure Virtual Network を使用した Azure HDInsight の拡張</span><span class="sxs-lookup"><span data-stu-id="71043-369">Extend Azure HDInsight using an Azure Virtual Network</span></span>](/azure/hdinsight/hdinsight-extend-hadoop-virtual-network)

- [<span data-ttu-id="71043-370">ドメイン参加済み HDInsight クラスターでの Hadoop セキュリティの概要</span><span class="sxs-lookup"><span data-stu-id="71043-370">Enterprise-level Hadoop security with domain-joined HDInsight clusters</span></span>](/azure/hdinsight/domain-joined/apache-domain-joined-introduction)
